[["Map",1,2,9,10,62,63],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.13.5","content-config-digest","4647e097366a9f9a","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://docs.pepr.dev\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"where\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":false,\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,null,null],\"rehypePlugins\":[null,[null,{\"experimentalHeadingIdCompat\":false}],null,[null,{\"themes\":[{\"name\":\"Night Owl No Italics\",\"type\":\"dark\",\"colors\":{\"focusBorder\":\"#122d42\",\"foreground\":\"#d6deeb\",\"disabledForeground\":\"#cccccc80\",\"descriptionForeground\":\"#d6deebb3\",\"errorForeground\":\"#ef5350\",\"icon.foreground\":\"#c5c5c5\",\"contrastActiveBorder\":null,\"contrastBorder\":\"#122d42\",\"textBlockQuote.background\":\"#7f7f7f1a\",\"textBlockQuote.border\":\"#007acc80\",\"textCodeBlock.background\":\"#4f4f4f\",\"textLink.activeForeground\":\"#3794ff\",\"textLink.foreground\":\"#3794ff\",\"textPreformat.foreground\":\"#d7ba7d\",\"textSeparator.foreground\":\"#ffffff2e\",\"editor.background\":\"#23262f\",\"editor.foreground\":\"#d6deeb\",\"editorLineNumber.foreground\":\"#4b6479\",\"editorLineNumber.activeForeground\":\"#c5e4fd\",\"editorActiveLineNumber.foreground\":\"#c6c6c6\",\"editor.selectionBackground\":\"#1d3b53\",\"editor.inactiveSelectionBackground\":\"#7e57c25a\",\"editor.selectionHighlightBackground\":\"#5f7e9779\",\"editorError.foreground\":\"#ef5350\",\"editorWarning.foreground\":\"#b39554\",\"editorInfo.foreground\":\"#3794ff\",\"editorHint.foreground\":\"#eeeeeeb2\",\"problemsErrorIcon.foreground\":\"#ef5350\",\"problemsWarningIcon.foreground\":\"#b39554\",\"problemsInfoIcon.foreground\":\"#3794ff\",\"editor.findMatchBackground\":\"#5f7e9779\",\"editor.findMatchHighlightBackground\":\"#1085bb5d\",\"editor.findRangeHighlightBackground\":\"#3a3d4166\",\"editorLink.activeForeground\":\"#4e94ce\",\"editorLightBulb.foreground\":\"#ffcc00\",\"editorLightBulbAutoFix.foreground\":\"#75beff\",\"diffEditor.insertedTextBackground\":\"#99b76d23\",\"diffEditor.insertedTextBorder\":\"#c5e47833\",\"diffEditor.removedTextBackground\":\"#ef535033\",\"diffEditor.removedTextBorder\":\"#ef53504d\",\"diffEditor.insertedLineBackground\":\"#9bb95533\",\"diffEditor.removedLineBackground\":\"#ff000033\",\"editorStickyScroll.background\":\"#011627\",\"editorStickyScrollHover.background\":\"#2a2d2e\",\"editorInlayHint.background\":\"#5f7e97cc\",\"editorInlayHint.foreground\":\"#ffffff\",\"editorInlayHint.typeBackground\":\"#5f7e97cc\",\"editorInlayHint.typeForeground\":\"#ffffff\",\"editorInlayHint.parameterBackground\":\"#5f7e97cc\",\"editorInlayHint.parameterForeground\":\"#ffffff\",\"editorPane.background\":\"#011627\",\"editorGroup.emptyBackground\":\"#011627\",\"editorGroup.focusedEmptyBorder\":null,\"editorGroupHeader.tabsBackground\":\"var(--sl-color-black)\",\"editorGroupHeader.tabsBorder\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"editorGroupHeader.noTabsBackground\":\"#011627\",\"editorGroupHeader.border\":null,\"editorGroup.border\":\"#011627\",\"editorGroup.dropBackground\":\"#7e57c273\",\"editorGroup.dropIntoPromptForeground\":\"#d6deeb\",\"editorGroup.dropIntoPromptBackground\":\"#021320\",\"editorGroup.dropIntoPromptBorder\":null,\"sideBySideEditor.horizontalBorder\":\"#011627\",\"sideBySideEditor.verticalBorder\":\"#011627\",\"scrollbar.shadow\":\"#010b14\",\"scrollbarSlider.background\":\"#ffffff17\",\"scrollbarSlider.hoverBackground\":\"#ffffff40\",\"scrollbarSlider.activeBackground\":\"#084d8180\",\"panel.background\":\"#011627\",\"panel.border\":\"#5f7e97\",\"panelTitle.activeBorder\":\"#5f7e97\",\"panelTitle.activeForeground\":\"#ffffffcc\",\"panelTitle.inactiveForeground\":\"#d6deeb80\",\"panelSectionHeader.background\":\"#80808051\",\"terminal.background\":\"#011627\",\"widget.shadow\":\"#011627\",\"editorWidget.background\":\"#021320\",\"editorWidget.foreground\":\"#d6deeb\",\"editorWidget.border\":\"#5f7e97\",\"quickInput.background\":\"#021320\",\"quickInput.foreground\":\"#d6deeb\",\"quickInputTitle.background\":\"#ffffff1a\",\"pickerGroup.foreground\":\"#d1aaff\",\"pickerGroup.border\":\"#011627\",\"editor.hoverHighlightBackground\":\"#7e57c25a\",\"editorHoverWidget.background\":\"#011627\",\"editorHoverWidget.foreground\":\"#d6deeb\",\"editorHoverWidget.border\":\"#5f7e97\",\"editorHoverWidget.statusBarBackground\":\"#011a2f\",\"titleBar.activeBackground\":\"var(--sl-color-black)\",\"titleBar.activeForeground\":\"var(--sl-color-text)\",\"titleBar.inactiveBackground\":\"#010e1a\",\"titleBar.inactiveForeground\":\"#eeefff99\",\"titleBar.border\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"toolbar.hoverBackground\":\"#5a5d5e50\",\"toolbar.activeBackground\":\"#63666750\",\"tab.activeBackground\":\"#0b2942\",\"tab.unfocusedActiveBackground\":\"#0b2942\",\"tab.inactiveBackground\":\"#01111d\",\"tab.unfocusedInactiveBackground\":\"#01111d\",\"tab.activeForeground\":\"var(--sl-color-text)\",\"tab.inactiveForeground\":\"#5f7e97\",\"tab.unfocusedActiveForeground\":\"#5f7e97\",\"tab.unfocusedInactiveForeground\":\"#5f7e97\",\"tab.hoverBackground\":null,\"tab.unfocusedHoverBackground\":null,\"tab.hoverForeground\":null,\"tab.unfocusedHoverForeground\":null,\"tab.border\":\"#272b3b\",\"tab.lastPinnedBorder\":\"#585858\",\"tab.activeBorder\":\"transparent\",\"tab.unfocusedActiveBorder\":\"#262a39\",\"tab.activeBorderTop\":\"var(--sl-color-accent-high)\",\"tab.unfocusedActiveBorderTop\":null,\"tab.hoverBorder\":null,\"tab.unfocusedHoverBorder\":null,\"tab.activeModifiedBorder\":\"#3399cc\",\"tab.inactiveModifiedBorder\":\"#3399cc80\",\"tab.unfocusedActiveModifiedBorder\":\"#3399cc80\",\"tab.unfocusedInactiveModifiedBorder\":\"#3399cc40\",\"badge.background\":\"#5f7e97\",\"badge.foreground\":\"#ffffff\",\"button.background\":\"#7e57c2cc\",\"button.foreground\":\"#ffffffcc\",\"button.border\":\"#122d42\",\"button.separator\":\"#ffffff52\",\"button.hoverBackground\":\"#7e57c2\",\"button.secondaryBackground\":\"#3a3d41\",\"button.secondaryForeground\":\"#ffffff\",\"button.secondaryHoverBackground\":\"#46494e\",\"dropdown.background\":\"#011627\",\"dropdown.foreground\":\"#ffffffcc\",\"dropdown.border\":\"#5f7e97\",\"list.activeSelectionBackground\":\"#234d708c\",\"list.activeSelectionForeground\":\"#ffffff\",\"tree.indentGuidesStroke\":\"#585858\",\"input.background\":\"#0b253a\",\"input.foreground\":\"#ffffffcc\",\"input.placeholderForeground\":\"#5f7e97\",\"inputOption.activeBorder\":\"#ffffffcc\",\"inputOption.hoverBackground\":\"#5a5d5e80\",\"inputOption.activeBackground\":\"#122d4266\",\"inputOption.activeForeground\":\"#ffffff\",\"inputValidation.infoBackground\":\"#00589ef2\",\"inputValidation.infoBorder\":\"#64b5f6\",\"inputValidation.warningBackground\":\"#675700f2\",\"inputValidation.warningBorder\":\"#ffca28\",\"inputValidation.errorBackground\":\"#ab0300f2\",\"inputValidation.errorBorder\":\"#ef5350\",\"keybindingLabel.background\":\"#8080802b\",\"keybindingLabel.foreground\":\"#cccccc\",\"keybindingLabel.border\":\"#33333399\",\"keybindingLabel.bottomBorder\":\"#44444499\",\"menu.foreground\":\"#ffffffcc\",\"menu.background\":\"#011627\",\"menu.selectionForeground\":\"#ffffff\",\"menu.selectionBackground\":\"#234d708c\",\"menu.separatorBackground\":\"#606060\",\"editor.snippetTabstopHighlightBackground\":\"#7c7c74c\",\"editor.snippetFinalTabstopHighlightBorder\":\"#525252\",\"terminal.ansiBlack\":\"#011627\",\"terminal.ansiRed\":\"#ef5350\",\"terminal.ansiGreen\":\"#22da6e\",\"terminal.ansiYellow\":\"#c5e478\",\"terminal.ansiBlue\":\"#82aaff\",\"terminal.ansiMagenta\":\"#c792ea\",\"terminal.ansiCyan\":\"#21c7a8\",\"terminal.ansiWhite\":\"#ffffff\",\"terminal.ansiBrightBlack\":\"#575656\",\"terminal.ansiBrightRed\":\"#ef5350\",\"terminal.ansiBrightGreen\":\"#22da6e\",\"terminal.ansiBrightYellow\":\"#ffeb95\",\"terminal.ansiBrightBlue\":\"#82aaff\",\"terminal.ansiBrightMagenta\":\"#c792ea\",\"terminal.ansiBrightCyan\":\"#7fdbca\",\"terminal.ansiBrightWhite\":\"#ffffff\",\"selection.background\":\"#4373c2\",\"input.border\":\"#5f7e97\",\"punctuation.definition.generic.begin.html\":\"#ef5350f2\",\"progress.background\":\"#7e57c2\",\"breadcrumb.foreground\":\"#a599e9\",\"breadcrumb.focusForeground\":\"#ffffff\",\"breadcrumb.activeSelectionForeground\":\"#ffffff\",\"breadcrumbPicker.background\":\"#001122\",\"list.invalidItemForeground\":\"#975f94\",\"list.dropBackground\":\"#011627\",\"list.focusBackground\":\"#010d18\",\"list.focusForeground\":\"#ffffff\",\"list.highlightForeground\":\"#ffffff\",\"list.hoverBackground\":\"#011627\",\"list.hoverForeground\":\"#ffffff\",\"list.inactiveSelectionBackground\":\"#0e293f\",\"list.inactiveSelectionForeground\":\"#5f7e97\",\"activityBar.background\":\"#011627\",\"activityBar.dropBackground\":\"#5f7e97\",\"activityBar.foreground\":\"#5f7e97\",\"activityBar.border\":\"#011627\",\"activityBarBadge.background\":\"#44596b\",\"activityBarBadge.foreground\":\"#ffffff\",\"sideBar.background\":\"#011627\",\"sideBar.foreground\":\"#89a4bb\",\"sideBar.border\":\"#011627\",\"sideBarTitle.foreground\":\"#5f7e97\",\"sideBarSectionHeader.background\":\"#011627\",\"sideBarSectionHeader.foreground\":\"#5f7e97\",\"editorCursor.foreground\":\"#80a4c2\",\"editor.wordHighlightBackground\":\"#f6bbe533\",\"editor.wordHighlightStrongBackground\":\"#e2a2f433\",\"editor.lineHighlightBackground\":\"#0003\",\"editor.rangeHighlightBackground\":\"#7e57c25a\",\"editorIndentGuide.background\":\"#5e81ce52\",\"editorIndentGuide.activeBackground\":\"#7e97ac\",\"editorRuler.foreground\":\"#5e81ce52\",\"editorCodeLens.foreground\":\"#5e82ceb4\",\"editorBracketMatch.background\":\"#5f7e974d\",\"editorOverviewRuler.currentContentForeground\":\"#7e57c2\",\"editorOverviewRuler.incomingContentForeground\":\"#7e57c2\",\"editorOverviewRuler.commonContentForeground\":\"#7e57c2\",\"editorGutter.background\":\"#011627\",\"editorGutter.modifiedBackground\":\"#e2b93d\",\"editorGutter.addedBackground\":\"#9ccc65\",\"editorGutter.deletedBackground\":\"#ef5350\",\"editorSuggestWidget.background\":\"#2c3043\",\"editorSuggestWidget.border\":\"#2b2f40\",\"editorSuggestWidget.foreground\":\"#d6deeb\",\"editorSuggestWidget.highlightForeground\":\"#ffffff\",\"editorSuggestWidget.selectedBackground\":\"#5f7e97\",\"debugExceptionWidget.background\":\"#011627\",\"debugExceptionWidget.border\":\"#5f7e97\",\"editorMarkerNavigation.background\":\"#0b2942\",\"editorMarkerNavigationError.background\":\"#ef5350\",\"editorMarkerNavigationWarning.background\":\"#ffca28\",\"peekView.border\":\"#5f7e97\",\"peekViewEditor.background\":\"#011627\",\"peekViewEditor.matchHighlightBackground\":\"#7e57c25a\",\"peekViewResult.background\":\"#011627\",\"peekViewResult.fileForeground\":\"#5f7e97\",\"peekViewResult.lineForeground\":\"#5f7e97\",\"peekViewResult.matchHighlightBackground\":\"#ffffffcc\",\"peekViewResult.selectionBackground\":\"#2e3250\",\"peekViewResult.selectionForeground\":\"#5f7e97\",\"peekViewTitle.background\":\"#011627\",\"peekViewTitleDescription.foreground\":\"#697098\",\"peekViewTitleLabel.foreground\":\"#5f7e97\",\"merge.currentHeaderBackground\":\"#5f7e97\",\"merge.incomingHeaderBackground\":\"#7e57c25a\",\"statusBar.background\":\"#011627\",\"statusBar.foreground\":\"#5f7e97\",\"statusBar.border\":\"#262a39\",\"statusBar.debuggingBackground\":\"#202431\",\"statusBar.debuggingBorder\":\"#1f2330\",\"statusBar.noFolderBackground\":\"#011627\",\"statusBar.noFolderBorder\":\"#25293a\",\"statusBarItem.activeBackground\":\"#202431\",\"statusBarItem.hoverBackground\":\"#202431\",\"statusBarItem.prominentBackground\":\"#202431\",\"statusBarItem.prominentHoverBackground\":\"#202431\",\"notifications.background\":\"#01111d\",\"notifications.border\":\"#262a39\",\"notificationCenter.border\":\"#262a39\",\"notificationToast.border\":\"#262a39\",\"notifications.foreground\":\"#ffffffcc\",\"notificationLink.foreground\":\"#80cbc4\",\"extensionButton.prominentForeground\":\"#ffffffcc\",\"extensionButton.prominentBackground\":\"#7e57c2cc\",\"extensionButton.prominentHoverBackground\":\"#7e57c2\",\"terminal.selectionBackground\":\"#1b90dd4d\",\"terminalCursor.background\":\"#234d70\",\"debugToolBar.background\":\"#011627\",\"welcomePage.buttonBackground\":\"#011627\",\"welcomePage.buttonHoverBackground\":\"#011627\",\"walkThrough.embeddedEditorBackground\":\"#011627\",\"gitDecoration.modifiedResourceForeground\":\"#a2bffc\",\"gitDecoration.deletedResourceForeground\":\"#ef535090\",\"gitDecoration.untrackedResourceForeground\":\"#c5e478ff\",\"gitDecoration.ignoredResourceForeground\":\"#395a75\",\"gitDecoration.conflictingResourceForeground\":\"#ffeb95cc\",\"source.elm\":\"#5f7e97\",\"string.quoted.single.js\":\"#ffffff\",\"meta.objectliteral.js\":\"#82aaff\"},\"fg\":\"#d6deeb\",\"bg\":\"#23262f\",\"semanticHighlighting\":false,\"settings\":[{\"name\":\"Changed\",\"scope\":[\"markup.changed\",\"meta.diff.header.git\",\"meta.diff.header.from-file\",\"meta.diff.header.to-file\"],\"settings\":{\"foreground\":\"#a2bffc\"}},{\"name\":\"Deleted\",\"scope\":[\"markup.deleted.diff\"],\"settings\":{\"foreground\":\"#f27775fe\"}},{\"name\":\"Inserted\",\"scope\":[\"markup.inserted.diff\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Global settings\",\"settings\":{\"background\":\"#011627\",\"foreground\":\"#d6deeb\"}},{\"name\":\"Comment\",\"scope\":[\"comment\"],\"settings\":{\"foreground\":\"#919f9f\",\"fontStyle\":\"\"}},{\"name\":\"String\",\"scope\":[\"string\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"String Quoted\",\"scope\":[\"string.quoted\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"Support Constant Math\",\"scope\":[\"support.constant.math\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Number\",\"scope\":[\"constant.numeric\",\"constant.character.numeric\"],\"settings\":{\"foreground\":\"#f78c6c\",\"fontStyle\":\"\"}},{\"name\":\"Built-in constant\",\"scope\":[\"constant.language\",\"punctuation.definition.constant\",\"variable.other.constant\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"User-defined constant\",\"scope\":[\"constant.character\",\"constant.other\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Constant Character Escape\",\"scope\":[\"constant.character.escape\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"RegExp String\",\"scope\":[\"string.regexp\",\"string.regexp keyword.other\"],\"settings\":{\"foreground\":\"#5ca7e4\"}},{\"name\":\"Comma in functions\",\"scope\":[\"meta.function punctuation.separator.comma\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"Variable\",\"scope\":[\"variable\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Keyword\",\"scope\":[\"punctuation.accessor\",\"keyword\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Storage\",\"scope\":[\"storage\",\"meta.var.expr\",\"meta.class meta.method.declaration meta.var.expr storage.type.js\",\"storage.type.property.js\",\"storage.type.property.ts\",\"storage.type.property.tsx\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type.function.arrow.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Class name\",\"scope\":[\"entity.name.class\",\"meta.class entity.name.type.class\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Inherited class\",\"scope\":[\"entity.other.inherited-class\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Function name\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Meta Tag\",\"scope\":[\"punctuation.definition.tag\",\"meta.tag\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"HTML Tag names\",\"scope\":[\"entity.name.tag\",\"meta.tag.other.html\",\"meta.tag.other.js\",\"meta.tag.other.tsx\",\"entity.name.tag.tsx\",\"entity.name.tag.js\",\"entity.name.tag\",\"meta.tag.js\",\"meta.tag.tsx\",\"meta.tag.html\"],\"settings\":{\"foreground\":\"#caece6\",\"fontStyle\":\"\"}},{\"name\":\"Tag attribute\",\"scope\":[\"entity.other.attribute-name\"],\"settings\":{\"fontStyle\":\"\",\"foreground\":\"#c5e478\"}},{\"name\":\"Entity Name Tag Custom\",\"scope\":[\"entity.name.tag.custom\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Library (function & constant)\",\"scope\":[\"support.function\",\"support.constant\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Support Constant Property Value meta\",\"scope\":[\"support.constant.meta.property-value\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Library class/type\",\"scope\":[\"support.type\",\"support.class\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Support Variable DOM\",\"scope\":[\"support.variable.dom\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Invalid\",\"scope\":[\"invalid\"],\"settings\":{\"background\":\"#ff2c83\",\"foreground\":\"#ffffff\"}},{\"name\":\"Invalid deprecated\",\"scope\":[\"invalid.deprecated\"],\"settings\":{\"foreground\":\"#ffffff\",\"background\":\"#d3423e\"}},{\"name\":\"Keyword Operator\",\"scope\":[\"keyword.operator\"],\"settings\":{\"foreground\":\"#7fdbca\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Relational\",\"scope\":[\"keyword.operator.relational\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Assignment\",\"scope\":[\"keyword.operator.assignment\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Arithmetic\",\"scope\":[\"keyword.operator.arithmetic\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Bitwise\",\"scope\":[\"keyword.operator.bitwise\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Increment\",\"scope\":[\"keyword.operator.increment\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Ternary\",\"scope\":[\"keyword.operator.ternary\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Double-Slashed Comment\",\"scope\":[\"comment.line.double-slash\"],\"settings\":{\"foreground\":\"#919f9f\"}},{\"name\":\"Object\",\"scope\":[\"object\"],\"settings\":{\"foreground\":\"#cdebf7\"}},{\"name\":\"Null\",\"scope\":[\"constant.language.null\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Meta Brace\",\"scope\":[\"meta.brace\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Meta Delimiter Period\",\"scope\":[\"meta.delimiter.period\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Punctuation Definition String\",\"scope\":[\"punctuation.definition.string\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Punctuation Definition String Markdown\",\"scope\":[\"punctuation.definition.string.begin.markdown\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Boolean\",\"scope\":[\"constant.language.boolean\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Object Comma\",\"scope\":[\"object.comma\"],\"settings\":{\"foreground\":\"#ffffff\"}},{\"name\":\"Variable Parameter Function\",\"scope\":[\"variable.parameter.function\"],\"settings\":{\"foreground\":\"#7fdbca\",\"fontStyle\":\"\"}},{\"name\":\"Support Type Property Name & entity name tags\",\"scope\":[\"support.type.vendor.property-name\",\"support.constant.vendor.property-value\",\"support.type.property-name\",\"meta.property-list entity.name.tag\"],\"settings\":{\"foreground\":\"#80cbc4\",\"fontStyle\":\"\"}},{\"name\":\"Entity Name tag reference in stylesheets\",\"scope\":[\"meta.property-list entity.name.tag.reference\"],\"settings\":{\"foreground\":\"#57eaf1\"}},{\"name\":\"Constant Other Color RGB Value Punctuation Definition Constant\",\"scope\":[\"constant.other.color.rgb-value punctuation.definition.constant\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Constant Other Color\",\"scope\":[\"constant.other.color\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Keyword Other Unit\",\"scope\":[\"keyword.other.unit\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Meta Selector\",\"scope\":[\"meta.selector\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Entity Other Attribute Name Id\",\"scope\":[\"entity.other.attribute-name.id\"],\"settings\":{\"foreground\":\"#fad430\"}},{\"name\":\"Meta Property Name\",\"scope\":[\"meta.property-name\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Doctypes\",\"scope\":[\"entity.name.tag.doctype\",\"meta.tag.sgml.doctype\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Punctuation Definition Parameters\",\"scope\":[\"punctuation.definition.parameters\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Keyword Control Operator\",\"scope\":[\"keyword.control.operator\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Keyword Operator Logical\",\"scope\":[\"keyword.operator.logical\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Variable Instances\",\"scope\":[\"variable.instance\",\"variable.other.instance\",\"variable.readwrite.instance\",\"variable.other.readwrite.instance\",\"variable.other.property\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Variable Property Other object property\",\"scope\":[\"variable.other.object.property\"],\"settings\":{\"foreground\":\"#faf39f\",\"fontStyle\":\"\"}},{\"name\":\"Variable Property Other object\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Entity Name Function\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#82aaff\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Comparison, returns, imports, and Keyword Operator Ruby\",\"scope\":[\"keyword.control.conditional.js\",\"keyword.operator.comparison\",\"keyword.control.flow.js\",\"keyword.control.flow.ts\",\"keyword.control.flow.tsx\",\"keyword.control.ruby\",\"keyword.control.def.ruby\",\"keyword.control.loop.js\",\"keyword.control.loop.ts\",\"keyword.control.import.js\",\"keyword.control.import.ts\",\"keyword.control.import.tsx\",\"keyword.control.from.js\",\"keyword.control.from.ts\",\"keyword.control.from.tsx\",\"keyword.control.conditional.js\",\"keyword.control.conditional.ts\",\"keyword.control.switch.js\",\"keyword.control.switch.ts\",\"keyword.operator.instanceof.js\",\"keyword.operator.expression.instanceof.ts\",\"keyword.operator.expression.instanceof.tsx\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Support Constant, `new` keyword, Special Method Keyword, `debugger`, other keywords\",\"scope\":[\"support.constant\",\"keyword.other.special-method\",\"keyword.other.new\",\"keyword.other.debugger\",\"keyword.control\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Support Function\",\"scope\":[\"support.function\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Invalid Broken\",\"scope\":[\"invalid.broken\"],\"settings\":{\"foreground\":\"#989da0\",\"background\":\"#F78C6C\"}},{\"name\":\"Invalid Unimplemented\",\"scope\":[\"invalid.unimplemented\"],\"settings\":{\"background\":\"#8BD649\",\"foreground\":\"#ffffff\"}},{\"name\":\"Invalid Illegal\",\"scope\":[\"invalid.illegal\"],\"settings\":{\"foreground\":\"#ffffff\",\"background\":\"#ec5f67\"}},{\"name\":\"Language Variable\",\"scope\":[\"variable.language\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Support Variable Property\",\"scope\":[\"support.variable.property\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Variable Function\",\"scope\":[\"variable.function\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Variable Interpolation\",\"scope\":[\"variable.interpolation\"],\"settings\":{\"foreground\":\"#ef787f\"}},{\"name\":\"Meta Function Call\",\"scope\":[\"meta.function-call\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Punctuation Section Embedded\",\"scope\":[\"punctuation.section.embedded\"],\"settings\":{\"foreground\":\"#e2817f\"}},{\"name\":\"Punctuation Tweaks\",\"scope\":[\"punctuation.terminator.expression\",\"punctuation.definition.arguments\",\"punctuation.definition.array\",\"punctuation.section.array\",\"meta.array\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"More Punctuation Tweaks\",\"scope\":[\"punctuation.definition.list.begin\",\"punctuation.definition.list.end\",\"punctuation.separator.arguments\",\"punctuation.definition.list\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Template Strings\",\"scope\":[\"string.template meta.template.expression\"],\"settings\":{\"foreground\":\"#e2817f\"}},{\"name\":\"Backtics(``) in Template Strings\",\"scope\":[\"string.template punctuation.definition.string\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Italics\",\"scope\":[\"italic\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"italic\"}},{\"name\":\"Bold\",\"scope\":[\"bold\"],\"settings\":{\"foreground\":\"#c5e478\",\"fontStyle\":\"bold\"}},{\"name\":\"Quote\",\"scope\":[\"quote\"],\"settings\":{\"foreground\":\"#969bb7\",\"fontStyle\":\"\"}},{\"name\":\"Raw Code\",\"scope\":[\"raw\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"CoffeScript Variable Assignment\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#31e1eb\"}},{\"name\":\"CoffeScript Parameter Function\",\"scope\":[\"variable.parameter.function.coffee\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"CoffeeScript Assignments\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"C# Readwrite Variables\",\"scope\":[\"variable.other.readwrite.cs\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C# Classes & Storage types\",\"scope\":[\"entity.name.type.class.cs\",\"storage.type.cs\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"C# Namespaces\",\"scope\":[\"entity.name.type.namespace.cs\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"C# Unquoted String Zone\",\"scope\":[\"string.unquoted.preprocessor.message.cs\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C# Region\",\"scope\":[\"punctuation.separator.hash.cs\",\"keyword.preprocessor.region.cs\",\"keyword.preprocessor.endregion.cs\"],\"settings\":{\"foreground\":\"#ffcb8b\",\"fontStyle\":\"bold\"}},{\"name\":\"C# Other Variables\",\"scope\":[\"variable.other.object.cs\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"C# Enum\",\"scope\":[\"entity.name.type.enum.cs\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Dart String\",\"scope\":[\"string.interpolated.single.dart\",\"string.interpolated.double.dart\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Dart Class\",\"scope\":[\"support.class.dart\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Tag names in Stylesheets\",\"scope\":[\"entity.name.tag.css\",\"entity.name.tag.less\",\"entity.name.tag.custom.css\",\"support.constant.property-value.css\"],\"settings\":{\"foreground\":\"#ff6d6d\",\"fontStyle\":\"\"}},{\"name\":\"Wildcard(*) selector in Stylesheets\",\"scope\":[\"entity.name.tag.wildcard.css\",\"entity.name.tag.wildcard.less\",\"entity.name.tag.wildcard.scss\",\"entity.name.tag.wildcard.sass\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"CSS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Attribute Name for CSS\",\"scope\":[\"meta.attribute-selector.css entity.other.attribute-name.attribute\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Elixir Classes\",\"scope\":[\"source.elixir support.type.elixir\",\"source.elixir meta.module.elixir entity.name.class.elixir\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Elixir Functions\",\"scope\":[\"source.elixir entity.name.function\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir Constants\",\"scope\":[\"source.elixir constant.other.symbol.elixir\",\"source.elixir constant.other.keywords.elixir\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Elixir String Punctuations\",\"scope\":[\"source.elixir punctuation.definition.string\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir\",\"scope\":[\"source.elixir variable.other.readwrite.module.elixir\",\"source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir Binary Punctuations\",\"scope\":[\"source.elixir .punctuation.binary.elixir\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Closure Constant Keyword\",\"scope\":[\"constant.keyword.clojure\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Go Function Calls\",\"scope\":[\"source.go meta.function-call.go\"],\"settings\":{\"foreground\":\"#dddddd\"}},{\"name\":\"Go Keywords\",\"scope\":[\"source.go keyword.package.go\",\"source.go keyword.import.go\",\"source.go keyword.function.go\",\"source.go keyword.type.go\",\"source.go keyword.struct.go\",\"source.go keyword.interface.go\",\"source.go keyword.const.go\",\"source.go keyword.var.go\",\"source.go keyword.map.go\",\"source.go keyword.channel.go\",\"source.go keyword.control.go\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Go Constants e.g. nil, string format (%s, %d, etc.)\",\"scope\":[\"source.go constant.language.go\",\"source.go constant.other.placeholder.go\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"C++ Functions\",\"scope\":[\"entity.name.function.preprocessor.cpp\",\"entity.scope.name.cpp\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"C++ Meta Namespace\",\"scope\":[\"meta.namespace-block.cpp\"],\"settings\":{\"foreground\":\"#e0dec6\"}},{\"name\":\"C++ Language Primitive Storage\",\"scope\":[\"storage.type.language.primitive.cpp\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"C++ Preprocessor Macro\",\"scope\":[\"meta.preprocessor.macro.cpp\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C++ Variable Parameter\",\"scope\":[\"variable.parameter\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Powershell Variables\",\"scope\":[\"variable.other.readwrite.powershell\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Powershell Function\",\"scope\":[\"support.function.powershell\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"ID Attribute Name in HTML\",\"scope\":[\"entity.other.attribute-name.id.html\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"HTML Punctuation Definition Tag\",\"scope\":[\"punctuation.definition.tag.html\"],\"settings\":{\"foreground\":\"#6ae9f0\"}},{\"name\":\"HTML Doctype\",\"scope\":[\"meta.tag.sgml.doctype.html\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Classes\",\"scope\":[\"meta.class entity.name.type.class.js\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"JavaScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.js\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"JavaScript Terminator\",\"scope\":[\"terminator.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Meta Punctuation Definition\",\"scope\":[\"meta.js punctuation.definition.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Entity Names in Code Documentations\",\"scope\":[\"entity.name.type.instance.jsdoc\",\"entity.name.type.instance.phpdoc\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"Other Variables in Code Documentations\",\"scope\":[\"variable.other.jsdoc\",\"variable.other.phpdoc\"],\"settings\":{\"foreground\":\"#78ccf0\"}},{\"name\":\"JavaScript module imports and exports\",\"scope\":[\"variable.other.meta.import.js\",\"meta.import.js variable.other\",\"variable.other.meta.export.js\",\"meta.export.js variable.other\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Variable Parameter Function\",\"scope\":[\"variable.parameter.function.js\"],\"settings\":{\"foreground\":\"#8b96ea\"}},{\"name\":\"JavaScript[React] Variable Other Object\",\"scope\":[\"variable.other.object.js\",\"variable.other.object.jsx\",\"variable.object.property.js\",\"variable.object.property.jsx\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Variables\",\"scope\":[\"variable.js\",\"variable.other.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Entity Name Type\",\"scope\":[\"entity.name.type.js\",\"entity.name.type.module.js\"],\"settings\":{\"foreground\":\"#ffcb8b\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Support Classes\",\"scope\":[\"support.class.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JSON Property Names\",\"scope\":[\"support.type.property-name.json\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"JSON Support Constants\",\"scope\":[\"support.constant.json\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"JSON Property values (string)\",\"scope\":[\"meta.structure.dictionary.value.json string.quoted.double\"],\"settings\":{\"foreground\":\"#c789d6\"}},{\"name\":\"Strings in JSON values\",\"scope\":[\"string.quoted.double.json punctuation.definition.string.json\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Specific JSON Property values like null\",\"scope\":[\"meta.structure.dictionary.json meta.structure.dictionary.value constant.language\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"JavaScript Other Variable\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Ruby Variables\",\"scope\":[\"variable.other.ruby\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Ruby Class\",\"scope\":[\"entity.name.type.class.ruby\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"Ruby Hashkeys\",\"scope\":[\"constant.language.symbol.hashkey.ruby\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"LESS Tag names\",\"scope\":[\"entity.name.tag.less\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"LESS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Attribute Name for LESS\",\"scope\":[\"meta.attribute-selector.less entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Markdown Headings\",\"scope\":[\"markup.heading.markdown\",\"markup.heading.setext.1.markdown\",\"markup.heading.setext.2.markdown\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown Italics\",\"scope\":[\"markup.italic.markdown\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"italic\"}},{\"name\":\"Markdown Bold\",\"scope\":[\"markup.bold.markdown\"],\"settings\":{\"foreground\":\"#c5e478\",\"fontStyle\":\"bold\"}},{\"name\":\"Markdown Quote + others\",\"scope\":[\"markup.quote.markdown\"],\"settings\":{\"foreground\":\"#969bb7\",\"fontStyle\":\"\"}},{\"name\":\"Markdown Raw Code + others\",\"scope\":[\"markup.inline.raw.markdown\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Markdown Links\",\"scope\":[\"markup.underline.link.markdown\",\"markup.underline.link.image.markdown\"],\"settings\":{\"foreground\":\"#ff869a\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Link Title and Description\",\"scope\":[\"string.other.link.title.markdown\",\"string.other.link.description.markdown\"],\"settings\":{\"foreground\":\"#d6deeb\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Punctuation\",\"scope\":[\"punctuation.definition.string.markdown\",\"punctuation.definition.string.begin.markdown\",\"punctuation.definition.string.end.markdown\",\"meta.link.inline.markdown punctuation.definition.string\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown MetaData Punctuation\",\"scope\":[\"punctuation.definition.metadata.markdown\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Markdown List Punctuation\",\"scope\":[\"beginning.punctuation.definition.list.markdown\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown Inline Raw String\",\"scope\":[\"markup.inline.raw.string.markdown\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"PHP Variables\",\"scope\":[\"variable.other.php\"],\"settings\":{\"foreground\":\"#bec5d4\"}},{\"name\":\"Support Classes in PHP\",\"scope\":[\"support.class.php\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Punctuations in PHP function calls\",\"scope\":[\"meta.function-call.php punctuation\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"PHP Global Variables\",\"scope\":[\"variable.other.global.php\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Declaration Punctuation in PHP Global Variables\",\"scope\":[\"variable.other.global.php punctuation.definition.variable\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Language Constants in Python\",\"scope\":[\"constant.language.python\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Python Function Parameter and Arguments\",\"scope\":[\"variable.parameter.function.python\",\"meta.function-call.arguments.python\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Python Function Call\",\"scope\":[\"meta.function-call.python\",\"meta.function-call.generic.python\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"Punctuations in Python\",\"scope\":[\"punctuation.python\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Decorator Functions in Python\",\"scope\":[\"entity.name.function.decorator.python\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Python Language Variable\",\"scope\":[\"source.python variable.language.special\"],\"settings\":{\"foreground\":\"#8eace3\"}},{\"name\":\"Python import control keyword\",\"scope\":[\"keyword.control\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"SCSS Variable\",\"scope\":[\"variable.scss\",\"variable.sass\",\"variable.parameter.url.scss\",\"variable.parameter.url.sass\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#bec5d4\"}},{\"name\":\"Attribute Name for SASS\",\"scope\":[\"meta.attribute-selector.scss entity.other.attribute-name.attribute\",\"meta.attribute-selector.sass entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Tag names in SASS\",\"scope\":[\"entity.name.tag.scss\",\"entity.name.tag.sass\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"SASS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.scss\",\"keyword.other.unit.sass\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"TypeScript[React] Variables and Object Properties\",\"scope\":[\"variable.other.readwrite.alias.ts\",\"variable.other.readwrite.alias.tsx\",\"variable.other.readwrite.ts\",\"variable.other.readwrite.tsx\",\"variable.other.object.ts\",\"variable.other.object.tsx\",\"variable.object.property.ts\",\"variable.object.property.tsx\",\"variable.other.ts\",\"variable.other.tsx\",\"variable.tsx\",\"variable.ts\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript[React] Entity Name Types\",\"scope\":[\"entity.name.type.ts\",\"entity.name.type.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript[React] Node Classes\",\"scope\":[\"support.class.node.ts\",\"support.class.node.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"TypeScript[React] Entity Name Types as Parameters\",\"scope\":[\"meta.type.parameters.ts entity.name.type\",\"meta.type.parameters.tsx entity.name.type\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"TypeScript[React] Import/Export Punctuations\",\"scope\":[\"meta.import.ts punctuation.definition.block\",\"meta.import.tsx punctuation.definition.block\",\"meta.export.ts punctuation.definition.block\",\"meta.export.tsx punctuation.definition.block\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.decorator punctuation.decorator.ts\",\"meta.decorator punctuation.decorator.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.tag.js meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"YAML Entity Name Tags\",\"scope\":[\"entity.name.tag.yaml\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"JavaScript Variable Other ReadWrite\",\"scope\":[\"variable.other.readwrite.js\",\"variable.parameter\"],\"settings\":{\"foreground\":\"#d7dbe0\"}},{\"name\":\"Support Class Component\",\"scope\":[\"support.class.component.js\",\"support.class.component.tsx\"],\"settings\":{\"foreground\":\"#f78c6c\",\"fontStyle\":\"\"}},{\"name\":\"Text nested in React tags\",\"scope\":[\"meta.jsx.children\",\"meta.jsx.children.js\",\"meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript Classes\",\"scope\":[\"meta.class entity.name.type.class.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript Entity Name Type\",\"scope\":[\"entity.name.type.tsx\",\"entity.name.type.module.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript Class Variable Keyword\",\"scope\":[\"meta.class.ts meta.var.expr.ts storage.type.ts\",\"meta.class.tsx meta.var.expr.tsx storage.type.tsx\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"TypeScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.ts\",\"meta.method.declaration storage.type.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"normalize font style of certain components\",\"scope\":[\"meta.property-list.css meta.property-value.css variable.other.less\",\"meta.property-list.scss variable.scss\",\"meta.property-list.sass variable.sass\",\"meta.brace\",\"keyword.operator.operator\",\"keyword.operator.or.regexp\",\"keyword.operator.expression.in\",\"keyword.operator.relational\",\"keyword.operator.assignment\",\"keyword.operator.comparison\",\"keyword.operator.type\",\"keyword.operator\",\"keyword\",\"punctuation.definintion.string\",\"punctuation\",\"variable.other.readwrite.js\",\"storage.type\",\"source.css\",\"string.quoted\"],\"settings\":{\"fontStyle\":\"\"}}],\"styleOverrides\":{\"frames\":{\"editorBackground\":\"var(--sl-color-gray-6)\",\"terminalBackground\":\"var(--sl-color-gray-6)\",\"editorActiveTabBackground\":\"var(--sl-color-gray-6)\",\"terminalTitlebarDotsForeground\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"terminalTitlebarDotsOpacity\":\"0.75\",\"inlineButtonForeground\":\"var(--sl-color-text)\",\"frameBoxShadowCssValue\":\"none\"},\"textMarkers\":{\"markBackground\":\"#ffffff17\",\"markBorderColor\":\"#ffffff40\"}}},{\"name\":\"Night Owl Light\",\"type\":\"light\",\"colors\":{\"focusBorder\":\"#93a1a1\",\"foreground\":\"#403f53\",\"disabledForeground\":\"#61616180\",\"descriptionForeground\":\"#403f53\",\"errorForeground\":\"#403f53\",\"icon.foreground\":\"#424242\",\"contrastActiveBorder\":null,\"contrastBorder\":null,\"textBlockQuote.background\":\"#7f7f7f1a\",\"textBlockQuote.border\":\"#007acc80\",\"textCodeBlock.background\":\"#dcdcdc66\",\"textLink.activeForeground\":\"#006ab1\",\"textLink.foreground\":\"#006ab1\",\"textPreformat.foreground\":\"#a31515\",\"textSeparator.foreground\":\"#0000002e\",\"editor.background\":\"#f6f7f9\",\"editor.foreground\":\"#403f53\",\"editorLineNumber.foreground\":\"#90a7b2\",\"editorLineNumber.activeForeground\":\"#403f53\",\"editorActiveLineNumber.foreground\":\"#0b216f\",\"editor.selectionBackground\":\"#e0e0e0\",\"editor.inactiveSelectionBackground\":\"#e0e0e080\",\"editor.selectionHighlightBackground\":\"#339cec33\",\"editorError.foreground\":\"#e64d49\",\"editorWarning.foreground\":\"#daaa01\",\"editorInfo.foreground\":\"#1a85ff\",\"editorHint.foreground\":\"#6c6c6c\",\"problemsErrorIcon.foreground\":\"#e64d49\",\"problemsWarningIcon.foreground\":\"#daaa01\",\"problemsInfoIcon.foreground\":\"#1a85ff\",\"editor.findMatchBackground\":\"#93a1a16c\",\"editor.findMatchHighlightBackground\":\"#93a1a16c\",\"editor.findRangeHighlightBackground\":\"#7497a633\",\"editorLink.activeForeground\":\"#0000ff\",\"editorLightBulb.foreground\":\"#ddb100\",\"editorLightBulbAutoFix.foreground\":\"#007acc\",\"diffEditor.insertedTextBackground\":\"#9ccc2c40\",\"diffEditor.insertedTextBorder\":null,\"diffEditor.removedTextBackground\":\"#ff000033\",\"diffEditor.removedTextBorder\":null,\"diffEditor.insertedLineBackground\":\"#9bb95533\",\"diffEditor.removedLineBackground\":\"#ff000033\",\"editorStickyScroll.background\":\"#fbfbfb\",\"editorStickyScrollHover.background\":\"#f0f0f0\",\"editorInlayHint.background\":\"#2aa29899\",\"editorInlayHint.foreground\":\"#f0f0f0\",\"editorInlayHint.typeBackground\":\"#2aa29899\",\"editorInlayHint.typeForeground\":\"#f0f0f0\",\"editorInlayHint.parameterBackground\":\"#2aa29899\",\"editorInlayHint.parameterForeground\":\"#f0f0f0\",\"editorPane.background\":\"#fbfbfb\",\"editorGroup.emptyBackground\":null,\"editorGroup.focusedEmptyBorder\":null,\"editorGroupHeader.tabsBackground\":\"var(--sl-color-gray-6)\",\"editorGroupHeader.tabsBorder\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"editorGroupHeader.noTabsBackground\":\"#f0f0f0\",\"editorGroupHeader.border\":null,\"editorGroup.border\":\"#f0f0f0\",\"editorGroup.dropBackground\":\"#2677cb2d\",\"editorGroup.dropIntoPromptForeground\":\"#403f53\",\"editorGroup.dropIntoPromptBackground\":\"#f0f0f0\",\"editorGroup.dropIntoPromptBorder\":null,\"sideBySideEditor.horizontalBorder\":\"#f0f0f0\",\"sideBySideEditor.verticalBorder\":\"#f0f0f0\",\"scrollbar.shadow\":\"#cccccc\",\"scrollbarSlider.background\":\"#0000001a\",\"scrollbarSlider.hoverBackground\":\"#00000055\",\"scrollbarSlider.activeBackground\":\"#00000099\",\"panel.background\":\"#f0f0f0\",\"panel.border\":\"#d9d9d9\",\"panelTitle.activeBorder\":\"#424242\",\"panelTitle.activeForeground\":\"#424242\",\"panelTitle.inactiveForeground\":\"#424242bf\",\"panelSectionHeader.background\":\"#80808051\",\"terminal.background\":\"#f6f6f6\",\"widget.shadow\":\"#d9d9d9\",\"editorWidget.background\":\"#f0f0f0\",\"editorWidget.foreground\":\"#403f53\",\"editorWidget.border\":\"#d9d9d9\",\"quickInput.background\":\"#f0f0f0\",\"quickInput.foreground\":\"#403f53\",\"quickInputTitle.background\":\"#0000000f\",\"pickerGroup.foreground\":\"#403f53\",\"pickerGroup.border\":\"#d9d9d9\",\"editor.hoverHighlightBackground\":\"#339cec33\",\"editorHoverWidget.background\":\"#f0f0f0\",\"editorHoverWidget.foreground\":\"#403f53\",\"editorHoverWidget.border\":\"#d9d9d9\",\"editorHoverWidget.statusBarBackground\":\"#e4e4e4\",\"titleBar.activeBackground\":\"var(--sl-color-gray-6)\",\"titleBar.activeForeground\":\"var(--sl-color-text)\",\"titleBar.inactiveBackground\":\"#f0f0f099\",\"titleBar.inactiveForeground\":\"#33333399\",\"titleBar.border\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"toolbar.hoverBackground\":\"#b8b8b850\",\"toolbar.activeBackground\":\"#a6a6a650\",\"tab.activeBackground\":\"#f6f6f6\",\"tab.unfocusedActiveBackground\":\"#f6f6f6\",\"tab.inactiveBackground\":\"#f0f0f0\",\"tab.unfocusedInactiveBackground\":\"#f0f0f0\",\"tab.activeForeground\":\"var(--sl-color-text)\",\"tab.inactiveForeground\":\"#403f53\",\"tab.unfocusedActiveForeground\":\"#403f53b3\",\"tab.unfocusedInactiveForeground\":\"#403f5380\",\"tab.hoverBackground\":null,\"tab.unfocusedHoverBackground\":null,\"tab.hoverForeground\":null,\"tab.unfocusedHoverForeground\":null,\"tab.border\":\"#f0f0f0\",\"tab.lastPinnedBorder\":\"#a9a9a9\",\"tab.activeBorder\":\"transparent\",\"tab.unfocusedActiveBorder\":null,\"tab.activeBorderTop\":\"var(--sl-color-accent)\",\"tab.unfocusedActiveBorderTop\":null,\"tab.hoverBorder\":null,\"tab.unfocusedHoverBorder\":null,\"tab.activeModifiedBorder\":\"#2aa298\",\"tab.inactiveModifiedBorder\":\"#93a1a1\",\"tab.unfocusedActiveModifiedBorder\":\"#93a1a1\",\"tab.unfocusedInactiveModifiedBorder\":\"#93a1a1\",\"badge.background\":\"#2aa298\",\"badge.foreground\":\"#f0f0f0\",\"button.background\":\"#2aa298\",\"button.foreground\":\"#f0f0f0\",\"button.border\":null,\"button.separator\":\"#f0f0f066\",\"button.hoverBackground\":\"#22827a\",\"button.secondaryBackground\":\"#5f6a79\",\"button.secondaryForeground\":\"#ffffff\",\"button.secondaryHoverBackground\":\"#4c5561\",\"dropdown.background\":\"#f0f0f0\",\"dropdown.foreground\":\"#403f53\",\"dropdown.border\":\"#d9d9d9\",\"list.activeSelectionBackground\":\"#d3e8f8\",\"list.activeSelectionForeground\":\"#403f53\",\"tree.indentGuidesStroke\":\"#a9a9a9\",\"input.background\":\"#f0f0f0\",\"input.foreground\":\"#403f53\",\"input.placeholderForeground\":\"#93a1a1\",\"inputOption.activeBorder\":\"#2aa298\",\"inputOption.hoverBackground\":\"#b8b8b850\",\"inputOption.activeBackground\":\"#93a1a133\",\"inputOption.activeForeground\":\"#000000\",\"inputValidation.infoBackground\":\"#f0f0f0\",\"inputValidation.infoBorder\":\"#d0d0d0\",\"inputValidation.warningBackground\":\"#daaa01\",\"inputValidation.warningBorder\":\"#e0af02\",\"inputValidation.errorBackground\":\"#f76e6e\",\"inputValidation.errorBorder\":\"#de3d3b\",\"keybindingLabel.background\":\"#dddddd66\",\"keybindingLabel.foreground\":\"#555555\",\"keybindingLabel.border\":\"#cccccc66\",\"keybindingLabel.bottomBorder\":\"#bbbbbb66\",\"menu.foreground\":\"#403f53\",\"menu.background\":\"#f0f0f0\",\"menu.selectionForeground\":\"#403f53\",\"menu.selectionBackground\":\"#d3e8f8\",\"menu.separatorBackground\":\"#d4d4d4\",\"editor.snippetTabstopHighlightBackground\":\"#0a326433\",\"editor.snippetFinalTabstopHighlightBorder\":\"#0a326480\",\"terminal.ansiBlack\":\"#403f53\",\"terminal.ansiRed\":\"#de3d3b\",\"terminal.ansiGreen\":\"#08916a\",\"terminal.ansiYellow\":\"#e0af02\",\"terminal.ansiBlue\":\"#288ed7\",\"terminal.ansiMagenta\":\"#d6438a\",\"terminal.ansiCyan\":\"#2aa298\",\"terminal.ansiWhite\":\"#f0f0f0\",\"terminal.ansiBrightBlack\":\"#403f53\",\"terminal.ansiBrightRed\":\"#de3d3b\",\"terminal.ansiBrightGreen\":\"#08916a\",\"terminal.ansiBrightYellow\":\"#daaa01\",\"terminal.ansiBrightBlue\":\"#288ed7\",\"terminal.ansiBrightMagenta\":\"#d6438a\",\"terminal.ansiBrightCyan\":\"#2aa298\",\"terminal.ansiBrightWhite\":\"#f0f0f0\",\"selection.background\":\"#7a8181ad\",\"notifications.background\":\"#f0f0f0\",\"notifications.foreground\":\"#403f53\",\"notificationLink.foreground\":\"#994cc3\",\"notifications.border\":\"#cccccc\",\"notificationCenter.border\":\"#cccccc\",\"notificationToast.border\":\"#cccccc\",\"notificationCenterHeader.foreground\":\"#403f53\",\"notificationCenterHeader.background\":\"#f0f0f0\",\"input.border\":\"#d9d9d9\",\"progressBar.background\":\"#2aa298\",\"list.inactiveSelectionBackground\":\"#e0e7ea\",\"list.inactiveSelectionForeground\":\"#403f53\",\"list.focusBackground\":\"#d3e8f8\",\"list.hoverBackground\":\"#d3e8f8\",\"list.focusForeground\":\"#403f53\",\"list.hoverForeground\":\"#403f53\",\"list.highlightForeground\":\"#403f53\",\"list.errorForeground\":\"#e64d49\",\"list.warningForeground\":\"#daaa01\",\"activityBar.background\":\"#f0f0f0\",\"activityBar.foreground\":\"#403f53\",\"activityBar.dropBackground\":\"#d0d0d0\",\"activityBarBadge.background\":\"#403f53\",\"activityBarBadge.foreground\":\"#f0f0f0\",\"activityBar.border\":\"#f0f0f0\",\"sideBar.background\":\"#f0f0f0\",\"sideBar.foreground\":\"#403f53\",\"sideBarTitle.foreground\":\"#403f53\",\"sideBar.border\":\"#f0f0f0\",\"editorGroup.background\":\"#f6f6f6\",\"editorCursor.foreground\":\"#90a7b2\",\"editor.wordHighlightBackground\":\"#339cec33\",\"editor.wordHighlightStrongBackground\":\"#007dd659\",\"editor.lineHighlightBackground\":\"#f0f0f0\",\"editor.rangeHighlightBackground\":\"#7497a633\",\"editorWhitespace.foreground\":\"#d9d9d9\",\"editorIndentGuide.background\":\"#d9d9d9\",\"editorCodeLens.foreground\":\"#403f53\",\"editorBracketMatch.background\":\"#d3e8f8\",\"editorBracketMatch.border\":\"#2aa298\",\"editorError.border\":\"#fbfbfb\",\"editorWarning.border\":\"#daaa01\",\"editorGutter.addedBackground\":\"#49d0c5\",\"editorGutter.modifiedBackground\":\"#6fbef6\",\"editorGutter.deletedBackground\":\"#f76e6e\",\"editorRuler.foreground\":\"#d9d9d9\",\"editorOverviewRuler.errorForeground\":\"#e64d49\",\"editorOverviewRuler.warningForeground\":\"#daaa01\",\"editorSuggestWidget.background\":\"#f0f0f0\",\"editorSuggestWidget.foreground\":\"#403f53\",\"editorSuggestWidget.highlightForeground\":\"#403f53\",\"editorSuggestWidget.selectedBackground\":\"#d3e8f8\",\"editorSuggestWidget.border\":\"#d9d9d9\",\"debugExceptionWidget.background\":\"#f0f0f0\",\"debugExceptionWidget.border\":\"#d9d9d9\",\"editorMarkerNavigation.background\":\"#d0d0d0\",\"editorMarkerNavigationError.background\":\"#f76e6e\",\"editorMarkerNavigationWarning.background\":\"#daaa01\",\"debugToolBar.background\":\"#f0f0f0\",\"extensionButton.prominentBackground\":\"#2aa298\",\"extensionButton.prominentForeground\":\"#f0f0f0\",\"statusBar.background\":\"#f0f0f0\",\"statusBar.border\":\"#f0f0f0\",\"statusBar.debuggingBackground\":\"#f0f0f0\",\"statusBar.debuggingForeground\":\"#403f53\",\"statusBar.foreground\":\"#403f53\",\"statusBar.noFolderBackground\":\"#f0f0f0\",\"statusBar.noFolderForeground\":\"#403f53\",\"peekView.border\":\"#d9d9d9\",\"peekViewEditor.background\":\"#f6f6f6\",\"peekViewEditorGutter.background\":\"#f6f6f6\",\"peekViewEditor.matchHighlightBackground\":\"#49d0c5\",\"peekViewResult.background\":\"#f0f0f0\",\"peekViewResult.fileForeground\":\"#403f53\",\"peekViewResult.lineForeground\":\"#403f53\",\"peekViewResult.matchHighlightBackground\":\"#49d0c5\",\"peekViewResult.selectionBackground\":\"#e0e7ea\",\"peekViewResult.selectionForeground\":\"#403f53\",\"peekViewTitle.background\":\"#f0f0f0\",\"peekViewTitleLabel.foreground\":\"#403f53\",\"peekViewTitleDescription.foreground\":\"#403f53\",\"terminal.foreground\":\"#403f53\"},\"fg\":\"#403f53\",\"bg\":\"#f6f7f9\",\"semanticHighlighting\":false,\"settings\":[{\"name\":\"Changed\",\"scope\":[\"markup.changed\",\"meta.diff.header.git\",\"meta.diff.header.from-file\",\"meta.diff.header.to-file\"],\"settings\":{\"foreground\":\"#556484\"}},{\"name\":\"Deleted\",\"scope\":[\"markup.deleted.diff\"],\"settings\":{\"foreground\":\"#ae3c3afd\"}},{\"name\":\"Inserted\",\"scope\":[\"markup.inserted.diff\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Global settings\",\"settings\":{\"background\":\"#011627\",\"foreground\":\"#403f53\"}},{\"name\":\"Comment\",\"scope\":[\"comment\"],\"settings\":{\"foreground\":\"#5f636f\"}},{\"name\":\"String\",\"scope\":[\"string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"String Quoted\",\"scope\":[\"string.quoted\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Support Constant Math\",\"scope\":[\"support.constant.math\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Number\",\"scope\":[\"constant.numeric\",\"constant.character.numeric\"],\"settings\":{\"foreground\":\"#aa0982\",\"fontStyle\":\"\"}},{\"name\":\"Built-in constant\",\"scope\":[\"constant.language\",\"punctuation.definition.constant\",\"variable.other.constant\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"User-defined constant\",\"scope\":[\"constant.character\",\"constant.other\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Constant Character Escape\",\"scope\":[\"constant.character.escape\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"RegExp String\",\"scope\":[\"string.regexp\",\"string.regexp keyword.other\"],\"settings\":{\"foreground\":\"#3a688f\"}},{\"name\":\"Comma in functions\",\"scope\":[\"meta.function punctuation.separator.comma\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"Variable\",\"scope\":[\"variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Keyword\",\"scope\":[\"punctuation.accessor\",\"keyword\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage\",\"scope\":[\"storage\",\"meta.var.expr\",\"meta.class meta.method.declaration meta.var.expr storage.type.js\",\"storage.type.property.js\",\"storage.type.property.ts\",\"storage.type.property.tsx\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type.function.arrow.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Class name\",\"scope\":[\"entity.name.class\",\"meta.class entity.name.type.class\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Inherited class\",\"scope\":[\"entity.other.inherited-class\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Function name\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Meta Tag\",\"scope\":[\"punctuation.definition.tag\",\"meta.tag\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"HTML Tag names\",\"scope\":[\"entity.name.tag\",\"meta.tag.other.html\",\"meta.tag.other.js\",\"meta.tag.other.tsx\",\"entity.name.tag.tsx\",\"entity.name.tag.js\",\"entity.name.tag\",\"meta.tag.js\",\"meta.tag.tsx\",\"meta.tag.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Tag attribute\",\"scope\":[\"entity.other.attribute-name\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Entity Name Tag Custom\",\"scope\":[\"entity.name.tag.custom\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Library (function & constant)\",\"scope\":[\"support.function\",\"support.constant\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Support Constant Property Value meta\",\"scope\":[\"support.constant.meta.property-value\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Library class/type\",\"scope\":[\"support.type\",\"support.class\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Support Variable DOM\",\"scope\":[\"support.variable.dom\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Invalid\",\"scope\":[\"invalid\"],\"settings\":{\"foreground\":\"#bb2060\"}},{\"name\":\"Invalid deprecated\",\"scope\":[\"invalid.deprecated\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Keyword Operator\",\"scope\":[\"keyword.operator\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Relational\",\"scope\":[\"keyword.operator.relational\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Assignment\",\"scope\":[\"keyword.operator.assignment\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Arithmetic\",\"scope\":[\"keyword.operator.arithmetic\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Bitwise\",\"scope\":[\"keyword.operator.bitwise\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Increment\",\"scope\":[\"keyword.operator.increment\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Ternary\",\"scope\":[\"keyword.operator.ternary\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Double-Slashed Comment\",\"scope\":[\"comment.line.double-slash\"],\"settings\":{\"foreground\":\"#5d6376\"}},{\"name\":\"Object\",\"scope\":[\"object\"],\"settings\":{\"foreground\":\"#58656a\"}},{\"name\":\"Null\",\"scope\":[\"constant.language.null\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Meta Brace\",\"scope\":[\"meta.brace\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Meta Delimiter Period\",\"scope\":[\"meta.delimiter.period\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Punctuation Definition String\",\"scope\":[\"punctuation.definition.string\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Punctuation Definition String Markdown\",\"scope\":[\"punctuation.definition.string.begin.markdown\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Boolean\",\"scope\":[\"constant.language.boolean\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Object Comma\",\"scope\":[\"object.comma\"],\"settings\":{\"foreground\":\"#646464\"}},{\"name\":\"Variable Parameter Function\",\"scope\":[\"variable.parameter.function\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Support Type Property Name & entity name tags\",\"scope\":[\"support.type.vendor.property-name\",\"support.constant.vendor.property-value\",\"support.type.property-name\",\"meta.property-list entity.name.tag\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Entity Name tag reference in stylesheets\",\"scope\":[\"meta.property-list entity.name.tag.reference\"],\"settings\":{\"foreground\":\"#286d70\"}},{\"name\":\"Constant Other Color RGB Value Punctuation Definition Constant\",\"scope\":[\"constant.other.color.rgb-value punctuation.definition.constant\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Constant Other Color\",\"scope\":[\"constant.other.color\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Keyword Other Unit\",\"scope\":[\"keyword.other.unit\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Meta Selector\",\"scope\":[\"meta.selector\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Entity Other Attribute Name Id\",\"scope\":[\"entity.other.attribute-name.id\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Meta Property Name\",\"scope\":[\"meta.property-name\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Doctypes\",\"scope\":[\"entity.name.tag.doctype\",\"meta.tag.sgml.doctype\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Punctuation Definition Parameters\",\"scope\":[\"punctuation.definition.parameters\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Keyword Control Operator\",\"scope\":[\"keyword.control.operator\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Keyword Operator Logical\",\"scope\":[\"keyword.operator.logical\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"\"}},{\"name\":\"Variable Instances\",\"scope\":[\"variable.instance\",\"variable.other.instance\",\"variable.readwrite.instance\",\"variable.other.readwrite.instance\",\"variable.other.property\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Variable Property Other object property\",\"scope\":[\"variable.other.object.property\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Variable Property Other object\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Entity Name Function\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Keyword Operator Comparison, imports, returns and Keyword Operator Ruby\",\"scope\":[\"keyword.operator.comparison\",\"keyword.control.flow.js\",\"keyword.control.flow.ts\",\"keyword.control.flow.tsx\",\"keyword.control.ruby\",\"keyword.control.module.ruby\",\"keyword.control.class.ruby\",\"keyword.control.def.ruby\",\"keyword.control.loop.js\",\"keyword.control.loop.ts\",\"keyword.control.import.js\",\"keyword.control.import.ts\",\"keyword.control.import.tsx\",\"keyword.control.from.js\",\"keyword.control.from.ts\",\"keyword.control.from.tsx\",\"keyword.operator.instanceof.js\",\"keyword.operator.expression.instanceof.ts\",\"keyword.operator.expression.instanceof.tsx\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Control Conditional\",\"scope\":[\"keyword.control.conditional.js\",\"keyword.control.conditional.ts\",\"keyword.control.switch.js\",\"keyword.control.switch.ts\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"\"}},{\"name\":\"Support Constant, `new` keyword, Special Method Keyword, `debugger`, other keywords\",\"scope\":[\"support.constant\",\"keyword.other.special-method\",\"keyword.other.new\",\"keyword.other.debugger\",\"keyword.control\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Support Function\",\"scope\":[\"support.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Invalid Broken\",\"scope\":[\"invalid.broken\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Invalid Unimplemented\",\"scope\":[\"invalid.unimplemented\"],\"settings\":{\"foreground\":\"#486e26\"}},{\"name\":\"Invalid Illegal\",\"scope\":[\"invalid.illegal\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Language Variable\",\"scope\":[\"variable.language\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Support Variable Property\",\"scope\":[\"support.variable.property\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Variable Function\",\"scope\":[\"variable.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variable Interpolation\",\"scope\":[\"variable.interpolation\"],\"settings\":{\"foreground\":\"#a64348\"}},{\"name\":\"Meta Function Call\",\"scope\":[\"meta.function-call\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Punctuation Section Embedded\",\"scope\":[\"punctuation.section.embedded\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Punctuation Tweaks\",\"scope\":[\"punctuation.terminator.expression\",\"punctuation.definition.arguments\",\"punctuation.definition.array\",\"punctuation.section.array\",\"meta.array\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"More Punctuation Tweaks\",\"scope\":[\"punctuation.definition.list.begin\",\"punctuation.definition.list.end\",\"punctuation.separator.arguments\",\"punctuation.definition.list\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Template Strings\",\"scope\":[\"string.template meta.template.expression\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Backtics(``) in Template Strings\",\"scope\":[\"string.template punctuation.definition.string\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Italics\",\"scope\":[\"italic\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"italic\"}},{\"name\":\"Bold\",\"scope\":[\"bold\"],\"settings\":{\"foreground\":\"#3b61b0\",\"fontStyle\":\"bold\"}},{\"name\":\"Quote\",\"scope\":[\"quote\"],\"settings\":{\"foreground\":\"#5c6285\"}},{\"name\":\"Raw Code\",\"scope\":[\"raw\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"CoffeScript Variable Assignment\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#186e73\"}},{\"name\":\"CoffeScript Parameter Function\",\"scope\":[\"variable.parameter.function.coffee\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"CoffeeScript Assignments\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"C# Readwrite Variables\",\"scope\":[\"variable.other.readwrite.cs\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"C# Classes & Storage types\",\"scope\":[\"entity.name.type.class.cs\",\"storage.type.cs\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"C# Namespaces\",\"scope\":[\"entity.name.type.namespace.cs\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Tag names in Stylesheets\",\"scope\":[\"entity.name.tag.css\",\"entity.name.tag.less\",\"entity.name.tag.custom.css\",\"support.constant.property-value.css\"],\"settings\":{\"foreground\":\"#984e4d\",\"fontStyle\":\"\"}},{\"name\":\"Wildcard(*) selector in Stylesheets\",\"scope\":[\"entity.name.tag.wildcard.css\",\"entity.name.tag.wildcard.less\",\"entity.name.tag.wildcard.scss\",\"entity.name.tag.wildcard.sass\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"CSS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Attribute Name for CSS\",\"scope\":[\"meta.attribute-selector.css entity.other.attribute-name.attribute\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Elixir Classes\",\"scope\":[\"source.elixir support.type.elixir\",\"source.elixir meta.module.elixir entity.name.class.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Functions\",\"scope\":[\"source.elixir entity.name.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Constants\",\"scope\":[\"source.elixir constant.other.symbol.elixir\",\"source.elixir constant.other.keywords.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir String Punctuations\",\"scope\":[\"source.elixir punctuation.definition.string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir\",\"scope\":[\"source.elixir variable.other.readwrite.module.elixir\",\"source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Binary Punctuations\",\"scope\":[\"source.elixir .punctuation.binary.elixir\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Closure Constant Keyword\",\"scope\":[\"constant.keyword.clojure\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Go Function Calls\",\"scope\":[\"source.go meta.function-call.go\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Go Keywords\",\"scope\":[\"source.go keyword.package.go\",\"source.go keyword.import.go\",\"source.go keyword.function.go\",\"source.go keyword.type.go\",\"source.go keyword.struct.go\",\"source.go keyword.interface.go\",\"source.go keyword.const.go\",\"source.go keyword.var.go\",\"source.go keyword.map.go\",\"source.go keyword.channel.go\",\"source.go keyword.control.go\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Go Constants e.g. nil, string format (%s, %d, etc.)\",\"scope\":[\"source.go constant.language.go\",\"source.go constant.other.placeholder.go\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"C++ Functions\",\"scope\":[\"entity.name.function.preprocessor.cpp\",\"entity.scope.name.cpp\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"C++ Meta Namespace\",\"scope\":[\"meta.namespace-block.cpp\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"C++ Language Primitive Storage\",\"scope\":[\"storage.type.language.primitive.cpp\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"C++ Preprocessor Macro\",\"scope\":[\"meta.preprocessor.macro.cpp\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"C++ Variable Parameter\",\"scope\":[\"variable.parameter\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Powershell Variables\",\"scope\":[\"variable.other.readwrite.powershell\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Powershell Function\",\"scope\":[\"support.function.powershell\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"ID Attribute Name in HTML\",\"scope\":[\"entity.other.attribute-name.id.html\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"HTML Punctuation Definition Tag\",\"scope\":[\"punctuation.definition.tag.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"HTML Doctype\",\"scope\":[\"meta.tag.sgml.doctype.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"JavaScript Classes\",\"scope\":[\"meta.class entity.name.type.class.js\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"JavaScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.js\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"JavaScript Terminator\",\"scope\":[\"terminator.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Meta Punctuation Definition\",\"scope\":[\"meta.js punctuation.definition.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Entity Names in Code Documentations\",\"scope\":[\"entity.name.type.instance.jsdoc\",\"entity.name.type.instance.phpdoc\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"Other Variables in Code Documentations\",\"scope\":[\"variable.other.jsdoc\",\"variable.other.phpdoc\"],\"settings\":{\"foreground\":\"#3e697c\"}},{\"name\":\"JavaScript module imports and exports\",\"scope\":[\"variable.other.meta.import.js\",\"meta.import.js variable.other\",\"variable.other.meta.export.js\",\"meta.export.js variable.other\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Variable Parameter Function\",\"scope\":[\"variable.parameter.function.js\"],\"settings\":{\"foreground\":\"#555ea2\"}},{\"name\":\"JavaScript[React] Variable Other Object\",\"scope\":[\"variable.other.object.js\",\"variable.other.object.jsx\",\"variable.object.property.js\",\"variable.object.property.jsx\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Variables\",\"scope\":[\"variable.js\",\"variable.other.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Entity Name Type\",\"scope\":[\"entity.name.type.js\",\"entity.name.type.module.js\"],\"settings\":{\"foreground\":\"#111111\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Support Classes\",\"scope\":[\"support.class.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JSON Property Names\",\"scope\":[\"support.type.property-name.json\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"JSON Support Constants\",\"scope\":[\"support.constant.json\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"JSON Property values (string)\",\"scope\":[\"meta.structure.dictionary.value.json string.quoted.double\"],\"settings\":{\"foreground\":\"#7c5686\"}},{\"name\":\"Strings in JSON values\",\"scope\":[\"string.quoted.double.json punctuation.definition.string.json\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Specific JSON Property values like null\",\"scope\":[\"meta.structure.dictionary.json meta.structure.dictionary.value constant.language\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"JavaScript Other Variable\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Ruby Variables\",\"scope\":[\"variable.other.ruby\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Ruby Class\",\"scope\":[\"entity.name.type.class.ruby\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Ruby Hashkeys\",\"scope\":[\"constant.language.symbol.hashkey.ruby\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Ruby Symbols\",\"scope\":[\"constant.language.symbol.ruby\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"LESS Tag names\",\"scope\":[\"entity.name.tag.less\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"LESS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Attribute Name for LESS\",\"scope\":[\"meta.attribute-selector.less entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Markdown Headings\",\"scope\":[\"markup.heading.markdown\",\"markup.heading.setext.1.markdown\",\"markup.heading.setext.2.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown Italics\",\"scope\":[\"markup.italic.markdown\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"italic\"}},{\"name\":\"Markdown Bold\",\"scope\":[\"markup.bold.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\",\"fontStyle\":\"bold\"}},{\"name\":\"Markdown Quote + others\",\"scope\":[\"markup.quote.markdown\"],\"settings\":{\"foreground\":\"#5c6285\"}},{\"name\":\"Markdown Raw Code + others\",\"scope\":[\"markup.inline.raw.markdown\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Markdown Links\",\"scope\":[\"markup.underline.link.markdown\",\"markup.underline.link.image.markdown\"],\"settings\":{\"foreground\":\"#954f5a\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Link Title and Description\",\"scope\":[\"string.other.link.title.markdown\",\"string.other.link.description.markdown\"],\"settings\":{\"foreground\":\"#403f53\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Punctuation\",\"scope\":[\"punctuation.definition.string.markdown\",\"punctuation.definition.string.begin.markdown\",\"punctuation.definition.string.end.markdown\",\"meta.link.inline.markdown punctuation.definition.string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown MetaData Punctuation\",\"scope\":[\"punctuation.definition.metadata.markdown\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Markdown List Punctuation\",\"scope\":[\"beginning.punctuation.definition.list.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown Inline Raw String\",\"scope\":[\"markup.inline.raw.string.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"PHP Variables\",\"scope\":[\"variable.other.php\",\"variable.other.property.php\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Support Classes in PHP\",\"scope\":[\"support.class.php\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Punctuations in PHP function calls\",\"scope\":[\"meta.function-call.php punctuation\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"PHP Global Variables\",\"scope\":[\"variable.other.global.php\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Declaration Punctuation in PHP Global Variables\",\"scope\":[\"variable.other.global.php punctuation.definition.variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Language Constants in Python\",\"scope\":[\"constant.language.python\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Python Function Parameter and Arguments\",\"scope\":[\"variable.parameter.function.python\",\"meta.function-call.arguments.python\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Python Function Call\",\"scope\":[\"meta.function-call.python\",\"meta.function-call.generic.python\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Punctuations in Python\",\"scope\":[\"punctuation.python\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Decorator Functions in Python\",\"scope\":[\"entity.name.function.decorator.python\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Python Language Variable\",\"scope\":[\"source.python variable.language.special\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Python import control keyword\",\"scope\":[\"keyword.control\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"SCSS Variable\",\"scope\":[\"variable.scss\",\"variable.sass\",\"variable.parameter.url.scss\",\"variable.parameter.url.sass\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Attribute Name for SASS\",\"scope\":[\"meta.attribute-selector.scss entity.other.attribute-name.attribute\",\"meta.attribute-selector.sass entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Tag names in SASS\",\"scope\":[\"entity.name.tag.scss\",\"entity.name.tag.sass\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"SASS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.scss\",\"keyword.other.unit.sass\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"TypeScript[React] Variables and Object Properties\",\"scope\":[\"variable.other.readwrite.alias.ts\",\"variable.other.readwrite.alias.tsx\",\"variable.other.readwrite.ts\",\"variable.other.readwrite.tsx\",\"variable.other.object.ts\",\"variable.other.object.tsx\",\"variable.object.property.ts\",\"variable.object.property.tsx\",\"variable.other.ts\",\"variable.other.tsx\",\"variable.tsx\",\"variable.ts\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript[React] Entity Name Types\",\"scope\":[\"entity.name.type.ts\",\"entity.name.type.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript[React] Node Classes\",\"scope\":[\"support.class.node.ts\",\"support.class.node.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"TypeScript[React] Entity Name Types as Parameters\",\"scope\":[\"meta.type.parameters.ts entity.name.type\",\"meta.type.parameters.tsx entity.name.type\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"TypeScript[React] Import/Export Punctuations\",\"scope\":[\"meta.import.ts punctuation.definition.block\",\"meta.import.tsx punctuation.definition.block\",\"meta.export.ts punctuation.definition.block\",\"meta.export.tsx punctuation.definition.block\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.decorator punctuation.decorator.ts\",\"meta.decorator punctuation.decorator.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.tag.js meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"YAML Entity Name Tags\",\"scope\":[\"entity.name.tag.yaml\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"JavaScript Variable Other ReadWrite\",\"scope\":[\"variable.other.readwrite.js\",\"variable.parameter\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Support Class Component\",\"scope\":[\"support.class.component.js\",\"support.class.component.tsx\"],\"settings\":{\"foreground\":\"#aa0982\",\"fontStyle\":\"\"}},{\"name\":\"Text nested in React tags\",\"scope\":[\"meta.jsx.children\",\"meta.jsx.children.js\",\"meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript Classes\",\"scope\":[\"meta.class entity.name.type.class.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript Entity Name Type\",\"scope\":[\"entity.name.type.tsx\",\"entity.name.type.module.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript Class Variable Keyword\",\"scope\":[\"meta.class.ts meta.var.expr.ts storage.type.ts\",\"meta.class.tsx meta.var.expr.tsx storage.type.tsx\"],\"settings\":{\"foreground\":\"#76578b\"}},{\"name\":\"TypeScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.ts\",\"meta.method.declaration storage.type.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"normalize font style of certain components\",\"scope\":[\"meta.property-list.css meta.property-value.css variable.other.less\",\"meta.property-list.scss variable.scss\",\"meta.property-list.sass variable.sass\",\"meta.brace\",\"keyword.operator.operator\",\"keyword.operator.or.regexp\",\"keyword.operator.expression.in\",\"keyword.operator.relational\",\"keyword.operator.assignment\",\"keyword.operator.comparison\",\"keyword.operator.type\",\"keyword.operator\",\"keyword\",\"punctuation.definintion.string\",\"punctuation\",\"variable.other.readwrite.js\",\"storage.type\",\"source.css\",\"string.quoted\"],\"settings\":{\"fontStyle\":\"\"}}],\"styleOverrides\":{\"frames\":{\"editorBackground\":\"var(--sl-color-gray-7)\",\"terminalBackground\":\"var(--sl-color-gray-7)\",\"editorActiveTabBackground\":\"var(--sl-color-gray-7)\",\"terminalTitlebarDotsForeground\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"terminalTitlebarDotsOpacity\":\"0.75\",\"inlineButtonForeground\":\"var(--sl-color-text)\",\"frameBoxShadowCssValue\":\"none\"},\"textMarkers\":{\"markBackground\":\"#0000001a\",\"markBorderColor\":\"#00000055\"}}}],\"defaultLocale\":\"en\",\"cascadeLayer\":\"starlight.components\",\"styleOverrides\":{\"borderRadius\":\"0px\",\"borderWidth\":\"1px\",\"codePaddingBlock\":\"0.75rem\",\"codePaddingInline\":\"1rem\",\"codeFontFamily\":\"var(--__sl-font-mono)\",\"codeFontSize\":\"var(--sl-text-code)\",\"codeLineHeight\":\"var(--sl-line-height)\",\"uiFontFamily\":\"var(--__sl-font)\",\"textMarkers\":{\"lineDiffIndicatorMarginLeft\":\"0.25rem\",\"defaultChroma\":\"45\",\"backgroundOpacity\":\"60%\"}},\"plugins\":[{\"name\":\"Starlight Plugin\",\"hooks\":{}},{\"name\":\"astro-expressive-code\",\"hooks\":{}}]}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false},\"legacy\":{\"collections\":false},\"prefetch\":{\"prefetchAll\":true},\"i18n\":{\"defaultLocale\":\"en\",\"locales\":[\"en\"],\"routing\":{\"prefixDefaultLocale\":false,\"redirectToDefaultLocale\":false,\"fallbackType\":\"redirect\"}}}","versions",["Map",11,12,44,45],"v054",{"id":11,"data":13,"filePath":42,"digest":43},{"sidebar":14},[15,19,23,27,31,35,39],{"label":16,"autogenerate":17},"User Guide",{"directory":18},"user-guide",{"label":20,"autogenerate":21},"Actions",{"directory":22},"actions",{"label":24,"autogenerate":25},"Tutorials",{"directory":26},"tutorials",{"label":28,"autogenerate":29},"Reference",{"directory":30},"reference",{"label":32,"autogenerate":33},"Community and Support",{"directory":34},"community",{"label":36,"autogenerate":37},"Contribute",{"directory":38},"contribute",{"label":40,"slug":41},"Roadmap for Pepr","roadmap","src/content/versions/v0.54.json","7e7f5d934d38124a","v055",{"id":44,"data":46,"filePath":61,"digest":43},{"sidebar":47},[48,50,52,54,56,58,60],{"label":16,"autogenerate":49},{"directory":18},{"label":20,"autogenerate":51},{"directory":22},{"label":24,"autogenerate":53},{"directory":26},{"label":28,"autogenerate":55},{"directory":30},{"label":32,"autogenerate":57},{"directory":34},{"label":36,"autogenerate":59},{"directory":38},{"label":40,"slug":41},"src/content/versions/v0.55.json","docs",["Map",41,64,111,112,141,142,179,180,203,204,223,224,274,275,332,333,350,351,368,369,386,387,443,444,473,474,26,491,508,509,545,546,22,564,583,584,649,650,676,677,757,758,799,800,894,895,912,913,936,937,963,964,1021,1022,1072,1073,1093,1094,1111,1112,18,1129,1179,1180,1218,1219,1243,1244,1263,1264,1319,1320,1350,1351,1380,1381,1412,1413,1443,1444,1471,1472,1500,1501,1524,1525,1542,1543,1559,1560,1582,1583,1599,1600,1620,1621,1638,1639,1655,1656,1678,1679,1699,1700,1718,1719,1735,1736,1763,1764,1794,1795,1833,1834,1866,1867,1881,1882,1908,1909,1930,1931,1947,1948,1991,1992,2006,2007,2025,2026,2053,2054,2071,2072,2102,2103,2118,2119,2135,2136,2152,2153,2186,2187,2208,2209,2227,2228,2243,2244,2273,2274,2295,2296,2317,2318,2332,2333,2352,2353,2368,2369,2389,2390,2404,2405,2420,2421,2435,2436,2454,2455,2473,2474,2496,2497,2513,2514,2530,2531,2559,2560,2585,2586,2622,2623,2653,2654,2668,2669,2693,2694,2713,2714,2755,2756,2770,2771,2787,2788,2802,2803,2820,2821,2846,2847,2875,2876,2891,2892,2906,2907,2921,2922,2951,2952,2973,2974,2992,2993,3020,3021,3036,3037,3056,3057,3076,3077],{"id":41,"data":65,"body":72,"filePath":73,"digest":74,"rendered":75},{"title":40,"description":40,"editUrl":66,"head":67,"template":68,"sidebar":69,"pagefind":66,"draft":70},true,[],"doc",{"hidden":70,"attrs":71},false,{},"_2025 Roadmap_  \n\n## Phase 1: Code Quality - Experimentation\n\n- **Q1**:\n  - **Turn on eslint enforcement and configure settings and see no warnings**:\n    - Eliminate circular dependencies, complexity, return statements, etc.\n  - **Metric and Performance Baselining**:\n    - Establish a baseline for performance and resource utilization metrics. Use this data to make informed decisions about the direction of the project in terms of Deno2\n  - **Nightly Release**:\n    - Establish a nightly release process. This will help us to catch bugs early and ensure that the project is always in a releasable state.\n\n## Phase 2: Test Reliability & CRD generation\n\n- **Q2**:\n  - **Professional Dashboard displaying metrics and performance tests originating from CI**\n  - **Improve integration testing with Pepr, UDS Core, and Kubernetes Fluent Client**\n    - This focused on a more reliable release process to reduce the frequency of regressions.\n  - **Migrate old `journey/` style tests to Pepr-Excellent-Examples or newer CLI integration tests. See [pepr/#1597](https://github.com/defenseunicorns/pepr/issues/1597).\n  - **Define Governance with Pepr**\n    - Add support for compliance/governance validation within Pepr. See [pepr/#1823](https://github.com/defenseunicorns/pepr/issues/1823).\n  - As an alpha feature, support the generation of CRDs within Pepr. See [pepr/#1062](https://github.com/defenseunicorns/pepr/issues/1062).\n\n## Phase 3: TBD\n\n- **Q3**:\n  - **Support Governance with Pepr**\n    - Improve initial support added in Q2.\n  - **Transactional PeprStore Implementation**:\n    - Begin integrating transactional functionality into PeprStore. The implementation will emphasize robust testing and clear documentation to support fast and reliable data operations in a transactional manner.\n\n## Phase 4: TBD\n\n- **Q4**:\n  - **Prepare for Project Donation**\n    - Consider Pepr project donation after resolving the open topics of Governance and performance at scale\n  - **Experimentation with Deno2**:\n    - Experiment with Deno2 through Dash Days and see if it can be used in the project. Look into the performance improvements and new features that Deno2 brings to the table.\n\n## Deferred or Unprioritized Work\n\nThis section contains work we've considered, but have not slotted in to the roadmap or have had to deprioritize.\n\n- **Pepr v1.0.0**\n  - Determine if Pepr is stable enough to be at `v1.0.0` and release it!\n- **OTEL Preparation**:\n  - Come up with a plan to implement Open Telemetry. Specifically distributed tracing, metrics, logs and events. Use this data to make debugging easier from a UDS Core perspective. There will be documentation work on how to use an OTEL collector with a Pepr Module.\n- **Deno2 Implementation**:\n  - If determined to be advisable, move forward with migrating the project to Deno2 (starting with the kubernetes-fluent-client..?). This phase will focus on adapting the codebase, conducting extensive testing, and creating comprehensive documentation to ensure a seamless transition.\n- **Determine if a Transactional PeprStore makes sense**:\n  - Sus out details involved with having a transactional Pepr Store. What are the implications of this? What are the benefits? What are the drawbacks? What are the use-cases? What are the technologies that can be used to implement this?\n\n_2024 Roadmap_  \n\n## Phase 1: Preparation - Testing and Docs\n\n- **Q1**:\n  - **Establish Medium for Communication with Community**:\n    - Establish communication channel for community members and contributors. Easy/discoverable \"how to contribute\" guide.\n  - **Site/Documentation**:\n    - Improve information architecture, nail killer use-cases, and make it obvious how to get started and find your way around.\n  - **Automated Testing**:\n    - Focus on stories that increase confidence in protection of features and functionality. Simplify hello-pepr and bring e2e test against external repo with examples. Make sure that contributions are well-tested.\n\n## Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development\n\n- **Q2**:\n  - **Community Engagement**:\n    - Begin engaging with potential contributors and users through social media, Kubernetes/Cloud Native Computing Foundation (CNCF) meetups, and other channels. Monitor and participate in our Slack channel.\n  - **Feature Development**:\n    - Based on company feedback, continuously improve and add features. Add feature parity with other tools in the Kubernetes ecosystem where it makes sense. Chip away at the backlog.\n  - **Documentation Improvements**:\n    - Continue to improve documentation and add more examples like Doom, find scaling limitations\n  - **Competitive Analysis**:\n    - Understand the competitive landscape and how/where Pepr can/does differentiate itself. Have it in the docs.\n  - **Instrumentation**:\n    - Outfit Pepr with the necessary instrumentation to collect metrics and logs. Use this data to make informed about the watch direction.\n\n## Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features\n\n- **Q3**:\n  - **Informer Iterations**:\n    - Tune informer based on feedback from UDS Core and delivery so events will be reconciled through eventual consistency.\n    - [Evaluate](https://github.com/defenseunicorns/pepr/blob/main/adr/0015-kfc-watch-undici/) other underlying technologies for informer.\n  - **Feature Development**:\n    - `.WithNameRegex()/.InNamespaceRegex()` for Kubernetes Controller development against resources that could match a variety of names or namespaces.\n    - `.WithDeletionTimestamp()` for Kubernetes Controller Development against resources that are pending deletion\n    - Create a sharded queue that enables the Module Author to define queueing strategies based on `kind`, `kind/namespace`, `kind/namespace/name`, `global`.\n  - **Community Building**:\n    - Grow the contributor base, establish a governance model, and encourage community-led initiatives. Look to drive conversation in our Slack Channel.\n    - Based on community feedback, continuously improve and add features. Rigorously test and document and review code.\n  - **Project Advocation**:\n    - Publicly advocate for the project and encourage adoption.\n  - **Stability**:\n    - Ensure that the project is stable and reliable. Make sure that the project is well-tested and documented.\n    - Identify new areas of project improvement and work on them.\n\n## Phase 4: Feature Development, Stabilization, Code and Testing Quality Improvements\n\n- **Q4**:\n  - **Features**:\n    - Improve DevEx overrides in Pepr section of package.json for customized builds of Modules\n    - `.Finalize()` for Kubernetes Controller Development to controlling downstream resources through finalizers\n    - Scaffolding to validate images from a registry through cosign/sigstore\n    - Replace node-fetch with Undici in the KFC project for performance improvements\n  - **Removal of Circular Dependencies**:\n    Identify and remove circular dependencies in the codebase.\n  - **Strong Typings**:\n    - Identify where we can make Pepr/KFC stronger by adding typings.\n  - **Work to reduce code complexity**\n    - Monitor code complexity through eslint, work to drive down complexity\n  - **Robust E2E Tests in KFC**:\n    - Create a strong e2e suite in KFC, ensure tests are robust and cover all the features of KFC.\n  - **Documentation**:\n    - Ensure that the documentation is up-to-date and accurate. Add more examples and use-cases.\n    - Onboarding and contribution guides should be clear and easy to follow.\n  - **Load/Stress Testing**:\n    - Load test Pepr/KFC to identify bottlenecks and areas of improvement.\n    - Ensure that Pepr/KFC can handle a large number of resources and events over a sustained period of time (nightly).","src/content/docs/roadmap.md","8f27c719f3675a00",{"html":76,"metadata":77},"\u003Cp>\u003Cem>2025 Roadmap\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-1-code-quality---experimentation\">Phase 1: Code Quality - Experimentation\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-1-code-quality---experimentation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 1: Code Quality - Experimentation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q1\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Turn on eslint enforcement and configure settings and see no warnings\u003C/strong>:\n\u003Cul>\n\u003Cli>Eliminate circular dependencies, complexity, return statements, etc.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Metric and Performance Baselining\u003C/strong>:\n\u003Cul>\n\u003Cli>Establish a baseline for performance and resource utilization metrics. Use this data to make informed decisions about the direction of the project in terms of Deno2\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Nightly Release\u003C/strong>:\n\u003Cul>\n\u003Cli>Establish a nightly release process. This will help us to catch bugs early and ensure that the project is always in a releasable state.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-2-test-reliability--crd-generation\">Phase 2: Test Reliability &#x26; CRD generation\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-2-test-reliability--crd-generation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 2: Test Reliability &#x26; CRD generation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q2\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Professional Dashboard displaying metrics and performance tests originating from CI\u003C/strong>\u003C/li>\n\u003Cli>\u003Cstrong>Improve integration testing with Pepr, UDS Core, and Kubernetes Fluent Client\u003C/strong>\n\u003Cul>\n\u003Cli>This focused on a more reliable release process to reduce the frequency of regressions.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>**Migrate old \u003Ccode dir=\"auto\">journey/\u003C/code> style tests to Pepr-Excellent-Examples or newer CLI integration tests. See \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues/1597\">pepr/#1597\u003C/a>.\u003C/li>\n\u003Cli>\u003Cstrong>Define Governance with Pepr\u003C/strong>\n\u003Cul>\n\u003Cli>Add support for compliance/governance validation within Pepr. See \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues/1823\">pepr/#1823\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>As an alpha feature, support the generation of CRDs within Pepr. See \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues/1062\">pepr/#1062\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-3-tbd\">Phase 3: TBD\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-3-tbd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 3: TBD”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q3\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Support Governance with Pepr\u003C/strong>\n\u003Cul>\n\u003Cli>Improve initial support added in Q2.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Transactional PeprStore Implementation\u003C/strong>:\n\u003Cul>\n\u003Cli>Begin integrating transactional functionality into PeprStore. The implementation will emphasize robust testing and clear documentation to support fast and reliable data operations in a transactional manner.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-4-tbd\">Phase 4: TBD\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-4-tbd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 4: TBD”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q4\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Prepare for Project Donation\u003C/strong>\n\u003Cul>\n\u003Cli>Consider Pepr project donation after resolving the open topics of Governance and performance at scale\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Experimentation with Deno2\u003C/strong>:\n\u003Cul>\n\u003Cli>Experiment with Deno2 through Dash Days and see if it can be used in the project. Look into the performance improvements and new features that Deno2 brings to the table.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"deferred-or-unprioritized-work\">Deferred or Unprioritized Work\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#deferred-or-unprioritized-work\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Deferred or Unprioritized Work”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This section contains work we’ve considered, but have not slotted in to the roadmap or have had to deprioritize.\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Pepr v1.0.0\u003C/strong>\n\u003Cul>\n\u003Cli>Determine if Pepr is stable enough to be at \u003Ccode dir=\"auto\">v1.0.0\u003C/code> and release it!\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>OTEL Preparation\u003C/strong>:\n\u003Cul>\n\u003Cli>Come up with a plan to implement Open Telemetry. Specifically distributed tracing, metrics, logs and events. Use this data to make debugging easier from a UDS Core perspective. There will be documentation work on how to use an OTEL collector with a Pepr Module.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Deno2 Implementation\u003C/strong>:\n\u003Cul>\n\u003Cli>If determined to be advisable, move forward with migrating the project to Deno2 (starting with the kubernetes-fluent-client..?). This phase will focus on adapting the codebase, conducting extensive testing, and creating comprehensive documentation to ensure a seamless transition.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Determine if a Transactional PeprStore makes sense\u003C/strong>:\n\u003Cul>\n\u003Cli>Sus out details involved with having a transactional Pepr Store. What are the implications of this? What are the benefits? What are the drawbacks? What are the use-cases? What are the technologies that can be used to implement this?\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cem>2024 Roadmap\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-1-preparation---testing-and-docs\">Phase 1: Preparation - Testing and Docs\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-1-preparation---testing-and-docs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 1: Preparation - Testing and Docs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q1\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Establish Medium for Communication with Community\u003C/strong>:\n\u003Cul>\n\u003Cli>Establish communication channel for community members and contributors. Easy/discoverable “how to contribute” guide.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Site/Documentation\u003C/strong>:\n\u003Cul>\n\u003Cli>Improve information architecture, nail killer use-cases, and make it obvious how to get started and find your way around.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Automated Testing\u003C/strong>:\n\u003Cul>\n\u003Cli>Focus on stories that increase confidence in protection of features and functionality. Simplify hello-pepr and bring e2e test against external repo with examples. Make sure that contributions are well-tested.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-2-community-building-competitive-analysis-instrumentation-and-feature-development\">Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-2-community-building-competitive-analysis-instrumentation-and-feature-development\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q2\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Community Engagement\u003C/strong>:\n\u003Cul>\n\u003Cli>Begin engaging with potential contributors and users through social media, Kubernetes/Cloud Native Computing Foundation (CNCF) meetups, and other channels. Monitor and participate in our Slack channel.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Feature Development\u003C/strong>:\n\u003Cul>\n\u003Cli>Based on company feedback, continuously improve and add features. Add feature parity with other tools in the Kubernetes ecosystem where it makes sense. Chip away at the backlog.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Documentation Improvements\u003C/strong>:\n\u003Cul>\n\u003Cli>Continue to improve documentation and add more examples like Doom, find scaling limitations\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Competitive Analysis\u003C/strong>:\n\u003Cul>\n\u003Cli>Understand the competitive landscape and how/where Pepr can/does differentiate itself. Have it in the docs.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Instrumentation\u003C/strong>:\n\u003Cul>\n\u003Cli>Outfit Pepr with the necessary instrumentation to collect metrics and logs. Use this data to make informed about the watch direction.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-3-informer-iterations-watch-analysis-metric-collection-developmentstabilizationimprovement-of-new-features\">Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-3-informer-iterations-watch-analysis-metric-collection-developmentstabilizationimprovement-of-new-features\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q3\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Informer Iterations\u003C/strong>:\n\u003Cul>\n\u003Cli>Tune informer based on feedback from UDS Core and delivery so events will be reconciled through eventual consistency.\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/defenseunicorns/pepr/blob/main/adr/0015-kfc-watch-undici/\">Evaluate\u003C/a> other underlying technologies for informer.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Feature Development\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">.WithNameRegex()/.InNamespaceRegex()\u003C/code> for Kubernetes Controller development against resources that could match a variety of names or namespaces.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.WithDeletionTimestamp()\u003C/code> for Kubernetes Controller Development against resources that are pending deletion\u003C/li>\n\u003Cli>Create a sharded queue that enables the Module Author to define queueing strategies based on \u003Ccode dir=\"auto\">kind\u003C/code>, \u003Ccode dir=\"auto\">kind/namespace\u003C/code>, \u003Ccode dir=\"auto\">kind/namespace/name\u003C/code>, \u003Ccode dir=\"auto\">global\u003C/code>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Community Building\u003C/strong>:\n\u003Cul>\n\u003Cli>Grow the contributor base, establish a governance model, and encourage community-led initiatives. Look to drive conversation in our Slack Channel.\u003C/li>\n\u003Cli>Based on community feedback, continuously improve and add features. Rigorously test and document and review code.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Project Advocation\u003C/strong>:\n\u003Cul>\n\u003Cli>Publicly advocate for the project and encourage adoption.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Stability\u003C/strong>:\n\u003Cul>\n\u003Cli>Ensure that the project is stable and reliable. Make sure that the project is well-tested and documented.\u003C/li>\n\u003Cli>Identify new areas of project improvement and work on them.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-4-feature-development-stabilization-code-and-testing-quality-improvements\">Phase 4: Feature Development, Stabilization, Code and Testing Quality Improvements\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-4-feature-development-stabilization-code-and-testing-quality-improvements\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 4: Feature Development, Stabilization, Code and Testing Quality Improvements”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q4\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Features\u003C/strong>:\n\u003Cul>\n\u003Cli>Improve DevEx overrides in Pepr section of package.json for customized builds of Modules\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.Finalize()\u003C/code> for Kubernetes Controller Development to controlling downstream resources through finalizers\u003C/li>\n\u003Cli>Scaffolding to validate images from a registry through cosign/sigstore\u003C/li>\n\u003Cli>Replace node-fetch with Undici in the KFC project for performance improvements\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Removal of Circular Dependencies\u003C/strong>:\nIdentify and remove circular dependencies in the codebase.\u003C/li>\n\u003Cli>\u003Cstrong>Strong Typings\u003C/strong>:\n\u003Cul>\n\u003Cli>Identify where we can make Pepr/KFC stronger by adding typings.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Work to reduce code complexity\u003C/strong>\n\u003Cul>\n\u003Cli>Monitor code complexity through eslint, work to drive down complexity\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Robust E2E Tests in KFC\u003C/strong>:\n\u003Cul>\n\u003Cli>Create a strong e2e suite in KFC, ensure tests are robust and cover all the features of KFC.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Documentation\u003C/strong>:\n\u003Cul>\n\u003Cli>Ensure that the documentation is up-to-date and accurate. Add more examples and use-cases.\u003C/li>\n\u003Cli>Onboarding and contribution guides should be clear and easy to follow.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Load/Stress Testing\u003C/strong>:\n\u003Cul>\n\u003Cli>Load test Pepr/KFC to identify bottlenecks and areas of improvement.\u003C/li>\n\u003Cli>Ensure that Pepr/KFC can handle a large number of resources and events over a sustained period of time (nightly).\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>",{"headings":78,"localImagePaths":107,"remoteImagePaths":108,"frontmatter":109,"imagePaths":110},[79,83,86,89,92,95,98,101,104],{"depth":80,"slug":81,"text":82},2,"phase-1-code-quality---experimentation","Phase 1: Code Quality - Experimentation",{"depth":80,"slug":84,"text":85},"phase-2-test-reliability--crd-generation","Phase 2: Test Reliability & CRD generation",{"depth":80,"slug":87,"text":88},"phase-3-tbd","Phase 3: TBD",{"depth":80,"slug":90,"text":91},"phase-4-tbd","Phase 4: TBD",{"depth":80,"slug":93,"text":94},"deferred-or-unprioritized-work","Deferred or Unprioritized Work",{"depth":80,"slug":96,"text":97},"phase-1-preparation---testing-and-docs","Phase 1: Preparation - Testing and Docs",{"depth":80,"slug":99,"text":100},"phase-2-community-building-competitive-analysis-instrumentation-and-feature-development","Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development",{"depth":80,"slug":102,"text":103},"phase-3-informer-iterations-watch-analysis-metric-collection-developmentstabilizationimprovement-of-new-features","Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features",{"depth":80,"slug":105,"text":106},"phase-4-feature-development-stabilization-code-and-testing-quality-improvements","Phase 4: Feature Development, Stabilization, Code and Testing Quality Improvements",[],[],{"title":40,"description":40},[],"community/community",{"id":111,"data":113,"body":117,"filePath":118,"digest":119,"rendered":120},{"title":32,"description":32,"editUrl":66,"head":114,"template":68,"sidebar":115,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":116},{},"## Introduction\n\nPepr is a community-driven project. We welcome contributions of all kinds, from bug reports to feature requests to code changes. We also welcome contributions of documentation, tutorials, and examples.\n\n## Contributing\n\nYou can find all the details on contributing to Pepr at:\n\n* [Contributing to Pepr](/contribute/contributor-guide)\n\n### Reporting Bugs\n\nInformation on reporting bugs can be found at:\n\n* [Reporting Bugs](/community/support)\n\n### Reporting Security Issues\n\nInformation on reporting security issues can be found at:\n\n* [Reporting Security Issues](/community/security)","src/content/docs/community/community.md","b7cc187d06e1e2d5",{"html":121,"metadata":122},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr is a community-driven project. We welcome contributions of all kinds, from bug reports to feature requests to code changes. We also welcome contributions of documentation, tutorials, and examples.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contributing\">Contributing\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contributing\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contributing”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can find all the details on contributing to Pepr at:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/contribute/contributor-guide\">Contributing to Pepr\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"reporting-bugs\">Reporting Bugs\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-bugs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting Bugs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Information on reporting bugs can be found at:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/community/support\">Reporting Bugs\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"reporting-security-issues\">Reporting Security Issues\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-security-issues\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting Security Issues”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Information on reporting security issues can be found at:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/community/security\">Reporting Security Issues\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":123,"localImagePaths":137,"remoteImagePaths":138,"frontmatter":139,"imagePaths":140},[124,127,130,134],{"depth":80,"slug":125,"text":126},"introduction","Introduction",{"depth":80,"slug":128,"text":129},"contributing","Contributing",{"depth":131,"slug":132,"text":133},3,"reporting-bugs","Reporting Bugs",{"depth":131,"slug":135,"text":136},"reporting-security-issues","Reporting Security Issues",[],[],{"title":32,"description":32},[],"community/pepr-media",{"id":141,"data":143,"body":148,"filePath":149,"digest":150,"rendered":151},{"title":144,"description":144,"editUrl":66,"head":145,"template":68,"sidebar":146,"pagefind":66,"draft":70},"Pepr Media",[],{"hidden":70,"attrs":147},{},"## 2025\n\n### Presentations\n\n- Building Smarter Kubernetes Workflows: Pepr for the modern SRE\n- [Shipping Software faster and Safer with Pepr](https://open.spotify.com/episode/3ZtXKLCsMN0hFHXCinCZVT?si=c824f1ace8ca4960)\n\n## 2024\n\n### Session Recordings\n\n- [Leveraging Fluent Ecosystems: Leveraging Fluent, Flexible APIs for Admission Control Strategies](https://www.youtube.com/watch?v=32xhSJPMtBU&t=25s)\n- [Optimizing Kubernetes Operators and Admission Control - Open Source Summit NA 2024](https://www.youtube.com/watch?v=SqJfvQ1frr4)\n- [Pepr Analysis and Demo - YouTube](https://www.youtube.com/watch?v=kgSfS68hzbY)\n\n### Workshops\n\n- [Pepr Scenario Killer Koda](https://killercoda.com/decoder/scenario/pepr)\n- [DevopsDaysRaleigh Pepr Workshop - Building an enterprise admission controller](https://github.com/cmwylie19/enterprise-admission-controller)\n\n### Blogs\n\n- [From YAML Chaos to Kubernetes Zen](https://itnext.io/from-yaml-chaos-to-kubernetes-zen-5b9e8242a5cb)\n\n## 2023\n\n### Session Recordings\n\n- [Optimizing Kubernetes Ecosystems: Leveraging Fluent, Flexible APIs for Admission Control Strategies](https://www.youtube.com/watch?v=32xhSJPMtBU&t=12s)\n- [Getting Started with Defense Unicorns Integrating Capabilities with Pepr](https://www.youtube.com/watch?v=2kHIMo0ITo4)","src/content/docs/community/pepr-media.md","aa2dda579bc5c067",{"html":152,"metadata":153},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"2025\">2025\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#2025\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “2025”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"presentations\">Presentations\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#presentations\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Presentations”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Building Smarter Kubernetes Workflows: Pepr for the modern SRE\u003C/li>\n\u003Cli>\u003Ca href=\"https://open.spotify.com/episode/3ZtXKLCsMN0hFHXCinCZVT?si=c824f1ace8ca4960\">Shipping Software faster and Safer with Pepr\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"2024\">2024\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#2024\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “2024”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"session-recordings\">Session Recordings\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#session-recordings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Session Recordings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=32xhSJPMtBU&#x26;t=25s\">Leveraging Fluent Ecosystems: Leveraging Fluent, Flexible APIs for Admission Control Strategies\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=SqJfvQ1frr4\">Optimizing Kubernetes Operators and Admission Control - Open Source Summit NA 2024\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=kgSfS68hzbY\">Pepr Analysis and Demo - YouTube\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"workshops\">Workshops\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#workshops\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Workshops”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://killercoda.com/decoder/scenario/pepr\">Pepr Scenario Killer Koda\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/cmwylie19/enterprise-admission-controller\">DevopsDaysRaleigh Pepr Workshop - Building an enterprise admission controller\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"blogs\">Blogs\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#blogs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Blogs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://itnext.io/from-yaml-chaos-to-kubernetes-zen-5b9e8242a5cb\">From YAML Chaos to Kubernetes Zen\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"2023\">2023\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#2023\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “2023”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"session-recordings-1\">Session Recordings\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#session-recordings-1\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Session Recordings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=32xhSJPMtBU&#x26;t=12s\">Optimizing Kubernetes Ecosystems: Leveraging Fluent, Flexible APIs for Admission Control Strategies\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://www.youtube.com/watch?v=2kHIMo0ITo4\">Getting Started with Defense Unicorns Integrating Capabilities with Pepr\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":154,"localImagePaths":175,"remoteImagePaths":176,"frontmatter":177,"imagePaths":178},[155,157,160,162,165,168,171,173],{"depth":80,"slug":156,"text":156},"2025",{"depth":131,"slug":158,"text":159},"presentations","Presentations",{"depth":80,"slug":161,"text":161},"2024",{"depth":131,"slug":163,"text":164},"session-recordings","Session Recordings",{"depth":131,"slug":166,"text":167},"workshops","Workshops",{"depth":131,"slug":169,"text":170},"blogs","Blogs",{"depth":80,"slug":172,"text":172},"2023",{"depth":131,"slug":174,"text":164},"session-recordings-1",[],[],{"title":144,"description":144},[],"community/security",{"id":179,"data":181,"body":186,"filePath":187,"digest":188,"rendered":189},{"title":182,"description":182,"editUrl":66,"head":183,"template":68,"sidebar":184,"pagefind":66,"draft":70},"Security Policy",[],{"hidden":70,"attrs":185},{},"## Reporting a Vulnerability\n\nIf you discover a security vulnerability in Pepr, please report it to us by sending an email to [pepr@defenseunicorns.com](mailto:pepr@defenseunicorns.com?subject=vulnerability) or directly through the [GitHub UI](https://github.com/defenseunicorns/pepr/security/advisories/new).\n\nPlease include the following details in your report:\n\n- A clear description of the vulnerability\n- Steps to reproduce the vulnerability\n- Any additional information that may be helpful in understanding and fixing the issue\n\nWe appreciate your help in making Pepr more secure and will acknowledge your contribution in the remediation PR.\n\n## Contact\n\nIf you have any questions or concerns regarding the security of Pepr, please contact us at [pepr@defenseunicorns.com](mailto:pepr@defenseunicorns.com).","src/content/docs/community/security.md","53322c0db8a7ee8f",{"html":190,"metadata":191},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reporting-a-vulnerability\">Reporting a Vulnerability\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-a-vulnerability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting a Vulnerability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you discover a security vulnerability in Pepr, please report it to us by sending an email to \u003Ca href=\"mailto:pepr@defenseunicorns.com?subject=vulnerability\">pepr@defenseunicorns.com\u003C/a> or directly through the \u003Ca href=\"https://github.com/defenseunicorns/pepr/security/advisories/new\">GitHub UI\u003C/a>.\u003C/p>\n\u003Cp>Please include the following details in your report:\u003C/p>\n\u003Cul>\n\u003Cli>A clear description of the vulnerability\u003C/li>\n\u003Cli>Steps to reproduce the vulnerability\u003C/li>\n\u003Cli>Any additional information that may be helpful in understanding and fixing the issue\u003C/li>\n\u003C/ul>\n\u003Cp>We appreciate your help in making Pepr more secure and will acknowledge your contribution in the remediation PR.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contact\">Contact\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contact\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contact”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you have any questions or concerns regarding the security of Pepr, please contact us at \u003Ca href=\"mailto:pepr@defenseunicorns.com\">pepr@defenseunicorns.com\u003C/a>.\u003C/p>",{"headings":192,"localImagePaths":199,"remoteImagePaths":200,"frontmatter":201,"imagePaths":202},[193,196],{"depth":80,"slug":194,"text":195},"reporting-a-vulnerability","Reporting a Vulnerability",{"depth":80,"slug":197,"text":198},"contact","Contact",[],[],{"title":182,"description":182},[],"community/support",{"id":203,"data":205,"body":210,"filePath":211,"digest":212,"rendered":213},{"title":206,"description":206,"editUrl":66,"head":207,"template":68,"sidebar":208,"pagefind":66,"draft":70},"Support",[],{"hidden":70,"attrs":209},{},"## Reporting Bugs\n\nIf you find a bug in Pepr, please report it by opening an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues). Please include as much information as possible in your bug report, including:\n\n* The version of Pepr you are using\n* The version of Kubernetes you are using\n\n## Contact\n\nYou can contact the Pepr team in the following ways:\n\n* [Slack](https://kubernetes.slack.com/archives/C06DGH40UCB)\n* [GitHub](https://github.com/defenseunicorns/pepr)\n* [Email](mailto:pepr@defenseunicorns.com)","src/content/docs/community/support.md","375b36480fab98bf",{"html":214,"metadata":215},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reporting-bugs\">Reporting Bugs\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-bugs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting Bugs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you find a bug in Pepr, please report it by opening an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a>. Please include as much information as possible in your bug report, including:\u003C/p>\n\u003Cul>\n\u003Cli>The version of Pepr you are using\u003C/li>\n\u003Cli>The version of Kubernetes you are using\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contact\">Contact\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contact\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contact”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can contact the Pepr team in the following ways:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://kubernetes.slack.com/archives/C06DGH40UCB\">Slack\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/defenseunicorns/pepr\">GitHub\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"mailto:pepr@defenseunicorns.com\">Email\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":216,"localImagePaths":219,"remoteImagePaths":220,"frontmatter":221,"imagePaths":222},[217,218],{"depth":80,"slug":132,"text":133},{"depth":80,"slug":197,"text":198},[],[],{"title":206,"description":206},[],"contribute/code_of_conduct",{"id":223,"data":225,"body":230,"filePath":231,"digest":232,"rendered":233},{"title":226,"description":226,"editUrl":66,"head":227,"template":68,"sidebar":228,"pagefind":66,"draft":70},"Contributor Covenant Code of Conduct",[],{"hidden":70,"attrs":229},{},"## Our Pledge\n\nWe as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, caste, color, religion, or sexual\nidentity and orientation.\n\nWe pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\n\n## Our Standards\n\nExamples of behavior that contributes to a positive environment for our\ncommunity include:\n\n* Demonstrating empathy and kindness toward other people\n* Being respectful of differing opinions, viewpoints, and experiences\n* Giving and gracefully accepting constructive feedback\n* Accepting responsibility and apologizing to those affected by our mistakes,\n  and learning from the experience\n* Focusing on what is best not just for us as individuals, but for the overall\n  community\n\nExamples of unacceptable behavior include:\n\n* The use of sexualized language or imagery, and sexual attention or advances of\n  any kind\n* Trolling, insulting or derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or email address,\n  without their explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n  professional setting\n\n## Enforcement Responsibilities\n\nCommunity leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\n\nCommunity leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\n\n## Scope\n\nThis Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official email address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at\n[pepr-dev-private@googlegroups.com](mailto:pepr-dev-private@googlegroups.com).\nAll complaints will be reviewed and investigated promptly and fairly.\n\nAll community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\n\n## Enforcement Guidelines\n\nCommunity leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\n\n### 1. Correction\n\n**Community Impact**: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\n\n**Consequence**: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\n\n### 2. Warning\n\n**Community Impact**: A violation through a single incident or series of\nactions.\n\n**Consequence**: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or permanent\nban.\n\n### 3. Temporary Ban\n\n**Community Impact**: A serious violation of community standards, including\nsustained inappropriate behavior.\n\n**Consequence**: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\n\n### 4. Permanent Ban\n\n**Community Impact**: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior, harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\n\n**Consequence**: A permanent ban from any sort of public interaction within the\ncommunity.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage],\nversion 2.1, available at\n[https://www.contributor-covenant.org/version/2/1/code_of_conduct.html][v2.1].\n\nCommunity Impact Guidelines were inspired by\n[Mozilla's code of conduct enforcement ladder][Mozilla CoC].\n\nFor answers to common questions about this code of conduct, see the FAQ at\n[https://www.contributor-covenant.org/faq][FAQ]. Translations are available at\n[https://www.contributor-covenant.org/translations][translations].\n\n[homepage]: https://www.contributor-covenant.org\n[v2.1]: https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\n[Mozilla CoC]: https://github.com/mozilla/diversity\n[FAQ]: https://www.contributor-covenant.org/faq\n[translations]: https://www.contributor-covenant.org/translations","src/content/docs/contribute/code_of_conduct.md","1fb3069d8f92d555",{"html":234,"metadata":235},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"our-pledge\">Our Pledge\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#our-pledge\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Our Pledge”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>We as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, caste, color, religion, or sexual\nidentity and orientation.\u003C/p>\n\u003Cp>We pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"our-standards\">Our Standards\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#our-standards\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Our Standards”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Examples of behavior that contributes to a positive environment for our\ncommunity include:\u003C/p>\n\u003Cul>\n\u003Cli>Demonstrating empathy and kindness toward other people\u003C/li>\n\u003Cli>Being respectful of differing opinions, viewpoints, and experiences\u003C/li>\n\u003Cli>Giving and gracefully accepting constructive feedback\u003C/li>\n\u003Cli>Accepting responsibility and apologizing to those affected by our mistakes,\nand learning from the experience\u003C/li>\n\u003Cli>Focusing on what is best not just for us as individuals, but for the overall\ncommunity\u003C/li>\n\u003C/ul>\n\u003Cp>Examples of unacceptable behavior include:\u003C/p>\n\u003Cul>\n\u003Cli>The use of sexualized language or imagery, and sexual attention or advances of\nany kind\u003C/li>\n\u003Cli>Trolling, insulting or derogatory comments, and personal or political attacks\u003C/li>\n\u003Cli>Public or private harassment\u003C/li>\n\u003Cli>Publishing others’ private information, such as a physical or email address,\nwithout their explicit permission\u003C/li>\n\u003Cli>Other conduct which could reasonably be considered inappropriate in a\nprofessional setting\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"enforcement-responsibilities\">Enforcement Responsibilities\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#enforcement-responsibilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Enforcement Responsibilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Community leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\u003C/p>\n\u003Cp>Community leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"scope\">Scope\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#scope\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Scope”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official email address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"enforcement\">Enforcement\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#enforcement\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Enforcement”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Instances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at\n\u003Ca href=\"mailto:pepr-dev-private@googlegroups.com\">pepr-dev-private@googlegroups.com\u003C/a>.\nAll complaints will be reviewed and investigated promptly and fairly.\u003C/p>\n\u003Cp>All community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"enforcement-guidelines\">Enforcement Guidelines\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#enforcement-guidelines\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Enforcement Guidelines”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Community leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"1-correction\">1. Correction\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#1-correction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “1. Correction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"2-warning\">2. Warning\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#2-warning\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “2. Warning”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: A violation through a single incident or series of\nactions.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or permanent\nban.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"3-temporary-ban\">3. Temporary Ban\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#3-temporary-ban\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “3. Temporary Ban”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: A serious violation of community standards, including\nsustained inappropriate behavior.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"4-permanent-ban\">4. Permanent Ban\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#4-permanent-ban\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “4. Permanent Ban”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior, harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A permanent ban from any sort of public interaction within the\ncommunity.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"attribution\">Attribution\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#attribution\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Attribution”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This Code of Conduct is adapted from the \u003Ca href=\"https://www.contributor-covenant.org\">Contributor Covenant\u003C/a>,\nversion 2.1, available at\n\u003Ca href=\"https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\">https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\u003C/a>.\u003C/p>\n\u003Cp>Community Impact Guidelines were inspired by\n\u003Ca href=\"https://github.com/mozilla/diversity\">Mozilla’s code of conduct enforcement ladder\u003C/a>.\u003C/p>\n\u003Cp>For answers to common questions about this code of conduct, see the FAQ at\n\u003Ca href=\"https://www.contributor-covenant.org/faq\">https://www.contributor-covenant.org/faq\u003C/a>. Translations are available at\n\u003Ca href=\"https://www.contributor-covenant.org/translations\">https://www.contributor-covenant.org/translations\u003C/a>.\u003C/p>",{"headings":236,"localImagePaths":270,"remoteImagePaths":271,"frontmatter":272,"imagePaths":273},[237,240,243,246,249,252,255,258,261,264,267],{"depth":80,"slug":238,"text":239},"our-pledge","Our Pledge",{"depth":80,"slug":241,"text":242},"our-standards","Our Standards",{"depth":80,"slug":244,"text":245},"enforcement-responsibilities","Enforcement Responsibilities",{"depth":80,"slug":247,"text":248},"scope","Scope",{"depth":80,"slug":250,"text":251},"enforcement","Enforcement",{"depth":80,"slug":253,"text":254},"enforcement-guidelines","Enforcement Guidelines",{"depth":131,"slug":256,"text":257},"1-correction","1. Correction",{"depth":131,"slug":259,"text":260},"2-warning","2. Warning",{"depth":131,"slug":262,"text":263},"3-temporary-ban","3. Temporary Ban",{"depth":131,"slug":265,"text":266},"4-permanent-ban","4. Permanent Ban",{"depth":80,"slug":268,"text":269},"attribution","Attribution",[],[],{"title":226,"description":226},[],"contribute/contributor-guide",{"id":274,"data":276,"body":281,"filePath":282,"digest":283,"rendered":284},{"title":277,"description":277,"editUrl":66,"head":278,"template":68,"sidebar":279,"pagefind":66,"draft":70},"Contributor Guide",[],{"hidden":70,"attrs":280},{},"Thank you for your interest in contributing to Pepr! We welcome all contributions and are grateful for your help. This guide outlines how to get started with contributing to this project.\n\n## Table of Contents\n\n- [Contributor Guide](#contributor-guide)\n  - [Table of Contents](#table-of-contents)\n  - [Code of Conduct](#code-of-conduct)\n  - [Getting Started](#getting-started)\n    - [Setup](#setup)\n    - [Kubernetes Fluent Client Contributions](#kubernetes-fluent-client-contributions)\n  - [Submitting a Pull Request](#submitting-a-pull-request)\n    - [PR Requirements](#pr-requirements)\n  - [Coding Guidelines](#coding-guidelines)\n    - [Git Hooks](#git-hooks)\n  - [Running Tests](#running-tests)\n    - [Run Tests Locally](#run-tests-locally)\n    - [Test a Local Development Version](#test-a-local-development-version)\n  - [Contact](#contact)\n\n## Code of Conduct\n\nPlease follow our [Code of Conduct](/contribute/code-of-conduct) to maintain a respectful and collaborative environment.\n\n## Getting Started\n\n- **Repository**: [https://github.com/defenseunicorns/pepr/](https://github.com/defenseunicorns/pepr/)\n- **npm package**: [https://www.npmjs.com/package/pepr](https://www.npmjs.com/package/pepr)\n- **Required Node version**: `>=20.0.0`\n\n### Setup\n\n1. Fork the repository.\n2. Clone your fork locally: `git clone https://github.com/your-username/pepr.git`.\n3. Install dependencies: `npm ci`.\n4. Create a new branch for your feature or fix: `git checkout -b my-feature-branch`.\n\n### Kubernetes Fluent Client Contributions\n\n[Kubernetes Fluent Client](https://github.com/defenseunicorns/kubernetes-fluent-client) is a library used by Pepr that provides a fluent interface for Kubernetes API clients. In Pepr, we use the `kubernetes-fluent-client` package to interact with Kubernetes resources. Due to the nature of this library, it is important to ensure that any changes made to the Kubernetes Fluent Client are thoroughly tested and validated in Pepr before being merged into the codebase. In particular, we need to ensure that the changes do not break any existing functionality or introduce new bugs, especially in the context of the Pepr Watcher.\n\nIf you are making changes to the Kubernetes Fluent Client, please ensure that you run the Soak Test in GitHub Actions to validate your changes.\n\nTo run the Soak Test, you can do the following:\n\n- Go to the [GitHub Actions tab](https://github.com/defenseunicorns/pepr/actions)\n- Select the workflow named \"Soak Test\"\n- Click on the \"Run workflow\" button to get the options to run the workflow\n- Select the Kubernetes Fluent Client branch you want to test (`KFC dev branch`) and click \"Run workflow\"\n\n## Submitting a Pull Request\n\n1. **Create an Issue**: For significant changes, please create an issue first, describing the problem or feature proposal. Trivial fixes do not require an issue.\n2. **Commit Your Changes**: Make your changes and commit them. All commits must be signed.\n3. **Run Tests**: Ensure that your changes pass all tests by running `npm test`.\n4. **Push Your Branch**: Push your branch to your fork on GitHub.\n5. **Create a Pull Request**: Open a pull request against the `main` branch of the Pepr repository. Please make sure that your PR passes all CI checks.\n\n### PR Requirements\n\n- PRs must be against the `main` branch.\n- PRs must pass CI checks.\n- All commits must be signed.\n- PRs should have a related issue, except for trivial fixes.\n\nWe take PR reviews seriously and strive to provide a great contributor experience with timely feedback. To help maintain this, we ask external contributors to limit themselves to no more than two open PRs at a time. Having too many open PRs can slow down the review process and impact the quality of feedback\n\n## Coding Guidelines\n\nPlease follow the coding conventions and style used in the project. Use ESLint and Prettier for linting and formatting:\n\n- Check formatting: `npm run format:check`\n- Fix formatting: `npm run format:fix`\n- If regex is used, provide a link to regex101.com with an explanation of the regex pattern.\n- Do not use emoji in logs or comments, as it can be distracting and is not consistent with the project's style.\n\n### Git Hooks\n\n- This project uses [husky](https://typicode.github.io/husky/) to manage git hooks for pre-commit and pre-push actions.\n- pre-commit will automatically run linters so that you don't need to remember to run `npm run format:*` commands\n- pre-push will warn you if you've changed lots of lines on a branch and encourage you to optionally present the changes as several smaller PRs to facilitate easier PR reviews.\n  - The pre-push hook is an opinionated way of working, and is therefore optional.\n  - You can opt-in to using the pre-push hook by setting `PEPR_HOOK_OPT_IN=1` as an environment variable.\n\n## Running Tests\n\n### Run Tests Locally\n\n- Run all tests: `npm test`\n\n### Test a Local Development Version\n\n1. Run `npm test` and wait for completion.\n2. Change to the test module directory: `cd pepr-test-module`.\n3. You can now run any of the `npx pepr` commands.\n\n### Running Development Version Locally\n\n1. Run `npm run build` to build the package.\n2. For running modified pepr, you have two options:\n    1. Using `npx ts-node ./src/cli.ts init` to run the modified code directly, without installing it locally.\n      You'll need to also run `npx link \u003Cyour_dev_pepr_location>` inside your pepr module, to link to the\n      development version of pepr.\n    2. Install the pre-build package with `npm install pepr-0.0.0-development.tgz`.\n      You'll need to re-run the installation after every build, though.\n3. Run `npx pepr dev` inside your module's directory to run the modified version of pepr.\n\n:::tip\nMake sure to re-run `npm run build` after you modify any of the pepr source files.\n:::\n\n## Contact\n\nFor any questions or concerns, please open an issue on GitHub or contact the maintainers.","src/content/docs/contribute/contributor-guide.md","fdc29df26e48f701",{"html":285,"metadata":286},"\u003Cp>Thank you for your interest in contributing to Pepr! We welcome all contributions and are grateful for your help. This guide outlines how to get started with contributing to this project.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"table-of-contents\">Table of Contents\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#table-of-contents\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Table of Contents”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#contributor-guide\">Contributor Guide\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#table-of-contents\">Table of Contents\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#code-of-conduct\">Code of Conduct\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#getting-started\">Getting Started\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#setup\">Setup\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#kubernetes-fluent-client-contributions\">Kubernetes Fluent Client Contributions\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#submitting-a-pull-request\">Submitting a Pull Request\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#pr-requirements\">PR Requirements\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#coding-guidelines\">Coding Guidelines\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#git-hooks\">Git Hooks\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#running-tests\">Running Tests\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#run-tests-locally\">Run Tests Locally\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#test-a-local-development-version\">Test a Local Development Version\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#contact\">Contact\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"code-of-conduct\">Code of Conduct\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#code-of-conduct\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Code of Conduct”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please follow our \u003Ca href=\"/contribute/code-of-conduct\">Code of Conduct\u003C/a> to maintain a respectful and collaborative environment.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"getting-started\">Getting Started\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#getting-started\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Getting Started”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Repository\u003C/strong>: \u003Ca href=\"https://github.com/defenseunicorns/pepr/\">https://github.com/defenseunicorns/pepr/\u003C/a>\u003C/li>\n\u003Cli>\u003Cstrong>npm package\u003C/strong>: \u003Ca href=\"https://www.npmjs.com/package/pepr\">https://www.npmjs.com/package/pepr\u003C/a>\u003C/li>\n\u003Cli>\u003Cstrong>Required Node version\u003C/strong>: \u003Ccode dir=\"auto\">>=20.0.0\u003C/code>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"setup\">Setup\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#setup\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Setup”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Fork the repository.\u003C/li>\n\u003Cli>Clone your fork locally: \u003Ccode dir=\"auto\">git clone https://github.com/your-username/pepr.git\u003C/code>.\u003C/li>\n\u003Cli>Install dependencies: \u003Ccode dir=\"auto\">npm ci\u003C/code>.\u003C/li>\n\u003Cli>Create a new branch for your feature or fix: \u003Ccode dir=\"auto\">git checkout -b my-feature-branch\u003C/code>.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"kubernetes-fluent-client-contributions\">Kubernetes Fluent Client Contributions\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#kubernetes-fluent-client-contributions\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Kubernetes Fluent Client Contributions”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes Fluent Client\u003C/a> is a library used by Pepr that provides a fluent interface for Kubernetes API clients. In Pepr, we use the \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> package to interact with Kubernetes resources. Due to the nature of this library, it is important to ensure that any changes made to the Kubernetes Fluent Client are thoroughly tested and validated in Pepr before being merged into the codebase. In particular, we need to ensure that the changes do not break any existing functionality or introduce new bugs, especially in the context of the Pepr Watcher.\u003C/p>\n\u003Cp>If you are making changes to the Kubernetes Fluent Client, please ensure that you run the Soak Test in GitHub Actions to validate your changes.\u003C/p>\n\u003Cp>To run the Soak Test, you can do the following:\u003C/p>\n\u003Cul>\n\u003Cli>Go to the \u003Ca href=\"https://github.com/defenseunicorns/pepr/actions\">GitHub Actions tab\u003C/a>\u003C/li>\n\u003Cli>Select the workflow named “Soak Test”\u003C/li>\n\u003Cli>Click on the “Run workflow” button to get the options to run the workflow\u003C/li>\n\u003Cli>Select the Kubernetes Fluent Client branch you want to test (\u003Ccode dir=\"auto\">KFC dev branch\u003C/code>) and click “Run workflow”\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"submitting-a-pull-request\">Submitting a Pull Request\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#submitting-a-pull-request\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Submitting a Pull Request”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\u003Cstrong>Create an Issue\u003C/strong>: For significant changes, please create an issue first, describing the problem or feature proposal. Trivial fixes do not require an issue.\u003C/li>\n\u003Cli>\u003Cstrong>Commit Your Changes\u003C/strong>: Make your changes and commit them. All commits must be signed.\u003C/li>\n\u003Cli>\u003Cstrong>Run Tests\u003C/strong>: Ensure that your changes pass all tests by running \u003Ccode dir=\"auto\">npm test\u003C/code>.\u003C/li>\n\u003Cli>\u003Cstrong>Push Your Branch\u003C/strong>: Push your branch to your fork on GitHub.\u003C/li>\n\u003Cli>\u003Cstrong>Create a Pull Request\u003C/strong>: Open a pull request against the \u003Ccode dir=\"auto\">main\u003C/code> branch of the Pepr repository. Please make sure that your PR passes all CI checks.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pr-requirements\">PR Requirements\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pr-requirements\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “PR Requirements”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>PRs must be against the \u003Ccode dir=\"auto\">main\u003C/code> branch.\u003C/li>\n\u003Cli>PRs must pass CI checks.\u003C/li>\n\u003Cli>All commits must be signed.\u003C/li>\n\u003Cli>PRs should have a related issue, except for trivial fixes.\u003C/li>\n\u003C/ul>\n\u003Cp>We take PR reviews seriously and strive to provide a great contributor experience with timely feedback. To help maintain this, we ask external contributors to limit themselves to no more than two open PRs at a time. Having too many open PRs can slow down the review process and impact the quality of feedback\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"coding-guidelines\">Coding Guidelines\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#coding-guidelines\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Coding Guidelines”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please follow the coding conventions and style used in the project. Use ESLint and Prettier for linting and formatting:\u003C/p>\n\u003Cul>\n\u003Cli>Check formatting: \u003Ccode dir=\"auto\">npm run format:check\u003C/code>\u003C/li>\n\u003Cli>Fix formatting: \u003Ccode dir=\"auto\">npm run format:fix\u003C/code>\u003C/li>\n\u003Cli>If regex is used, provide a link to regex101.com with an explanation of the regex pattern.\u003C/li>\n\u003Cli>Do not use emoji in logs or comments, as it can be distracting and is not consistent with the project’s style.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"git-hooks\">Git Hooks\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#git-hooks\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Git Hooks”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>This project uses \u003Ca href=\"https://typicode.github.io/husky/\">husky\u003C/a> to manage git hooks for pre-commit and pre-push actions.\u003C/li>\n\u003Cli>pre-commit will automatically run linters so that you don’t need to remember to run \u003Ccode dir=\"auto\">npm run format:*\u003C/code> commands\u003C/li>\n\u003Cli>pre-push will warn you if you’ve changed lots of lines on a branch and encourage you to optionally present the changes as several smaller PRs to facilitate easier PR reviews.\n\u003Cul>\n\u003Cli>The pre-push hook is an opinionated way of working, and is therefore optional.\u003C/li>\n\u003Cli>You can opt-in to using the pre-push hook by setting \u003Ccode dir=\"auto\">PEPR_HOOK_OPT_IN=1\u003C/code> as an environment variable.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"running-tests\">Running Tests\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#running-tests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Running Tests”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"run-tests-locally\">Run Tests Locally\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#run-tests-locally\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Run Tests Locally”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Run all tests: \u003Ccode dir=\"auto\">npm test\u003C/code>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"test-a-local-development-version\">Test a Local Development Version\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#test-a-local-development-version\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Test a Local Development Version”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Run \u003Ccode dir=\"auto\">npm test\u003C/code> and wait for completion.\u003C/li>\n\u003Cli>Change to the test module directory: \u003Ccode dir=\"auto\">cd pepr-test-module\u003C/code>.\u003C/li>\n\u003Cli>You can now run any of the \u003Ccode dir=\"auto\">npx pepr\u003C/code> commands.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"running-development-version-locally\">Running Development Version Locally\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#running-development-version-locally\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Running Development Version Locally”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Run \u003Ccode dir=\"auto\">npm run build\u003C/code> to build the package.\u003C/li>\n\u003Cli>For running modified pepr, you have two options:\n\u003Col>\n\u003Cli>Using \u003Ccode dir=\"auto\">npx ts-node ./src/cli.ts init\u003C/code> to run the modified code directly, without installing it locally.\nYou’ll need to also run \u003Ccode dir=\"auto\">npx link &#x3C;your_dev_pepr_location>\u003C/code> inside your pepr module, to link to the\ndevelopment version of pepr.\u003C/li>\n\u003Cli>Install the pre-build package with \u003Ccode dir=\"auto\">npm install pepr-0.0.0-development.tgz\u003C/code>.\nYou’ll need to re-run the installation after every build, though.\u003C/li>\n\u003C/ol>\n\u003C/li>\n\u003Cli>Run \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> inside your module’s directory to run the modified version of pepr.\u003C/li>\n\u003C/ol>\n\u003Caside aria-label=\"Tip\" class=\"starlight-aside starlight-aside--tip\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z\">\u003C/path>\u003Cpath d=\"M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z\">\u003C/path>\u003C/svg>Tip\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>Make sure to re-run \u003Ccode dir=\"auto\">npm run build\u003C/code> after you modify any of the pepr source files.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contact\">Contact\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contact\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contact”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>For any questions or concerns, please open an issue on GitHub or contact the maintainers.\u003C/p>",{"headings":287,"localImagePaths":328,"remoteImagePaths":329,"frontmatter":330,"imagePaths":331},[288,291,294,297,300,303,306,309,312,315,318,321,324,327],{"depth":80,"slug":289,"text":290},"table-of-contents","Table of Contents",{"depth":80,"slug":292,"text":293},"code-of-conduct","Code of Conduct",{"depth":80,"slug":295,"text":296},"getting-started","Getting Started",{"depth":131,"slug":298,"text":299},"setup","Setup",{"depth":131,"slug":301,"text":302},"kubernetes-fluent-client-contributions","Kubernetes Fluent Client Contributions",{"depth":80,"slug":304,"text":305},"submitting-a-pull-request","Submitting a Pull Request",{"depth":131,"slug":307,"text":308},"pr-requirements","PR Requirements",{"depth":80,"slug":310,"text":311},"coding-guidelines","Coding Guidelines",{"depth":131,"slug":313,"text":314},"git-hooks","Git Hooks",{"depth":80,"slug":316,"text":317},"running-tests","Running Tests",{"depth":131,"slug":319,"text":320},"run-tests-locally","Run Tests Locally",{"depth":131,"slug":322,"text":323},"test-a-local-development-version","Test a Local Development Version",{"depth":131,"slug":325,"text":326},"running-development-version-locally","Running Development Version Locally",{"depth":80,"slug":197,"text":198},[],[],{"title":277,"description":277},[],"actions/finalize",{"id":332,"data":334,"body":339,"filePath":340,"digest":341,"rendered":342},{"title":335,"description":335,"editUrl":66,"head":336,"template":68,"sidebar":337,"pagefind":66,"draft":70},"Finalize",[],{"hidden":70,"attrs":338},{},"A specialized combination of Pepr's [Mutate](/actions/mutate) & [Watch](/actions/watch) functionalities that allow a module author to run logic while Kubernetes is [Finalizing](https://kubernetes.io/docs/concepts/overview/working-with-objects/finalizers/) a resource (i.e. cleaning up related resources _after_ a deletion request has been accepted). `Finalize()` can only be accessed after a `Watch()` or `Reconcile()`.\n\nThis method will:\n\n1. Inject a finalizer into the `metadata.finalizers` field of the requested resource during the mutation phase of the admission.\n\n1. Watch appropriate resource lifecycle events & invoke the given callback.\n\n1. Remove the injected finalizer from the `metadata.finalizers` field of the requested resource.\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreated()\n  .InNamespace(\"hello-pepr-finalize-create\")\n  .WithName(\"cm-reconcile-create\")\n  .Reconcile(function reconcileCreate(cm) {\n    Log.info({cm}, \"external api call (create): reconcile/callback\")\n  })\n  .Finalize(function finalizeCreate(cm) {\n    Log.info({cm}, \"external api call (create): reconcile/finalize\")\n  });\n```","src/content/docs/actions/finalize.md","fbab79fe9baf6105",{"html":343,"metadata":344},"\u003Cp>A specialized combination of Pepr’s \u003Ca href=\"/actions/mutate\">Mutate\u003C/a> &#x26; \u003Ca href=\"/actions/watch\">Watch\u003C/a> functionalities that allow a module author to run logic while Kubernetes is \u003Ca href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/finalizers/\">Finalizing\u003C/a> a resource (i.e. cleaning up related resources \u003Cem>after\u003C/em> a deletion request has been accepted). \u003Ccode dir=\"auto\">Finalize()\u003C/code> can only be accessed after a \u003Ccode dir=\"auto\">Watch()\u003C/code> or \u003Ccode dir=\"auto\">Reconcile()\u003C/code>.\u003C/p>\n\u003Cp>This method will:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>Inject a finalizer into the \u003Ccode dir=\"auto\">metadata.finalizers\u003C/code> field of the requested resource during the mutation phase of the admission.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Watch appropriate resource lifecycle events &#x26; invoke the given callback.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Remove the injected finalizer from the \u003Ccode dir=\"auto\">metadata.finalizers\u003C/code> field of the requested resource.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr-finalize-create\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">cm-reconcile-create\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">function\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">reconcileCreate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">cm\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({cm}\u003C/span>\u003Cspan style=\"--0:#889FB2;--1:#4D667B\">,\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">external api call (create): reconcile/callback\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Finalize\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">function\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">finalizeCreate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">cm\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({cm}\u003C/span>\u003Cspan style=\"--0:#889FB2;--1:#4D667B\">,\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">external api call (create): reconcile/finalize\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .InNamespace(&#x22;hello-pepr-finalize-create&#x22;)  .WithName(&#x22;cm-reconcile-create&#x22;)  .Reconcile(function reconcileCreate(cm) {    Log.info({cm}, &#x22;external api call (create): reconcile/callback&#x22;)  })  .Finalize(function finalizeCreate(cm) {    Log.info({cm}, &#x22;external api call (create): reconcile/finalize&#x22;)  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":345,"localImagePaths":346,"remoteImagePaths":347,"frontmatter":348,"imagePaths":349},[],[],[],{"title":335,"description":335},[],"actions/reconcile",{"id":350,"data":352,"body":357,"filePath":358,"digest":359,"rendered":360},{"title":353,"description":353,"editUrl":66,"head":354,"template":68,"sidebar":355,"pagefind":66,"draft":70},"Reconcile",[],{"hidden":70,"attrs":356},{},"Reconcile functions the same as Watch but is tailored for building Kubernetes Controllers and Operators because it processes callback operations in a [Queue](https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/watch-processor.ts#L86), guaranteeing ordered and synchronous processing of events, even when the system may be under heavy load.\n\nOrdering can be configured to operate in one of two ways: as a single queue that maintains ordering of operations across all resources of a kind (default) or with separate processing queues per resource instance.\n\nSee [Configuring Reconcile](/user-guide/customization#configuring-reconcile) for more on configuring how Reconcile behaves.\n\n```ts\nWhen(WebApp)\n  .IsCreatedOrUpdated()\n  .Validate(validator) // Validate the shape of the resource\n  .Reconcile(async instance => {\n    try {\n      Store.setItem(instance.metadata.name, JSON.stringify(instance));\n      await reconciler(instance); // Reconcile the resource - Deploy Kubernetes manifests, etc.\n    } catch (error) {\n      Log.info(`Error reconciling instance of WebApp`);\n    }\n  });\n\nexport async function validator(req: PeprValidateRequest\u003CWebApp>) {\n  const ns = req.Raw.metadata?.namespace ?? \"_unknown_\";\n\n  if (req.Raw.spec.replicas > 7) {\n    return req.Deny(\"max replicas is 7 to prevent noisy neighbors\");\n  }\n  if (invalidNamespaces.includes(ns)) {\n    if (req.Raw.metadata?.namespace === \"default\") {\n      return req.Deny(\"default namespace is not allowed\");\n    }\n    return req.Deny(\"invalid namespace\");\n  }\n\n  return req.Approve();\n}\n```","src/content/docs/actions/reconcile.md","607c6f9b26e4873a",{"html":361,"metadata":362},"\u003Cp>Reconcile functions the same as Watch but is tailored for building Kubernetes Controllers and Operators because it processes callback operations in a \u003Ca href=\"https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/watch-processor.ts#L86\">Queue\u003C/a>, guaranteeing ordered and synchronous processing of events, even when the system may be under heavy load.\u003C/p>\n\u003Cp>Ordering can be configured to operate in one of two ways: as a single queue that maintains ordering of operations across all resources of a kind (default) or with separate processing queues per resource instance.\u003C/p>\n\u003Cp>See \u003Ca href=\"/user-guide/customization#configuring-reconcile\">Configuring Reconcile\u003C/a> for more on configuring how Reconcile behaves.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(WebApp)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(validator) \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Validate the shape of the resource\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">JSON\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">stringify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance));\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">reconciler\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance); \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Reconcile the resource - Deploy Kubernetes manifests, etc.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (error) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Error reconciling instance of WebApp\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">function\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">validator\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">req\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">PeprValidateRequest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">WebApp\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">ns\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">namespace\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> ?? \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">_unknown_\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">spec\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">replicas\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">7\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">max replicas is 7 to prevent noisy neighbors\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (invalidNamespaces\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">includes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(ns)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">===\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default namespace is not allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">invalid namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(WebApp)  .IsCreatedOrUpdated()  .Validate(validator) // Validate the shape of the resource  .Reconcile(async instance => {    try {      Store.setItem(instance.metadata.name, JSON.stringify(instance));      await reconciler(instance); // Reconcile the resource - Deploy Kubernetes manifests, etc.    } catch (error) {      Log.info(&#x60;Error reconciling instance of WebApp&#x60;);    }  });export async function validator(req: PeprValidateRequest\u003CWebApp>) {  const ns = req.Raw.metadata?.namespace ?? &#x22;_unknown_&#x22;;  if (req.Raw.spec.replicas > 7) {    return req.Deny(&#x22;max replicas is 7 to prevent noisy neighbors&#x22;);  }  if (invalidNamespaces.includes(ns)) {    if (req.Raw.metadata?.namespace === &#x22;default&#x22;) {      return req.Deny(&#x22;default namespace is not allowed&#x22;);    }    return req.Deny(&#x22;invalid namespace&#x22;);  }  return req.Approve();}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":363,"localImagePaths":364,"remoteImagePaths":365,"frontmatter":366,"imagePaths":367},[],[],[],{"title":353,"description":353},[],"actions/watch",{"id":368,"data":370,"body":375,"filePath":376,"digest":377,"rendered":378},{"title":371,"description":371,"editUrl":66,"head":372,"template":68,"sidebar":373,"pagefind":66,"draft":70},"Watch",[],{"hidden":70,"attrs":374},{},"[Kubernetes](https://kubernetes.io/docs/reference/using-api/api-concepts) supports efficient change notifications on resources via watches. Pepr uses the Watch action for monitoring resources that previously existed in the cluster and for performing long-running asynchronous events upon receiving change notifications on resources, as watches are not limited by [timeouts](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts).\n\n```ts\nWhen(a.Namespace)\n  .IsCreated()\n  .WithName(\"pepr-demo-2\")\n  .Watch(async ns => {\n    Log.info(\"Namespace pepr-demo-2 was created.\");\n\n    try {\n      // Apply the ConfigMap using K8s server-side apply\n      await K8s(kind.ConfigMap).Apply({\n        metadata: {\n          name: \"pepr-ssa-demo\",\n          namespace: \"pepr-demo-2\",\n        },\n        data: {\n          \"ns-uid\": ns.metadata.uid,\n        },\n      });\n    } catch (error) {\n      // You can use the Log object to log messages to the Pepr controller pod\n      Log.error({error}, \"Failed to apply ConfigMap using server-side apply.\");\n    }\n\n    // You can share data between actions using the Store, including between different types of actions\n    Store.setItem(\"watch-data\", \"This data was stored by a Watch Action.\");\n  });\n```","src/content/docs/actions/watch.md","d64c4cd619b96937",{"html":379,"metadata":380},"\u003Cp>\u003Ca href=\"https://kubernetes.io/docs/reference/using-api/api-concepts\">Kubernetes\u003C/a> supports efficient change notifications on resources via watches. Pepr uses the Watch action for monitoring resources that previously existed in the cluster and for performing long-running asynchronous events upon receiving change notifications on resources, as watches are not limited by \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">timeouts\u003C/a>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">ns\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Namespace pepr-demo-2 was created.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Apply the ConfigMap using K8s server-side apply\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">K8s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kind\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">data: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ns-uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: ns\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">uid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (error) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// You can use the Log object to log messages to the Pepr controller pod\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({error}, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Failed to apply ConfigMap using server-side apply.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// You can share data between actions using the Store, including between different types of actions\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">watch-data\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">This data was stored by a Watch Action.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Namespace)  .IsCreated()  .WithName(&#x22;pepr-demo-2&#x22;)  .Watch(async ns => {    Log.info(&#x22;Namespace pepr-demo-2 was created.&#x22;);    try {      // Apply the ConfigMap using K8s server-side apply      await K8s(kind.ConfigMap).Apply({        metadata: {          name: &#x22;pepr-ssa-demo&#x22;,          namespace: &#x22;pepr-demo-2&#x22;,        },        data: {          &#x22;ns-uid&#x22;: ns.metadata.uid,        },      });    } catch (error) {      // You can use the Log object to log messages to the Pepr controller pod      Log.error({error}, &#x22;Failed to apply ConfigMap using server-side apply.&#x22;);    }    // You can share data between actions using the Store, including between different types of actions    Store.setItem(&#x22;watch-data&#x22;, &#x22;This data was stored by a Watch Action.&#x22;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":381,"localImagePaths":382,"remoteImagePaths":383,"frontmatter":384,"imagePaths":385},[],[],[],{"title":371,"description":371},[],"index",{"id":386,"data":388,"body":394,"filePath":395,"digest":396,"rendered":397},{"title":389,"description":390,"editUrl":66,"head":391,"template":68,"sidebar":392,"pagefind":66,"draft":70},"Pepr","Pepr Documentation - latest",[],{"hidden":70,"attrs":393},{},"[![Pepr Documentation](https://img.shields.io/badge/docs--d25ba1)](https://docs.pepr.dev)\n[![Npm package license](https://badgen.net/npm/license/pepr)](https://npmjs.com/package/pepr)\n[![Known Vulnerabilities](https://snyk.io/test/npm/pepr/badge.svg)](https://snyk.io/advisor/npm-package/pepr)\n[![Npm package version](https://badgen.net/npm/v/pepr)](https://npmjs.com/package/pepr)\n[![Npm package total downloads](https://badgen.net/npm/dt/pepr)](https://npmjs.com/package/pepr)\n[![OpenSSF Scorecard](https://api.securityscorecards.dev/projects/github.com/defenseunicorns/pepr/badge)](https://securityscorecards.dev/viewer/?uri=github.com/defenseunicorns/pepr)\n[![codecov](https://codecov.io/github/defenseunicorns/pepr/graph/badge.svg?token=7679Y9K1HB)](https://codecov.io/github/defenseunicorns/pepr)\n[![Contributor Covenant](https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg)](/contribute/code-of-conduct)\n\n## What happened to Pepr's stars?\n\nIn February 2025, an accidental change to the repository's visibility reset the star count.\nThe visibility issue was quickly resolved, but the stars were unfortunately lost.\n\nPepr had over 200 stars, demonstrating its recognition and value within the Kubernetes community.\nWe're working to rebuild that recognition.\n\nIf you've previously starred Pepr, or if you find it a useful project, we would greatly appreciate it if you could re-star the repository.\nWe really appreciate your support! :star:\n\n## **_Type safe Kubernetes middleware for humans_**\n\n\u003Cimg alt=\"The Pepr Logo\" align=\"right\" width=\"40%\" src=\"/assets/pepr.png\" />\n\nPepr simplifies Kubernetes management by providing an alternative to complex YAML configurations, custom scripts, and ad-hoc solutions.\nAs a Kubernetes controller, Pepr enables you to define Kubernetes transformations using TypeScript, accessible through straightforward configurations even without extensive development expertise.\nPepr transforms disparate implementation approaches into a cohesive, well-structured, and maintainable system.\nWith Pepr, you can efficiently convert organizational knowledge into code, improving documentation, testing, validation, and change management for more predictable outcomes.\n\n## Features\n\n- Zero-config K8s Mutating and Validating Webhooks plus Controller generation\n- Automatic leader-elected K8s resource watching\n- Lightweight async key-value store backed by K8s for stateful operations with the [Pepr Store](/user-guide/store)\n- Human-readable fluent API for generating [Pepr Capabilities](#capability)\n- A fluent API for creating/modifying/watching and server-side applying K8s resources via [Kubernetes Fluent Client](https://github.com/defenseunicorns/kubernetes-fluent-client)\n- Generate new K8s resources based off of cluster resource changes\n- Perform other exec/API calls based off of cluster resources changes or any other arbitrary schedule\n- Out of the box airgap support with [Zarf](https://zarf.dev)\n- Entire NPM ecosystem available for advanced operations\n- Realtime K8s debugging system for testing/reacting to cluster changes\n- Controller network isolation and tamper-resistant module execution\n- Least-privilege [RBAC](/user-guide/rbac) generation\n- AMD64 and ARM64 support\n\n## Example Pepr Action\n\nThis quick sample shows how to react to a ConfigMap being created or updated in the cluster.\nIt adds a label and annotation to the ConfigMap and adds some data to the ConfigMap.\nIt also creates a Validating Webhook to make sure the \"pepr\" label still exists.\nFinally, after the ConfigMap is created, it logs a message to the Pepr controller and creates or updates a separate ConfigMap with the [kubernetes-fluent-client](https://github.com/defenseunicorns/kubernetes-fluent-client) using server-side apply.\nFor more details see [actions](/actions/) section.\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreatedOrUpdated()\n  .InNamespace(\"pepr-demo\")\n  .WithLabel(\"example\", \"value\")\n  // Create a Mutate Action for the ConfigMap\n  .Mutate(request => {\n    // Add a label and annotation to the ConfigMap\n    request.SetLabel(\"pepr\", \"was-here\").SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n\n    // Add some data to the ConfigMap\n    request.Raw.data[\"doug-says\"] = \"Pepr is awesome!\";\n\n    // Log a message to the Pepr controller logs\n    Log.info(\"A ConfigMap was created or updated:\");\n  })\n  // Create a Validate Action for the ConfigMap\n  .Validate(request => {\n    // Validate the ConfigMap has a specific label\n    if (request.HasLabel(\"pepr\")) {\n      return request.Approve();\n    }\n\n    // Reject the ConfigMap if it doesn't have the label\n    return request.Deny(\"ConfigMap must have the required pepr label\");\n  })\n  // Watch behaves like controller-runtime's Manager.Watch()\n  .Watch(async (cm, phase) => {\n    Log.info(cm, `ConfigMap was ${phase}.`);\n\n    // Apply a ConfigMap using K8s server-side apply (will create or update)\n    await K8s(kind.ConfigMap).Apply({\n      metadata: {\n        name: \"pepr-ssa-demo\",\n        namespace: \"pepr-demo-2\",\n      },\n      data: {\n        uid: cm.metadata.uid,\n      },\n    });\n  });\n```\n\n## Prerequisites\n\n- [Node.js](https://nodejs.org/en/) v20.0.0+ (even-numbered releases only)\n  - To ensure compatibility and optimal performance, it is recommended to use even-numbered releases of Node.js as they are stable releases and receive long-term support for three years.\n    Odd-numbered releases are experimental and may not be supported by certain libraries utilized in Pepr.\n\n- [npm](https://www.npmjs.com/) v10.1.0+\n\n- Recommended (optional) tools:\n  - [Visual Studio Code](https://code.visualstudio.com/) for inline debugging and [Pepr Capabilities](#capability) creation.\n  - A Kubernetes cluster for `npx pepr dev`. Pepr modules include `npm run k3d-setup` if you want to test locally with [K3d](https://k3d.io/) and [Docker](https://www.docker.com/).\n\n## Quick Start Guide\n\n```bash\n# Create a new Pepr Module\nnpx pepr init\n\n# If you already have a K3d cluster you want to use, skip this step\nnpm run k3d-setup\n\n# Start playing with Pepr now!\n# If using Kind, or another local k8s distro instead,\n# run `npx pepr dev --host \u003Cyour_hostname>`\nnpx pepr dev\nkubectl apply -f capabilities/hello-pepr.samples.yaml\n```\n\n:::tip\nDon't use IP as your `--host`, it's not supported. Make sure to check your\nlocal k8s distro documentation how to reach your localhost, which is where\n`pepr dev` is serving the code from.\n:::\n\n  \u003Cvideo controls width=\"100%\">\n    \u003Csource src=\"https://user-images.githubusercontent.com/882485/230895880-c5623077-f811-4870-bb9f-9bb8e5edc118.mp4\" type=\"video/mp4\">\n    \u003Cp>Your browser doesn't support HTML video. \u003Ca href=\"https://user-images.githubusercontent.com/882485/230895880-c5623077-f811-4870-bb9f-9bb8e5edc118.mp4\">Download the video\u003C/a> instead.\u003C/p>\n  \u003C/video>\n\n## Concepts\n\n### Module\n\nA module is the top-level collection of capabilities.\nIt is a single, complete TypeScript project that includes an entry point to load all the configuration and capabilities, along with their actions.\nDuring the Pepr build process, each module produces a unique Kubernetes MutatingWebhookConfiguration and ValidatingWebhookConfiguration, along with a secret containing the transpiled and compressed TypeScript code.\nThe webhooks and secret are deployed into the Kubernetes cluster with their own isolated controller.\n\nSee [Module](/user-guide/pepr-modules) for more details.\n\n### Capability\n\nA capability is set of related actions that work together to achieve a specific transformation or operation on Kubernetes resources.\nCapabilities are user-defined and can include one or more actions.\nThey are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations.\nA Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\n\nSee [Capabilities](/user-guide/capabilities) for more details.\n\n### Action\n\nAction is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in from Kubernetes.\nActions are the atomic operations that are performed on Kubernetes resources by Pepr.\n\nFor example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource's metadata.\nActions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\n\nThere are both `Mutate()` and `Validate()` Actions that can be used to modify or validate Kubernetes resources within the admission controller lifecycle.\nThere are also `Watch()` and `Reconcile()` actions that can be used to watch for changes to Kubernetes resources that already exist.\nFinally, the `Finalize()` can be used after `Watch()` or `Reconcile()` to perform cleanup operations when the resource is deleted.\n\nSee [actions](/actions/) for more details.\n\n## Logical Pepr Flow\n\n![Arch Diagram](/assets/pepr-arch.png)\n\n## TypeScript\n\n[TypeScript](https://www.typescriptlang.org/) is a strongly typed, object-oriented programming language built on top of JavaScript.\nIt provides optional static typing and a rich type system, allowing developers to write more robust code.\nTypeScript is transpiled to JavaScript, enabling it to run in any environment that supports JavaScript.\nPepr allows you to use JavaScript or TypeScript to write capabilities, but TypeScript is recommended for its type safety and rich type system.\nSee the [Typescript docs](https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html) to learn more.\n\n## Community\n\nTo join our channel go to [Kubernetes Slack](https://communityinviter.com/apps/kubernetes/community) and join the `#pepr` channel.\n\n[contributors]: https://contrib.rocks/image?repo=defenseunicorns/pepr\n[![Contributor Chart][contributors]](https://github.com/defenseunicorns/pepr/graphs/contributors)\n\nMade with [contrib.rocks](https://contrib.rocks).","src/content/docs/index.md","8773933c7d7213c3",{"html":398,"metadata":399},"\u003Cp>\u003Ca href=\"https://docs.pepr.dev\">\u003Cimg src=\"https://img.shields.io/badge/docs--d25ba1\" alt=\"Pepr Documentation\">\u003C/a>\n\u003Ca href=\"https://npmjs.com/package/pepr\">\u003Cimg src=\"https://badgen.net/npm/license/pepr\" alt=\"Npm package license\">\u003C/a>\n\u003Ca href=\"https://snyk.io/advisor/npm-package/pepr\">\u003Cimg src=\"https://snyk.io/test/npm/pepr/badge.svg\" alt=\"Known Vulnerabilities\">\u003C/a>\n\u003Ca href=\"https://npmjs.com/package/pepr\">\u003Cimg src=\"https://badgen.net/npm/v/pepr\" alt=\"Npm package version\">\u003C/a>\n\u003Ca href=\"https://npmjs.com/package/pepr\">\u003Cimg src=\"https://badgen.net/npm/dt/pepr\" alt=\"Npm package total downloads\">\u003C/a>\n\u003Ca href=\"https://securityscorecards.dev/viewer/?uri=github.com/defenseunicorns/pepr\">\u003Cimg src=\"https://api.securityscorecards.dev/projects/github.com/defenseunicorns/pepr/badge\" alt=\"OpenSSF Scorecard\">\u003C/a>\n\u003Ca href=\"https://codecov.io/github/defenseunicorns/pepr\">\u003Cimg src=\"https://codecov.io/github/defenseunicorns/pepr/graph/badge.svg?token=7679Y9K1HB\" alt=\"codecov\">\u003C/a>\n\u003Ca href=\"/contribute/code-of-conduct\">\u003Cimg src=\"https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg\" alt=\"Contributor Covenant\">\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-happened-to-peprs-stars\">What happened to Pepr’s stars?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-happened-to-peprs-stars\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What happened to Pepr’s stars?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>In February 2025, an accidental change to the repository’s visibility reset the star count.\nThe visibility issue was quickly resolved, but the stars were unfortunately lost.\u003C/p>\n\u003Cp>Pepr had over 200 stars, demonstrating its recognition and value within the Kubernetes community.\nWe’re working to rebuild that recognition.\u003C/p>\n\u003Cp>If you’ve previously starred Pepr, or if you find it a useful project, we would greatly appreciate it if you could re-star the repository.\nWe really appreciate your support! :star:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"type-safe-kubernetes-middleware-for-humans\">\u003Cstrong>\u003Cem>Type safe Kubernetes middleware for humans\u003C/em>\u003C/strong>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#type-safe-kubernetes-middleware-for-humans\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Type safe Kubernetes middleware for humans”\u003C/span>\u003C/a>\u003C/div>\n\u003Cimg alt=\"The Pepr Logo\" align=\"right\" width=\"40%\" src=\"/assets/pepr.png\">\n\u003Cp>Pepr simplifies Kubernetes management by providing an alternative to complex YAML configurations, custom scripts, and ad-hoc solutions.\nAs a Kubernetes controller, Pepr enables you to define Kubernetes transformations using TypeScript, accessible through straightforward configurations even without extensive development expertise.\nPepr transforms disparate implementation approaches into a cohesive, well-structured, and maintainable system.\nWith Pepr, you can efficiently convert organizational knowledge into code, improving documentation, testing, validation, and change management for more predictable outcomes.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"features\">Features\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#features\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Features”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Zero-config K8s Mutating and Validating Webhooks plus Controller generation\u003C/li>\n\u003Cli>Automatic leader-elected K8s resource watching\u003C/li>\n\u003Cli>Lightweight async key-value store backed by K8s for stateful operations with the \u003Ca href=\"/user-guide/store\">Pepr Store\u003C/a>\u003C/li>\n\u003Cli>Human-readable fluent API for generating \u003Ca href=\"#capability\">Pepr Capabilities\u003C/a>\u003C/li>\n\u003Cli>A fluent API for creating/modifying/watching and server-side applying K8s resources via \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes Fluent Client\u003C/a>\u003C/li>\n\u003Cli>Generate new K8s resources based off of cluster resource changes\u003C/li>\n\u003Cli>Perform other exec/API calls based off of cluster resources changes or any other arbitrary schedule\u003C/li>\n\u003Cli>Out of the box airgap support with \u003Ca href=\"https://zarf.dev\">Zarf\u003C/a>\u003C/li>\n\u003Cli>Entire NPM ecosystem available for advanced operations\u003C/li>\n\u003Cli>Realtime K8s debugging system for testing/reacting to cluster changes\u003C/li>\n\u003Cli>Controller network isolation and tamper-resistant module execution\u003C/li>\n\u003Cli>Least-privilege \u003Ca href=\"/user-guide/rbac\">RBAC\u003C/a> generation\u003C/li>\n\u003Cli>AMD64 and ARM64 support\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"example-pepr-action\">Example Pepr Action\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#example-pepr-action\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Example Pepr Action”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This quick sample shows how to react to a ConfigMap being created or updated in the cluster.\nIt adds a label and annotation to the ConfigMap and adds some data to the ConfigMap.\nIt also creates a Validating Webhook to make sure the “pepr” label still exists.\nFinally, after the ConfigMap is created, it logs a message to the Pepr controller and creates or updates a separate ConfigMap with the \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">kubernetes-fluent-client\u003C/a> using server-side apply.\nFor more details see \u003Ca href=\"/actions/\">actions\u003C/a> section.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">value\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Create a Mutate Action for the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Add a label and annotation to the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Add some data to the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">doug-says\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Pepr is awesome!\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Log a message to the Pepr controller logs\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">A ConfigMap was created or updated:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Create a Validate Action for the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Validate the ConfigMap has a specific label\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HasLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Reject the ConfigMap if it doesn't have the label\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ConfigMap must have the required pepr label\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Watch behaves like controller-runtime's Manager.Watch()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">phase\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cm, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ConfigMap was \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">.\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Apply a ConfigMap using K8s server-side apply (will create or update)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">K8s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kind\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">data: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid: cm\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">uid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreatedOrUpdated()  .InNamespace(&#x22;pepr-demo&#x22;)  .WithLabel(&#x22;example&#x22;, &#x22;value&#x22;)  // Create a Mutate Action for the ConfigMap  .Mutate(request => {    // Add a label and annotation to the ConfigMap    request.SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;).SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);    // Add some data to the ConfigMap    request.Raw.data[&#x22;doug-says&#x22;] = &#x22;Pepr is awesome!&#x22;;    // Log a message to the Pepr controller logs    Log.info(&#x22;A ConfigMap was created or updated:&#x22;);  })  // Create a Validate Action for the ConfigMap  .Validate(request => {    // Validate the ConfigMap has a specific label    if (request.HasLabel(&#x22;pepr&#x22;)) {      return request.Approve();    }    // Reject the ConfigMap if it doesn&#x27;t have the label    return request.Deny(&#x22;ConfigMap must have the required pepr label&#x22;);  })  // Watch behaves like controller-runtime&#x27;s Manager.Watch()  .Watch(async (cm, phase) => {    Log.info(cm, &#x60;ConfigMap was ${phase}.&#x60;);    // Apply a ConfigMap using K8s server-side apply (will create or update)    await K8s(kind.ConfigMap).Apply({      metadata: {        name: &#x22;pepr-ssa-demo&#x22;,        namespace: &#x22;pepr-demo-2&#x22;,      },      data: {        uid: cm.metadata.uid,      },    });  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prerequisites\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prerequisites”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\n\u003Cp>\u003Ca href=\"https://nodejs.org/en/\">Node.js\u003C/a> v20.0.0+ (even-numbered releases only)\u003C/p>\n\u003Cul>\n\u003Cli>To ensure compatibility and optimal performance, it is recommended to use even-numbered releases of Node.js as they are stable releases and receive long-term support for three years.\nOdd-numbered releases are experimental and may not be supported by certain libraries utilized in Pepr.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ca href=\"https://www.npmjs.com/\">npm\u003C/a> v10.1.0+\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Recommended (optional) tools:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://code.visualstudio.com/\">Visual Studio Code\u003C/a> for inline debugging and \u003Ca href=\"#capability\">Pepr Capabilities\u003C/a> creation.\u003C/li>\n\u003Cli>A Kubernetes cluster for \u003Ccode dir=\"auto\">npx pepr dev\u003C/code>. Pepr modules include \u003Ccode dir=\"auto\">npm run k3d-setup\u003C/code> if you want to test locally with \u003Ca href=\"https://k3d.io/\">K3d\u003C/a> and \u003Ca href=\"https://www.docker.com/\">Docker\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"quick-start-guide\">Quick Start Guide\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#quick-start-guide\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Quick Start Guide”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Create a new Pepr Module\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If you already have a K3d cluster you want to use, skip this step\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">k3d-setup\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Start playing with Pepr now!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If using Kind, or another local k8s distro instead,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># run `npx pepr dev --host &#x3C;your_hostname>`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/hello-pepr.samples.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr initnpm run k3d-setupnpx pepr devkubectl apply -f capabilities/hello-pepr.samples.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Caside aria-label=\"Tip\" class=\"starlight-aside starlight-aside--tip\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z\">\u003C/path>\u003Cpath d=\"M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z\">\u003C/path>\u003C/svg>Tip\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>Don’t use IP as your \u003Ccode dir=\"auto\">--host\u003C/code>, it’s not supported. Make sure to check your\nlocal k8s distro documentation how to reach your localhost, which is where\n\u003Ccode dir=\"auto\">pepr dev\u003C/code> is serving the code from.\u003C/p>\u003C/div>\u003C/aside>\n  \u003Cvideo controls width=\"100%\">\n    \u003Csource src=\"https://user-images.githubusercontent.com/882485/230895880-c5623077-f811-4870-bb9f-9bb8e5edc118.mp4\" type=\"video/mp4\">\n    \u003Cp>Your browser doesn't support HTML video. \u003Ca href=\"https://user-images.githubusercontent.com/882485/230895880-c5623077-f811-4870-bb9f-9bb8e5edc118.mp4\">Download the video\u003C/a> instead.\u003C/p>\n  \u003C/video>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"concepts\">Concepts\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#concepts\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Concepts”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"module\">Module\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Module”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A module is the top-level collection of capabilities.\nIt is a single, complete TypeScript project that includes an entry point to load all the configuration and capabilities, along with their actions.\nDuring the Pepr build process, each module produces a unique Kubernetes MutatingWebhookConfiguration and ValidatingWebhookConfiguration, along with a secret containing the transpiled and compressed TypeScript code.\nThe webhooks and secret are deployed into the Kubernetes cluster with their own isolated controller.\u003C/p>\n\u003Cp>See \u003Ca href=\"/user-guide/pepr-modules\">Module\u003C/a> for more details.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"capability\">Capability\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#capability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Capability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A capability is set of related actions that work together to achieve a specific transformation or operation on Kubernetes resources.\nCapabilities are user-defined and can include one or more actions.\nThey are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations.\nA Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\u003C/p>\n\u003Cp>See \u003Ca href=\"/user-guide/capabilities\">Capabilities\u003C/a> for more details.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"action\">Action\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#action\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Action”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in from Kubernetes.\nActions are the atomic operations that are performed on Kubernetes resources by Pepr.\u003C/p>\n\u003Cp>For example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource’s metadata.\nActions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\u003C/p>\n\u003Cp>There are both \u003Ccode dir=\"auto\">Mutate()\u003C/code> and \u003Ccode dir=\"auto\">Validate()\u003C/code> Actions that can be used to modify or validate Kubernetes resources within the admission controller lifecycle.\nThere are also \u003Ccode dir=\"auto\">Watch()\u003C/code> and \u003Ccode dir=\"auto\">Reconcile()\u003C/code> actions that can be used to watch for changes to Kubernetes resources that already exist.\nFinally, the \u003Ccode dir=\"auto\">Finalize()\u003C/code> can be used after \u003Ccode dir=\"auto\">Watch()\u003C/code> or \u003Ccode dir=\"auto\">Reconcile()\u003C/code> to perform cleanup operations when the resource is deleted.\u003C/p>\n\u003Cp>See \u003Ca href=\"/actions/\">actions\u003C/a> for more details.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"logical-pepr-flow\">Logical Pepr Flow\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#logical-pepr-flow\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Logical Pepr Flow”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cimg src=\"/assets/pepr-arch.png\" alt=\"Arch Diagram\">\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"typescript\">TypeScript\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#typescript\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “TypeScript”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/\">TypeScript\u003C/a> is a strongly typed, object-oriented programming language built on top of JavaScript.\nIt provides optional static typing and a rich type system, allowing developers to write more robust code.\nTypeScript is transpiled to JavaScript, enabling it to run in any environment that supports JavaScript.\nPepr allows you to use JavaScript or TypeScript to write capabilities, but TypeScript is recommended for its type safety and rich type system.\nSee the \u003Ca href=\"https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html\">Typescript docs\u003C/a> to learn more.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"community\">Community\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#community\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Community”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To join our channel go to \u003Ca href=\"https://communityinviter.com/apps/kubernetes/community\">Kubernetes Slack\u003C/a> and join the \u003Ccode dir=\"auto\">#pepr\u003C/code> channel.\u003C/p>\n\u003Cp>\u003Ca href=\"https://github.com/defenseunicorns/pepr/graphs/contributors\">\u003Cimg src=\"https://contrib.rocks/image?repo=defenseunicorns/pepr\" alt=\"Contributor Chart\">\u003C/a>\u003C/p>\n\u003Cp>Made with \u003Ca href=\"https://contrib.rocks\">contrib.rocks\u003C/a>.\u003C/p>",{"headings":400,"localImagePaths":439,"remoteImagePaths":440,"frontmatter":441,"imagePaths":442},[401,404,407,410,413,416,419,422,425,428,431,434,437],{"depth":80,"slug":402,"text":403},"what-happened-to-peprs-stars","What happened to Pepr’s stars?",{"depth":80,"slug":405,"text":406},"type-safe-kubernetes-middleware-for-humans","Type safe Kubernetes middleware for humans",{"depth":80,"slug":408,"text":409},"features","Features",{"depth":80,"slug":411,"text":412},"example-pepr-action","Example Pepr Action",{"depth":80,"slug":414,"text":415},"prerequisites","Prerequisites",{"depth":80,"slug":417,"text":418},"quick-start-guide","Quick Start Guide",{"depth":80,"slug":420,"text":421},"concepts","Concepts",{"depth":131,"slug":423,"text":424},"module","Module",{"depth":131,"slug":426,"text":427},"capability","Capability",{"depth":131,"slug":429,"text":430},"action","Action",{"depth":80,"slug":432,"text":433},"logical-pepr-flow","Logical Pepr Flow",{"depth":80,"slug":435,"text":436},"typescript","TypeScript",{"depth":80,"slug":34,"text":438},"Community",[],[],{"title":389,"description":390},[],"actions/validate",{"id":443,"data":445,"body":450,"filePath":451,"digest":452,"rendered":453},{"title":446,"description":446,"editUrl":66,"head":447,"template":68,"sidebar":448,"pagefind":66,"draft":70},"Validate",[],{"hidden":70,"attrs":449},{},"After the Mutation phase comes the Validation phase where the validating admission webhooks are invoked and can reject requests to enforce custom policies.\n\nValidate does not annotate the objects that are allowed into the cluster, but the validation webhook can be audited with `npx pepr monitor`. Read the [monitoring docs](/reference/best-practices/#monitoring) for more information.\n\n## Basic Validation\n\nValidation actions can either approve or deny requests:\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Validate(request => {\n    if (request.HasAnnotation(\"evil\")) {\n      return request.Deny(\"No evil CM annotations allowed.\", 400);\n    }\n\n    return request.Approve();\n  });\n```\n\n## Validation with Warnings\n\nPepr supports including warning messages in both approval and denial responses. Warnings provide a way to communicate important information to users without necessarily blocking their requests.\n\n### Approving with Warnings\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreatedOrUpdated()\n  .InNamespace(\"pepr-demo\")\n  .Validate(request => {\n    const warnings = [];\n\n    // Check for deprecated fields\n    if (request.Raw.data && request.Raw.data[\"deprecated-field\"]) {\n      warnings.push(\"Warning: The 'deprecated-field' is being used and will be removed in future versions\");\n    }\n\n    // Check for missing app label\n    if (!request.HasLabel(\"app\")) {\n      warnings.push(\"Warning: Best practice is to include an 'app' label for resource identification\");\n    }\n\n    // Return approval with warnings if any were generated\n    return request.Approve(warnings.length > 0 ? warnings : undefined);\n  });\n```\n\n### Denying with Warnings\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreatedOrUpdated()\n  .InNamespace(\"pepr-demo\")\n  .Validate(request => {\n    // Check for dangerous settings\n    if (request.Raw.data && request.Raw.data[\"dangerous-setting\"] === \"true\") {\n      const warnings = [\n        \"Warning: The 'dangerous-setting' field is set to 'true'\",\n        \"Consider using a safer configuration option\"\n      ];\n      \n      return request.Deny(\n        \"ConfigMap contains dangerous settings that are not allowed\",\n        422,\n        warnings\n      );\n    }\n    \n    return request.Approve();\n  });\n```\n\nWarnings will be included in the Kubernetes API response and can be displayed to users by `kubectl` and other Kubernetes clients, providing helpful feedback while still enforcing policies.","src/content/docs/actions/validate.md","51f3387a91817842",{"html":454,"metadata":455},"\u003Cp>After the Mutation phase comes the Validation phase where the validating admission webhooks are invoked and can reject requests to enforce custom policies.\u003C/p>\n\u003Cp>Validate does not annotate the objects that are allowed into the cluster, but the validation webhook can be audited with \u003Ccode dir=\"auto\">npx pepr monitor\u003C/code>. Read the \u003Ca href=\"/reference/best-practices/#monitoring\">monitoring docs\u003C/a> for more information.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"basic-validation\">Basic Validation\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#basic-validation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Basic Validation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Validation actions can either approve or deny requests:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HasAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">evil\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">No evil CM annotations allowed.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">400\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Validate(request => {    if (request.HasAnnotation(&#x22;evil&#x22;)) {      return request.Deny(&#x22;No evil CM annotations allowed.&#x22;, 400);    }    return request.Approve();  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"validation-with-warnings\">Validation with Warnings\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#validation-with-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Validation with Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr supports including warning messages in both approval and denial responses. Warnings provide a way to communicate important information to users without necessarily blocking their requests.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"approving-with-warnings\">Approving with Warnings\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#approving-with-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Approving with Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> =\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Check for deprecated fields\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">&#x26;&#x26;\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">deprecated-field\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">push\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Warning: The 'deprecated-field' is being used and will be removed in future versions\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Check for missing app label\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HasLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">push\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Warning: Best practice is to include an 'app' label for resource identification\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Return approval with warnings if any were generated\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">length\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">0\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> warnings \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">undefined\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreatedOrUpdated()  .InNamespace(&#x22;pepr-demo&#x22;)  .Validate(request => {    const warnings = [];    // Check for deprecated fields    if (request.Raw.data &#x26;&#x26; request.Raw.data[&#x22;deprecated-field&#x22;]) {      warnings.push(&#x22;Warning: The &#x27;deprecated-field&#x27; is being used and will be removed in future versions&#x22;);    }    // Check for missing app label    if (!request.HasLabel(&#x22;app&#x22;)) {      warnings.push(&#x22;Warning: Best practice is to include an &#x27;app&#x27; label for resource identification&#x22;);    }    // Return approval with warnings if any were generated    return request.Approve(warnings.length > 0 ? warnings : undefined);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"denying-with-warnings\">Denying with Warnings\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#denying-with-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Denying with Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Check for dangerous settings\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">&#x26;&#x26;\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">dangerous-setting\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">===\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> =\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Warning: The 'dangerous-setting' field is set to 'true'\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Consider using a safer configuration option\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ConfigMap contains dangerous settings that are not allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">422\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">warnings\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreatedOrUpdated()  .InNamespace(&#x22;pepr-demo&#x22;)  .Validate(request => {    // Check for dangerous settings    if (request.Raw.data &#x26;&#x26; request.Raw.data[&#x22;dangerous-setting&#x22;] === &#x22;true&#x22;) {      const warnings = [        &#x22;Warning: The &#x27;dangerous-setting&#x27; field is set to &#x27;true&#x27;&#x22;,        &#x22;Consider using a safer configuration option&#x22;      ];      return request.Deny(        &#x22;ConfigMap contains dangerous settings that are not allowed&#x22;,        422,        warnings      );    }    return request.Approve();  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Warnings will be included in the Kubernetes API response and can be displayed to users by \u003Ccode dir=\"auto\">kubectl\u003C/code> and other Kubernetes clients, providing helpful feedback while still enforcing policies.\u003C/p>",{"headings":456,"localImagePaths":469,"remoteImagePaths":470,"frontmatter":471,"imagePaths":472},[457,460,463,466],{"depth":80,"slug":458,"text":459},"basic-validation","Basic Validation",{"depth":80,"slug":461,"text":462},"validation-with-warnings","Validation with Warnings",{"depth":131,"slug":464,"text":465},"approving-with-warnings","Approving with Warnings",{"depth":131,"slug":467,"text":468},"denying-with-warnings","Denying with Warnings",[],[],{"title":446,"description":446},[],"reference/module-examples",{"id":473,"data":475,"body":480,"filePath":481,"digest":482,"rendered":483},{"title":476,"description":476,"editUrl":66,"head":477,"template":68,"sidebar":478,"pagefind":66,"draft":70},"Module Examples",[],{"hidden":70,"attrs":479},{},"We maintain a repo of Pepr examples at [Pepr Excellent Examples](https://github.com/defenseunicorns/pepr-excellent-examples). Each example is a complete module that can be deployed to a Pepr instance.","src/content/docs/reference/module-examples.md","8c64696ed938b08c",{"html":484,"metadata":485},"\u003Cp>We maintain a repo of Pepr examples at \u003Ca href=\"https://github.com/defenseunicorns/pepr-excellent-examples\">Pepr Excellent Examples\u003C/a>. Each example is a complete module that can be deployed to a Pepr instance.\u003C/p>",{"headings":486,"localImagePaths":487,"remoteImagePaths":488,"frontmatter":489,"imagePaths":490},[],[],[],{"title":476,"description":476},[],{"id":26,"data":492,"body":497,"filePath":498,"digest":499,"rendered":500},{"title":493,"description":493,"editUrl":66,"head":494,"template":68,"sidebar":495,"pagefind":66,"draft":70},"Pepr Tutorials",[],{"hidden":70,"attrs":496},{},"In this section, we provide tutorials for using Pepr. These tutorials are:\n\n- [Create a Pepr Module](/tutorials/create-pepr-module)\n- [Create a Pepr Dashboard](/tutorials/create-pepr-dashboard)\n- [Create a Pepr Operator](/tutorials/create-pepr-operator)\n- [Pepr GitOps Workflow](/tutorials/pepr-gitops-workflow)","src/content/docs/tutorials/index.md","e516dddc60ded6b6",{"html":501,"metadata":502},"\u003Cp>In this section, we provide tutorials for using Pepr. These tutorials are:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/tutorials/create-pepr-module\">Create a Pepr Module\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/tutorials/create-pepr-dashboard\">Create a Pepr Dashboard\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/tutorials/create-pepr-operator\">Create a Pepr Operator\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/tutorials/pepr-gitops-workflow\">Pepr GitOps Workflow\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":503,"localImagePaths":504,"remoteImagePaths":505,"frontmatter":506,"imagePaths":507},[],[],[],{"title":493,"description":493},[],"actions/mutate",{"id":508,"data":510,"body":515,"filePath":516,"digest":517,"rendered":518},{"title":511,"description":511,"editUrl":66,"head":512,"template":68,"sidebar":513,"pagefind":66,"draft":70},"Mutate",[],{"hidden":70,"attrs":514},{},"Mutating admission webhooks are invoked first and can modify objects sent to the API server to enforce custom defaults. After an object is sent to Pepr's Mutating Admission Webhook, Pepr will [annotate the object](https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/mutate-processor.ts#L64) to indicate the status.\n\nAfter a successful mutation of an object in a module with UUID static-test, and capability name hello-pepr, expect to see this annotation: `static-test.pepr.dev/hello-pepr: succeeded`.\n\n# Helpers\n\n### `SetLabel`\n\n`SetLabel` is used to set a label on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to add a label when a ConfigMap is created:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Mutate(request => {\n    request\n      // Here we are adding a label to the ConfigMap.\n      .SetLabel(\"pepr\", \"was-here\")\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n### `RemoveLabel`\n\n`RemoveLabel` is used to remove a label on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to remove a label when a ConfigMap is updated:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Mutate(request => {\n    request\n      // Here we are removing a label from the ConfigMap.\n      .RemoveLabel(\"remove-me\")\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n### `SetAnnotation`\n\n`SetAnnotation` is used to set an annotation on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to add an annotation when a ConfigMap is created:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Mutate(request => {\n    request\n      // Here we are adding an annotation to the ConfigMap.\n      .SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n### `RemoveAnnotation`\n\n`RemoveAnnotation` is used to remove an annotation on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to remove an annotation when a ConfigMap is updated:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsUpdated()\n  .Mutate(request => {\n    request\n      // Here we are removing an annotation from the ConfigMap.\n      .RemoveAnnotation(\"remove-me\");\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n## See Also\n\nLooking for some more generic helpers? Check out the [Module Author SDK](/user-guide/sdk) for information on other things that Pepr can help with.","src/content/docs/actions/mutate.md","a67321f4b427f9e2",{"html":519,"metadata":520},"\u003Cp>Mutating admission webhooks are invoked first and can modify objects sent to the API server to enforce custom defaults. After an object is sent to Pepr’s Mutating Admission Webhook, Pepr will \u003Ca href=\"https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/mutate-processor.ts#L64\">annotate the object\u003C/a> to indicate the status.\u003C/p>\n\u003Cp>After a successful mutation of an object in a module with UUID static-test, and capability name hello-pepr, expect to see this annotation: \u003Ccode dir=\"auto\">static-test.pepr.dev/hello-pepr: succeeded\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h1\">\u003Ch1 id=\"helpers\">Helpers\u003C/h1>\u003Ca class=\"sl-anchor-link\" href=\"#helpers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Helpers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"setlabel\">\u003Ccode dir=\"auto\">SetLabel\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#setlabel\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “SetLabel”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">SetLabel\u003C/code> is used to set a label on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to add a label when a ConfigMap is created:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are adding a label to the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Mutate(request => {    request      // Here we are adding a label to the ConfigMap.      .SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;)    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"removelabel\">\u003Ccode dir=\"auto\">RemoveLabel\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#removelabel\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “RemoveLabel”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">RemoveLabel\u003C/code> is used to remove a label on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to remove a label when a ConfigMap is updated:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are removing a label from the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">RemoveLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">remove-me\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Mutate(request => {    request      // Here we are removing a label from the ConfigMap.      .RemoveLabel(&#x22;remove-me&#x22;)    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"setannotation\">\u003Ccode dir=\"auto\">SetAnnotation\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#setannotation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “SetAnnotation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">SetAnnotation\u003C/code> is used to set an annotation on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to add an annotation when a ConfigMap is created:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are adding an annotation to the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Mutate(request => {    request      // Here we are adding an annotation to the ConfigMap.      .SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"removeannotation\">\u003Ccode dir=\"auto\">RemoveAnnotation\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#removeannotation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “RemoveAnnotation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">RemoveAnnotation\u003C/code> is used to remove an annotation on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to remove an annotation when a ConfigMap is updated:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are removing an annotation from the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">RemoveAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">remove-me\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsUpdated()  .Mutate(request => {    request      // Here we are removing an annotation from the ConfigMap.      .RemoveAnnotation(&#x22;remove-me&#x22;);    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"see-also\">See Also\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#see-also\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “See Also”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Looking for some more generic helpers? Check out the \u003Ca href=\"/user-guide/sdk\">Module Author SDK\u003C/a> for information on other things that Pepr can help with.\u003C/p>",{"headings":521,"localImagePaths":541,"remoteImagePaths":542,"frontmatter":543,"imagePaths":544},[522,526,529,532,535,538],{"depth":523,"slug":524,"text":525},1,"helpers","Helpers",{"depth":131,"slug":527,"text":528},"setlabel","SetLabel",{"depth":131,"slug":530,"text":531},"removelabel","RemoveLabel",{"depth":131,"slug":533,"text":534},"setannotation","SetAnnotation",{"depth":131,"slug":536,"text":537},"removeannotation","RemoveAnnotation",{"depth":80,"slug":539,"text":540},"see-also","See Also",[],[],{"title":511,"description":511},[],"actions/using-alias-child-logger",{"id":545,"data":547,"body":552,"filePath":553,"digest":554,"rendered":555},{"title":548,"description":548,"editUrl":66,"head":549,"template":68,"sidebar":550,"pagefind":66,"draft":70},"Using Alias Child Logger in Actions",[],{"hidden":70,"attrs":551},{},"You can use the Alias function to include a user-defined alias in the logs for Mutate, Validate, and Watch actions. This can make for easier debugging since your user-defined alias will be included in the action's logs. This is especially useful when you have multiple actions of the same type in a single module.\n\nThe below example uses Mutate, Validate, and Watch actions with the Alias function:\n\n```ts\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"mutate\")\n  .Mutate((po, logger) => {\n    logger.info(`alias: mutate ${po.Raw.metadata.name}`);\n  });\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"validate\")\n  .Validate((po, logger) => {\n    logger.info(`alias: validate ${po.Raw.metadata.name}`);\n    return po.Approve();\n  });\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"watch\")\n  .Watch((po, _, logger) => {\n    logger.info(`alias: watch ${po.metadata.name}`);\n  });\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"reconcile\")\n  .Reconcile((po, _, logger) => {\n    logger.info(`alias: reconcile ${po.metadata.name}`);\n  });\n```\n\nThis will result in log entries when creating a Pod with the that include the alias:\n\n**Logs for Mutate When Pod `red` is Created:**\n\n```bash\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"gvk\":{\"group\":\"\",\"version\":\"v1\",\"kind\":\"Pod\"},\"operation\":\"CREATE\",\"admissionKind\":\"Mutate\",\"msg\":\"Incoming request\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"msg\":\"Processing request\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"msg\":\"Executing mutation action with alias: mutate\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"alias\":\"mutate\",\"msg\":\"alias: mutate red\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"hello-pepr\",\"msg\":\"Mutation action succeeded (mutateCallback)\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"res\":{\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"allowed\":true,\"patchType\":\"JSONPatch\",\"patch\":\"W3sib3AiOiJhZGQiLCJwYXRoIjoiL21ldGFkYXRhL2Fubm90YXRpb25zL3N0YXRpYy10ZXN0LnBlcHIuZGV2fjFoZWxsby1wZXByIiwidmFsdWUiOiJzdWNjZWVkZWQifV0=\"},\"msg\":\"Check response\"}\n{\"level\":30,\"time\":1726632368809,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"method\":\"POST\",\"url\":\"/mutate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s\",\"status\":200,\"duration\":\"1 ms\"}\n```\n\n**Logs for Validate When Pod `red` is Created:**\n\n```bash\n{\"level\":30,\"time\":1726631437605,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"gvk\":{\"group\":\"\",\"version\":\"v1\",\"kind\":\"Pod\"},\"operation\":\"CREATE\",\"admissionKind\":\"Validate\",\"msg\":\"Incoming request\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"msg\":\"Processing validation request\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"hello-pepr\",\"msg\":\"Processing validation action (validateCallback)\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"msg\":\"Executing validate action with alias: validate\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"alias\":\"validate\",\"msg\":\"alias: validate red\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"hello-pepr\",\"msg\":\"Validation action complete (validateCallback): allowed\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"res\":{\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"allowed\":true},\"msg\":\"Check response\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"method\":\"POST\",\"url\":\"/validate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s\",\"status\":200,\"duration\":\"5 ms\"}\n```\n\n**Logs for Watch and Reconcile When Pod `red` is Created:**\n\n```bash\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798510464,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798510464,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798510466,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798510466,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n```\n\n:::note\nThe Alias function is optional and can be used to provide additional context in the logs. You must pass the logger object as shown above to the action to use the Alias function.\n:::\n\n## See Also\n\nLooking for some more generic helpers? Check out the [Module Author SDK](/user-guide/sdk) for information on other things that Pepr can help with.","src/content/docs/actions/using-alias-child-logger.md","ec7d4736b35a4067",{"html":556,"metadata":557},"\u003Cp>You can use the Alias function to include a user-defined alias in the logs for Mutate, Validate, and Watch actions. This can make for easier debugging since your user-defined alias will be included in the action’s logs. This is especially useful when you have multiple actions of the same type in a single module.\u003C/p>\n\u003Cp>The below example uses Mutate, Validate, and Watch actions with the Alias function:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">mutate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: mutate \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">validate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: validate \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">watch\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">_\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: watch \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reconcile\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">_\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: reconcile \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;mutate&#x22;)  .Mutate((po, logger) => {    logger.info(&#x60;alias: mutate ${po.Raw.metadata.name}&#x60;);  });When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;validate&#x22;)  .Validate((po, logger) => {    logger.info(&#x60;alias: validate ${po.Raw.metadata.name}&#x60;);    return po.Approve();  });When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;watch&#x22;)  .Watch((po, _, logger) => {    logger.info(&#x60;alias: watch ${po.metadata.name}&#x60;);  });When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;reconcile&#x22;)  .Reconcile((po, _, logger) => {    logger.info(&#x60;alias: reconcile ${po.metadata.name}&#x60;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>This will result in log entries when creating a Pod with the that include the alias:\u003C/p>\n\u003Cp>\u003Cstrong>Logs for Mutate When Pod \u003Ccode dir=\"auto\">red\u003C/code> is Created:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-6786948977-6hbnt\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"uid\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"namespace\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-demo\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"name\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"/red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"gvk\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">group\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">version\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">v1\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Pod\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"},\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">operation\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">CREATE\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">admissionKind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Incoming\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Executing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">action\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">with\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Mutation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">action\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">succeeded\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (mutateCallback)\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">res\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:true,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">patchType\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">JSONPatch\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">patch\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">W3sib3AiOiJhZGQiLCJwYXRoIjoiL21ldGFkYXRhL2Fubm90YXRpb25zL3N0YXRpYy10ZXN0LnBlcHIuZGV2fjFoZWxsby1wZXByIiwidmFsdWUiOiJzdWNjZWVkZWQifV0\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">},\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Check\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">response\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">{\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":30,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":1726632368809,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":16,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">method\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">POST\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">url\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">/mutate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">=10s\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\",\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">status\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":200,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">duration\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ms\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;gvk&#x22;:{&#x22;group&#x22;:&#x22;&#x22;,&#x22;version&#x22;:&#x22;v1&#x22;,&#x22;kind&#x22;:&#x22;Pod&#x22;},&#x22;operation&#x22;:&#x22;CREATE&#x22;,&#x22;admissionKind&#x22;:&#x22;Mutate&#x22;,&#x22;msg&#x22;:&#x22;Incoming request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;msg&#x22;:&#x22;Processing request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;msg&#x22;:&#x22;Executing mutation action with alias: mutate&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;alias&#x22;:&#x22;mutate&#x22;,&#x22;msg&#x22;:&#x22;alias: mutate red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;hello-pepr&#x22;,&#x22;msg&#x22;:&#x22;Mutation action succeeded (mutateCallback)&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;res&#x22;:{&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;allowed&#x22;:true,&#x22;patchType&#x22;:&#x22;JSONPatch&#x22;,&#x22;patch&#x22;:&#x22;W3sib3AiOiJhZGQiLCJwYXRoIjoiL21ldGFkYXRhL2Fubm90YXRpb25zL3N0YXRpYy10ZXN0LnBlcHIuZGV2fjFoZWxsby1wZXByIiwidmFsdWUiOiJzdWNjZWVkZWQifV0=&#x22;},&#x22;msg&#x22;:&#x22;Check response&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368809,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;method&#x22;:&#x22;POST&#x22;,&#x22;url&#x22;:&#x22;/mutate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;1 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Logs for Validate When Pod \u003Ccode dir=\"auto\">red\u003C/code> is Created:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726631437605,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-6786948977-j7f9h\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"uid\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"namespace\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-demo\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"name\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"/red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"gvk\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">group\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">version\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">v1\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Pod\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"},\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">operation\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">CREATE\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">admissionKind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Incoming\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">validation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">validation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">action\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (validateCallback)\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Executing validate action with alias: validate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">alias\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">validate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">alias: validate red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Validation action complete (\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">validateCallback\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">): allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">res\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:true},\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Check response\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">method\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">POST\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">url\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">/validate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">timeout\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">10s\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">status\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:200,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">duration\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">ms\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437605,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;gvk&#x22;:{&#x22;group&#x22;:&#x22;&#x22;,&#x22;version&#x22;:&#x22;v1&#x22;,&#x22;kind&#x22;:&#x22;Pod&#x22;},&#x22;operation&#x22;:&#x22;CREATE&#x22;,&#x22;admissionKind&#x22;:&#x22;Validate&#x22;,&#x22;msg&#x22;:&#x22;Incoming request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;msg&#x22;:&#x22;Processing validation request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;hello-pepr&#x22;,&#x22;msg&#x22;:&#x22;Processing validation action (validateCallback)&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;msg&#x22;:&#x22;Executing validate action with alias: validate&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;alias&#x22;:&#x22;validate&#x22;,&#x22;msg&#x22;:&#x22;alias: validate red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;hello-pepr&#x22;,&#x22;msg&#x22;:&#x22;Validation action complete (validateCallback): allowed&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;res&#x22;:{&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;allowed&#x22;:true},&#x22;msg&#x22;:&#x22;Check response&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;method&#x22;:&#x22;POST&#x22;,&#x22;url&#x22;:&#x22;/validate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;5 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Logs for Watch and Reconcile When Pod \u003Ccode dir=\"auto\">red\u003C/code> is Created:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510464,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510464,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510466,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510466,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510464,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510464,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510466,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510466,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>The Alias function is optional and can be used to provide additional context in the logs. You must pass the logger object as shown above to the action to use the Alias function.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"see-also\">See Also\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#see-also\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “See Also”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Looking for some more generic helpers? Check out the \u003Ca href=\"/user-guide/sdk\">Module Author SDK\u003C/a> for information on other things that Pepr can help with.\u003C/p>",{"headings":558,"localImagePaths":560,"remoteImagePaths":561,"frontmatter":562,"imagePaths":563},[559],{"depth":80,"slug":539,"text":540},[],[],{"title":548,"description":548},[],{"id":22,"data":565,"body":569,"filePath":570,"digest":571,"rendered":572},{"title":20,"description":20,"editUrl":66,"head":566,"template":68,"sidebar":567,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":568},{},"## Overview\n\nAn action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in during the admission controller lifecycle. Actions are the atomic operations that are performed on Kubernetes resources by Pepr.\n\nFor example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource's metadata. Actions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\n\nActions are `Mutate()`, `Validate()`, `Watch()`, `Reconcile()`, and `Finalize()`. Both Mutate and Validate actions run during the admission controller lifecycle, while Watch and Reconcile actions run in a separate controller that tracks changes to resources, including existing resource; the Finalize action spans both the admission & afterward.\n\nLet's look at some example actions that are included in the `HelloPepr` capability that is created for you when you [`npx pepr init`](/user-guide/pepr-cli#pepr-init):\n\n---\n\nIn this first example, Pepr is adding a label and annotation to a ConfigMap with the name `example-1` when it is created. Comments are added to each line to explain in more detail what is happening.\n\n```ts\n// When(a.\u003CKind>) filters which GroupVersionKind (GVK) this action should act on.\nWhen(a.ConfigMap)\n  // This limits the action to only act on new resources.\n  .IsCreated()\n  // This limits the action to only act on resources with the name \"example-1\".\n  .WithName(\"example-1\")\n  // Mutate() is where we define the actual behavior of this action.\n  .Mutate(request => {\n    // The request object is a wrapper around the K8s resource that Pepr is acting on.\n    request\n      // Here we are adding a label to the ConfigMap.\n      .SetLabel(\"pepr\", \"was-here\")\n      // And here we are adding an annotation.\n      .SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n---\n\nIn this example, a Validate action rejects any ConfigMap in the `pepr-demo` namespace that has no data.\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreated()\n  .InNamespace(\"pepr-demo\")\n  // Validate() is where we define the actual behavior of this action.\n  .Validate(request => {\n    // If data exists, approve the request.\n    if (request.Raw.data) {\n      return request.Approve();\n    }\n\n    // Otherwise, reject the request with a message and optional code.\n    return request.Deny(\"ConfigMap must have data\");\n  });\n```\n\n---\n\nIn this example, a Watch action on the name and phase of any ConfigMap.Watch actions run in a separate controller that tracks changes to resources, including existing resources so that you can react to changes in real-time. It is important to note that Watch actions are not run during the admission controller lifecycle, so they cannot be used to modify or validate resources. They also may run multiple times for the same resource, so it is important to make sure that your Watch actions are idempotent. In a future release, Pepr will provide a better way to control when a Watch action is run to avoid this issue.\n\n```ts\nWhen(a.ConfigMap)\n  // Watch() is where we define the actual behavior of this action.\n  .Watch((cm, phase) => {\n    Log.info({cm}, `ConfigMap ${cm.metadata.name} was ${phase}`);\n  });\n```\n\nThere are many more examples in the `HelloPepr` capability that you can use as a reference when creating your own actions. Note that each time you run [`npx pepr update`](/user-guide/pepr-cli#pepr-update), Pepr will automatically update the `HelloPepr` capability with the latest examples and best practices for you to reference and test directly in your Pepr Module.\n\n---\n\nIn some scenarios involving Kubernetes Resource Controllers or Operator patterns, opting for a Reconcile action could be more fitting. Comparable to the Watch functionality, Reconcile is responsible for monitoring the name and phase of any Kubernetes Object. It operates within the Watch controller dedicated to observing modifications to resources, including those already existing, enabling responses to alterations as they occur. Unlike Watch, however, Reconcile employs a Queue to sequentially handle events once they are returned by the Kubernetes API. This allows the operator to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource.\n\n```ts\nWhen(WebApp)\n  .IsCreatedOrUpdated()\n  .Validate(validator)\n  .Reconcile(async instance => {\n\n    const { namespace, name, generation } = instance.metadata;\n\n    if (!instance.metadata?.namespace) {\n      Log.error({instance}, `Invalid WebApp definition`);\n      return;\n    }\n\n    const isPending = instance.status?.phase === Phase.Pending;\n    const isCurrentGeneration = generation === instance.status?.observedGeneration;\n\n    if (isPending || isCurrentGeneration) {\n      Log.debug({instance}, `Skipping pending or completed instance`);\n      return;\n    }\n\n    Log.debug({instance}, `Processing instance ${namespace}/${name}`);\n\n\n    try {\n      // Set Status to pending\n      await updateStatus(instance, { phase: Phase.Pending });\n\n      // Deploy Deployment, ConfigMap, Service, ServiceAccount, and RBAC based on instance\n      await Deploy(instance);\n\n      // Set Status to ready\n      await updateStatus(instance, {\n        phase: Phase.Ready,\n        observedGeneration: instance.metadata.generation,\n      });\n    } catch (e) {\n      Log.error(e, `Error configuring for ${namespace}/${name}`);\n\n      // Set Status to failed\n      void updateStatus(instance, {\n        phase: Phase.Failed,\n        observedGeneration: instance.metadata.generation,\n      });\n    }\n  });\n```","src/content/docs/actions/index.md","dac7b8ab16e8bb51",{"html":573,"metadata":574},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"overview\">Overview\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#overview\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Overview”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>An action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in during the admission controller lifecycle. Actions are the atomic operations that are performed on Kubernetes resources by Pepr.\u003C/p>\n\u003Cp>For example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource’s metadata. Actions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\u003C/p>\n\u003Cp>Actions are \u003Ccode dir=\"auto\">Mutate()\u003C/code>, \u003Ccode dir=\"auto\">Validate()\u003C/code>, \u003Ccode dir=\"auto\">Watch()\u003C/code>, \u003Ccode dir=\"auto\">Reconcile()\u003C/code>, and \u003Ccode dir=\"auto\">Finalize()\u003C/code>. Both Mutate and Validate actions run during the admission controller lifecycle, while Watch and Reconcile actions run in a separate controller that tracks changes to resources, including existing resource; the Finalize action spans both the admission &#x26; afterward.\u003C/p>\n\u003Cp>Let’s look at some example actions that are included in the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability that is created for you when you \u003Ca href=\"/user-guide/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>:\u003C/p>\n\u003Chr>\n\u003Cp>In this first example, Pepr is adding a label and annotation to a ConfigMap with the name \u003Ccode dir=\"auto\">example-1\u003C/code> when it is created. Comments are added to each line to explain in more detail what is happening.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// When(a.&#x3C;Kind>) filters which GroupVersionKind (GVK) this action should act on.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// This limits the action to only act on new resources.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// This limits the action to only act on resources with the name \"example-1\".\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example-1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Mutate() is where we define the actual behavior of this action.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// The request object is a wrapper around the K8s resource that Pepr is acting on.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are adding a label to the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// And here we are adding an annotation.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"// When(a.\u003CKind>) filters which GroupVersionKind (GVK) this action should act on.When(a.ConfigMap)  // This limits the action to only act on new resources.  .IsCreated()  // This limits the action to only act on resources with the name &#x22;example-1&#x22;.  .WithName(&#x22;example-1&#x22;)  // Mutate() is where we define the actual behavior of this action.  .Mutate(request => {    // The request object is a wrapper around the K8s resource that Pepr is acting on.    request      // Here we are adding a label to the ConfigMap.      .SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;)      // And here we are adding an annotation.      .SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cp>In this example, a Validate action rejects any ConfigMap in the \u003Ccode dir=\"auto\">pepr-demo\u003C/code> namespace that has no data.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Validate() is where we define the actual behavior of this action.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// If data exists, approve the request.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Otherwise, reject the request with a message and optional code.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ConfigMap must have data\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .InNamespace(&#x22;pepr-demo&#x22;)  // Validate() is where we define the actual behavior of this action.  .Validate(request => {    // If data exists, approve the request.    if (request.Raw.data) {      return request.Approve();    }    // Otherwise, reject the request with a message and optional code.    return request.Deny(&#x22;ConfigMap must have data&#x22;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cp>In this example, a Watch action on the name and phase of any ConfigMap.Watch actions run in a separate controller that tracks changes to resources, including existing resources so that you can react to changes in real-time. It is important to note that Watch actions are not run during the admission controller lifecycle, so they cannot be used to modify or validate resources. They also may run multiple times for the same resource, so it is important to make sure that your Watch actions are idempotent. In a future release, Pepr will provide a better way to control when a Watch action is run to avoid this issue.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Watch() is where we define the actual behavior of this action.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">phase\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({cm}, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ConfigMap \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">cm\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\"> was \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  // Watch() is where we define the actual behavior of this action.  .Watch((cm, phase) => {    Log.info({cm}, &#x60;ConfigMap ${cm.metadata.name} was ${phase}&#x60;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>There are many more examples in the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability that you can use as a reference when creating your own actions. Note that each time you run \u003Ca href=\"/user-guide/pepr-cli#pepr-update\">\u003Ccode dir=\"auto\">npx pepr update\u003C/code>\u003C/a>, Pepr will automatically update the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability with the latest examples and best practices for you to reference and test directly in your Pepr Module.\u003C/p>\n\u003Chr>\n\u003Cp>In some scenarios involving Kubernetes Resource Controllers or Operator patterns, opting for a Reconcile action could be more fitting. Comparable to the Watch functionality, Reconcile is responsible for monitoring the name and phase of any Kubernetes Object. It operates within the Watch controller dedicated to observing modifications to resources, including those already existing, enabling responses to alterations as they occur. Unlike Watch, however, Reconcile employs a Queue to sequentially handle events once they are returned by the Kubernetes API. This allows the operator to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(WebApp)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(validator)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">generation\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({instance}, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Invalid WebApp definition\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">isPending\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">status\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> === \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pending\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">isCurrentGeneration\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">generation\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> === \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">status\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">observedGeneration\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (isPending \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">||\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> isCurrentGeneration) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({instance}, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Skipping pending or completed instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({instance}, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing instance \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set Status to pending\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">updateStatus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, { phase: Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pending\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> });\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Deploy Deployment, ConfigMap, Service, ServiceAccount, and RBAC based on instance\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set Status to ready\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">updateStatus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase: Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Ready\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">observedGeneration: instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">generation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (e) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(e, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Error configuring for \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set Status to failed\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">void\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">updateStatus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase: Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Failed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">observedGeneration: instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">generation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(WebApp)  .IsCreatedOrUpdated()  .Validate(validator)  .Reconcile(async instance => {    const { namespace, name, generation } = instance.metadata;    if (!instance.metadata?.namespace) {      Log.error({instance}, &#x60;Invalid WebApp definition&#x60;);      return;    }    const isPending = instance.status?.phase === Phase.Pending;    const isCurrentGeneration = generation === instance.status?.observedGeneration;    if (isPending || isCurrentGeneration) {      Log.debug({instance}, &#x60;Skipping pending or completed instance&#x60;);      return;    }    Log.debug({instance}, &#x60;Processing instance ${namespace}/${name}&#x60;);    try {      // Set Status to pending      await updateStatus(instance, { phase: Phase.Pending });      // Deploy Deployment, ConfigMap, Service, ServiceAccount, and RBAC based on instance      await Deploy(instance);      // Set Status to ready      await updateStatus(instance, {        phase: Phase.Ready,        observedGeneration: instance.metadata.generation,      });    } catch (e) {      Log.error(e, &#x60;Error configuring for ${namespace}/${name}&#x60;);      // Set Status to failed      void updateStatus(instance, {        phase: Phase.Failed,        observedGeneration: instance.metadata.generation,      });    }  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":575,"localImagePaths":579,"remoteImagePaths":580,"frontmatter":581,"imagePaths":582},[576],{"depth":80,"slug":577,"text":578},"overview","Overview",[],[],{"title":20,"description":20},[],"reference/faq",{"id":583,"data":585,"body":590,"filePath":591,"digest":592,"rendered":593},{"title":586,"description":586,"editUrl":66,"head":587,"template":68,"sidebar":588,"pagefind":66,"draft":70},"Frequently Asked Questions",[],{"hidden":70,"attrs":589},{},"## What is the `PEPR_WATCH_MODE` environment variable?\n\nThe `PEPR_WATCH_MODE` environment variable is used to determine if Pepr binds Admission Endpoints and runs as an Admission Controller or sets up the watch processor and runs as a Kubernetes Controller. For greater availability the Admission Controller runs with two replicas. The variable is set during `npx pepr build` when the manifests are generated. This variable should not be set by the user.\n\n## Difference between `.Watch()` vs. `.Reconcile()` in Pepr\n\n`.Watch()` and `.Reconcile()` are two distinct mechanisms in Pepr used to handle Kubernetes events. The core difference is **when** and **how** they process events:\n\n- **`.Watch()`** processes events **immediately** as they arrive, without any ordering guarantees.\n- **`.Reconcile()`** processes events **sequentially** through a queue, based on a user-defined configuration.\n\n### Why This Matters\n\nIf you're performing multiple operations on the same resource, using `.Watch()` can lead to **out-of-order event handling**.\n\n**Example:**  \nSuppose your controller updates a resource and then deletes it. With `.Watch()`, the delete event might be processed **before** the update if the update takes longer to complete. This could result in the resource being deleted before it was properly updated — leading to **unexpected behavior**.\n\n### How `.Reconcile()` Solves This\n\n`.Reconcile()` ensures **event order is preserved** by placing events into a queue. Events are then processed **in the order they were received**, regardless of their processing time. This reduces race conditions and increases predictability.\n\n### `Reconcile()` Queue Configurations\n\nYou can configure `.Reconcile()` with different queue granularities depending on your desired level of isolation:\n\n| Option         | Description                                                                                                    | Example                                                                                   |\n|----------------|----------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|\n| `kind`         | One queue per resource kind.                                                                                   | All Deployments share a queue, all Pods share a queue, etc.                              |\n| `kindNs`       | One queue per kind **within each namespace**.                                                                  | Deployments in `default` share a queue; Pods in `default` share a different one.         |\n| `kindNsName`   | One queue **per resource**, keyed by kind + namespace + name. _(Recommended)_                                  | Events for `Deployment/default/my-deployment` are processed in their own dedicated queue.|\n| `global`       | A **single global queue** for all events.                                                                      | All events across all kinds and namespaces are funneled into one queue.                  |\n\n### Summary\n\n- Use **`.Watch()`** when immediate reaction is acceptable and event order doesn't matter.\n- Use **`.Reconcile()`** when consistency and **event order are critical**, especially for updates, deletes, or resource coordination.\n- Prefer `kindNsName` mode for most real-world workloads to ensure per-resource consistency.\n\n## What is a module author?\n\nA module author is someone who creates a [Pepr Module](/user-guide/pepr-modules) , which defines capabilities to enforce or apply desired state in a Kubernetes cluster.\nIf you’ve run `npx pepr init` to create a module, congratulations — you’re a module author.\n\n## How do I remove the punycode warning?\n\nBy default, warnings are removed. You can allow warnings by setting the `PEPR_NODE_WARNINGS` environment variable.\n\n```bash\nPEPR_NODE_WARNINGS=\"true\"\n```\n\nIf you allow warnings, you can disable the specific punycode warning by:\n\n```bash\nexport NODE_OPTIONS=\"--disable-warning=DEP0040\"\n```\n\nor\n\n```bash\nnpx --node-options=\"--disable-warning=DEP0040\" pepr [command]\n```\n\n## How does Pepr compare to Operator SDK?\n\nPepr and Operator SDK are both frameworks used for building Kubernetes operators and admission controllers. While they share a common goal of simplifying the creation of Kubernetes operators and enhancing Kubernetes functionality, they have different approaches and features.\n\nSimilarities:\n\n- **Scaffolding**: Automatically generate boilerplate code for new operators and Kubernetes manifests for building controllers.\n- **Helper Functions**: Provide utility functions to interact with Kubernetes resources and manage the lifecycle of Kubernetes resources.\n- **Admission Webhooks and Kubernetes Controllers**: Both support building admission and Kubernetes controllers by reacting to changes in the cluster in an automated way.\n\nDifferences:\n\n- **Main Goals**: Operator SDK is mainly focused on building operators and later included support for Webhooks. In contrast, Pepr started out as a framework for building Webhooks and later added support for building operators via [Kubernetes-Fluent-Client](https://github.com/defenseunicorns/kubernetes-fluent-client) through [Watch](/actions/watch) and [Reconcile](/actions/reconcile).\n- **Language Support**: Operator SDK supports Go, Ansible, and Helm, while Pepr is written in TypeScript and designed with an English style fluent API for simplicity.\n- **Lifecycle Management**: Operator SDK provides tools for managing the lifecycle of operators through OLM (Operator Lifecycle Manager), while Pepr relies on [Helm](/user-guide/customization) for upgrades.\n- **Complexity**: Operator SDK uses native Kubernetes Go libraries for deep integration with Kubernetes resources, while Pepr exposes a high-level abstraction allowing users to focus on business logic.\n- **Easy Setup**: While both make it easy to initialize a new project, Pepr comes with an out-of-the-box `hello-pepr.ts` example which demonstrates how to use Pepr effectively.\n\n## How does Pepr compare to Kyverno?\n\nAlthough Pepr and Kyverno have similarities, Pepr is very different than Kyverno. They have very different mission statements. Pepr focuses on making operators as easy as possible. Kyverno focuses on reporting, not building operators.\n\nSimilarities:\n\n- Both have Mutating Webhooks that can dynamically change resources before admission\n- Both have Validating Webhooks to configure what can/cannot go through admission\n- Both provide a way to react to changes to pre-existing cluster resources (i.e., resources that have already gone through admission)\n\nDifferences:\n\n- Pepr is more like a \"framework\" than a tool. In Pepr you create a Pepr [Module](/user-guide/pepr-modules). In the Pepr module you define [capabilities](/user-guide/capabilities) that enforce / apply desired cluster state.\n- Pepr is written in TypeScript. Kyverno is written in Go.\n- Pepr provides the flexibility of a full-fledged, strongly typed programming language to decide what decisions to make based on events happening in the cluster. With Kyverno, you are limited to the constraints of YAML.\n- Pepr can be used to reconcile events in order, similar to Kube-Builder or Operator SDK.\n- Pepr can apply a CustomResourceDefinition and control cluster state based on that custom resource.\n\nBoth Pepr and Kyverno are great tools. Which one to use for your project depends on your use case.\n\n## How do I add custom labels to Pepr's Kubernetes manifests?\n\nDuring the build process, custom labels can be added the `pepr-system` namespace based on the `package.json`. Checkout the [Customizing with package.json](/user-guide/customization#packagejson-configurations-table).\n\nThe following example shows how to add custom namespace labels.\n\n```json\n  \"pepr\": {\n    \"name\": \"new-release\",\n    ...\n    \"customLabels\": {\n      \"namespace\": {\n        \"istio-injection\": \"enabled\",\n        \"app.kubernetes.io/name\": \"new-release\"\n      }\n    },\n    ...\n  }\n```\n\nThe resulting namespace will be generated after `npx pepr build`.\n\n```yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: pepr-system\n  labels:\n    istio-injection: enabled\n    app.kubernetes.io/name: new-release\n```\n\n## My Pepr version is not the latest\n\nIf you notice your Pepr version does not correspond to the latest release in GitHub after doing `npx pepr -V`, clearing the NPX cache can often resolve the issue.\n\nRun the cache clearing command\n\n```bash\nnpx clear-npx-cache\n```\n\nIf you want to ensure the cache has been cleared, you can check the cache directory. The location of this directory varies based on your operating system and configuration. However, you can generally find it in your system's home directory under `.npm`.\n\n:::note\nIf you are inside of the Pepr Core repo (\u003Chttps://github.com/defenseunicorns/pepr>), then it is normal for `npx pepr -V` to return `0.0.0-development`\n:::\n\n## I've found a bug, what should I do?\n\nPlease report it by opening an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues). Please include as much information as possible in your bug report, including:\n\n- The version of Pepr you are using\n- The version of Kubernetes you are using\n\n## I've found a security issue, what should I do?\n\nSecurity issues should be reported privately, via [email](mailto:pepr@defenseunicorns.com). You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message.\n\n## I have a feature request, what should I do?\n\nPlease let us know by opening an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues).\n\n## How do I get help with Pepr?\n\nIf you have a question about Pepr, please open an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues) or contact us through the Pepr channel on the Kubernetes Slack.","src/content/docs/reference/faq.md","58744853fda54bc4",{"html":594,"metadata":595},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-is-the-pepr_watch_mode-environment-variable\">What is the \u003Ccode dir=\"auto\">PEPR_WATCH_MODE\u003C/code> environment variable?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-is-the-pepr_watch_mode-environment-variable\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What is the PEPR_WATCH_MODE environment variable?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">PEPR_WATCH_MODE\u003C/code> environment variable is used to determine if Pepr binds Admission Endpoints and runs as an Admission Controller or sets up the watch processor and runs as a Kubernetes Controller. For greater availability the Admission Controller runs with two replicas. The variable is set during \u003Ccode dir=\"auto\">npx pepr build\u003C/code> when the manifests are generated. This variable should not be set by the user.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"difference-between-watch-vs-reconcile-in-pepr\">Difference between \u003Ccode dir=\"auto\">.Watch()\u003C/code> vs. \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> in Pepr\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#difference-between-watch-vs-reconcile-in-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Difference between .Watch() vs. .Reconcile() in Pepr”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">.Watch()\u003C/code> and \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> are two distinct mechanisms in Pepr used to handle Kubernetes events. The core difference is \u003Cstrong>when\u003C/strong> and \u003Cstrong>how\u003C/strong> they process events:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ccode dir=\"auto\">.Watch()\u003C/code>\u003C/strong> processes events \u003Cstrong>immediately\u003C/strong> as they arrive, without any ordering guarantees.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode dir=\"auto\">.Reconcile()\u003C/code>\u003C/strong> processes events \u003Cstrong>sequentially\u003C/strong> through a queue, based on a user-defined configuration.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"why-this-matters\">Why This Matters\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#why-this-matters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Why This Matters”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you’re performing multiple operations on the same resource, using \u003Ccode dir=\"auto\">.Watch()\u003C/code> can lead to \u003Cstrong>out-of-order event handling\u003C/strong>.\u003C/p>\n\u003Cp>\u003Cstrong>Example:\u003C/strong>\u003Cbr>\nSuppose your controller updates a resource and then deletes it. With \u003Ccode dir=\"auto\">.Watch()\u003C/code>, the delete event might be processed \u003Cstrong>before\u003C/strong> the update if the update takes longer to complete. This could result in the resource being deleted before it was properly updated — leading to \u003Cstrong>unexpected behavior\u003C/strong>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"how-reconcile-solves-this\">How \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> Solves This\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#how-reconcile-solves-this\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How .Reconcile() Solves This”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">.Reconcile()\u003C/code> ensures \u003Cstrong>event order is preserved\u003C/strong> by placing events into a queue. Events are then processed \u003Cstrong>in the order they were received\u003C/strong>, regardless of their processing time. This reduces race conditions and increases predictability.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"reconcile-queue-configurations\">\u003Ccode dir=\"auto\">Reconcile()\u003C/code> Queue Configurations\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#reconcile-queue-configurations\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reconcile() Queue Configurations”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can configure \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> with different queue granularities depending on your desired level of isolation:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Option\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kind\u003C/code>\u003C/td>\u003Ctd>One queue per resource kind.\u003C/td>\u003Ctd>All Deployments share a queue, all Pods share a queue, etc.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNs\u003C/code>\u003C/td>\u003Ctd>One queue per kind \u003Cstrong>within each namespace\u003C/strong>.\u003C/td>\u003Ctd>Deployments in \u003Ccode dir=\"auto\">default\u003C/code> share a queue; Pods in \u003Ccode dir=\"auto\">default\u003C/code> share a different one.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNsName\u003C/code>\u003C/td>\u003Ctd>One queue \u003Cstrong>per resource\u003C/strong>, keyed by kind + namespace + name. \u003Cem>(Recommended)\u003C/em>\u003C/td>\u003Ctd>Events for \u003Ccode dir=\"auto\">Deployment/default/my-deployment\u003C/code> are processed in their own dedicated queue.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">global\u003C/code>\u003C/td>\u003Ctd>A \u003Cstrong>single global queue\u003C/strong> for all events.\u003C/td>\u003Ctd>All events across all kinds and namespaces are funneled into one queue.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"summary\">Summary\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#summary\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Summary”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Use \u003Cstrong>\u003Ccode dir=\"auto\">.Watch()\u003C/code>\u003C/strong> when immediate reaction is acceptable and event order doesn’t matter.\u003C/li>\n\u003Cli>Use \u003Cstrong>\u003Ccode dir=\"auto\">.Reconcile()\u003C/code>\u003C/strong> when consistency and \u003Cstrong>event order are critical\u003C/strong>, especially for updates, deletes, or resource coordination.\u003C/li>\n\u003Cli>Prefer \u003Ccode dir=\"auto\">kindNsName\u003C/code> mode for most real-world workloads to ensure per-resource consistency.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-is-a-module-author\">What is a module author?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-is-a-module-author\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What is a module author?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A module author is someone who creates a \u003Ca href=\"/user-guide/pepr-modules\">Pepr Module\u003C/a> , which defines capabilities to enforce or apply desired state in a Kubernetes cluster.\nIf you’ve run \u003Ccode dir=\"auto\">npx pepr init\u003C/code> to create a module, congratulations — you’re a module author.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-do-i-remove-the-punycode-warning\">How do I remove the punycode warning?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-do-i-remove-the-punycode-warning\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How do I remove the punycode warning?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By default, warnings are removed. You can allow warnings by setting the \u003Ccode dir=\"auto\">PEPR_NODE_WARNINGS\u003C/code> environment variable.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PEPR_NODE_WARNINGS\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"PEPR_NODE_WARNINGS=&#x22;true&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If you allow warnings, you can disable the specific punycode warning by:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">NODE_OPTIONS\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--disable-warning=DEP0040\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"export NODE_OPTIONS=&#x22;--disable-warning=DEP0040&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>or\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--node-options=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--disable-warning=DEP0040\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [command]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx --node-options=&#x22;--disable-warning=DEP0040&#x22; pepr [command]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-does-pepr-compare-to-operator-sdk\">How does Pepr compare to Operator SDK?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-does-pepr-compare-to-operator-sdk\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How does Pepr compare to Operator SDK?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr and Operator SDK are both frameworks used for building Kubernetes operators and admission controllers. While they share a common goal of simplifying the creation of Kubernetes operators and enhancing Kubernetes functionality, they have different approaches and features.\u003C/p>\n\u003Cp>Similarities:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Scaffolding\u003C/strong>: Automatically generate boilerplate code for new operators and Kubernetes manifests for building controllers.\u003C/li>\n\u003Cli>\u003Cstrong>Helper Functions\u003C/strong>: Provide utility functions to interact with Kubernetes resources and manage the lifecycle of Kubernetes resources.\u003C/li>\n\u003Cli>\u003Cstrong>Admission Webhooks and Kubernetes Controllers\u003C/strong>: Both support building admission and Kubernetes controllers by reacting to changes in the cluster in an automated way.\u003C/li>\n\u003C/ul>\n\u003Cp>Differences:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Main Goals\u003C/strong>: Operator SDK is mainly focused on building operators and later included support for Webhooks. In contrast, Pepr started out as a framework for building Webhooks and later added support for building operators via \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes-Fluent-Client\u003C/a> through \u003Ca href=\"/actions/watch\">Watch\u003C/a> and \u003Ca href=\"/actions/reconcile\">Reconcile\u003C/a>.\u003C/li>\n\u003Cli>\u003Cstrong>Language Support\u003C/strong>: Operator SDK supports Go, Ansible, and Helm, while Pepr is written in TypeScript and designed with an English style fluent API for simplicity.\u003C/li>\n\u003Cli>\u003Cstrong>Lifecycle Management\u003C/strong>: Operator SDK provides tools for managing the lifecycle of operators through OLM (Operator Lifecycle Manager), while Pepr relies on \u003Ca href=\"/user-guide/customization\">Helm\u003C/a> for upgrades.\u003C/li>\n\u003Cli>\u003Cstrong>Complexity\u003C/strong>: Operator SDK uses native Kubernetes Go libraries for deep integration with Kubernetes resources, while Pepr exposes a high-level abstraction allowing users to focus on business logic.\u003C/li>\n\u003Cli>\u003Cstrong>Easy Setup\u003C/strong>: While both make it easy to initialize a new project, Pepr comes with an out-of-the-box \u003Ccode dir=\"auto\">hello-pepr.ts\u003C/code> example which demonstrates how to use Pepr effectively.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-does-pepr-compare-to-kyverno\">How does Pepr compare to Kyverno?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-does-pepr-compare-to-kyverno\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How does Pepr compare to Kyverno?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Although Pepr and Kyverno have similarities, Pepr is very different than Kyverno. They have very different mission statements. Pepr focuses on making operators as easy as possible. Kyverno focuses on reporting, not building operators.\u003C/p>\n\u003Cp>Similarities:\u003C/p>\n\u003Cul>\n\u003Cli>Both have Mutating Webhooks that can dynamically change resources before admission\u003C/li>\n\u003Cli>Both have Validating Webhooks to configure what can/cannot go through admission\u003C/li>\n\u003Cli>Both provide a way to react to changes to pre-existing cluster resources (i.e., resources that have already gone through admission)\u003C/li>\n\u003C/ul>\n\u003Cp>Differences:\u003C/p>\n\u003Cul>\n\u003Cli>Pepr is more like a “framework” than a tool. In Pepr you create a Pepr \u003Ca href=\"/user-guide/pepr-modules\">Module\u003C/a>. In the Pepr module you define \u003Ca href=\"/user-guide/capabilities\">capabilities\u003C/a> that enforce / apply desired cluster state.\u003C/li>\n\u003Cli>Pepr is written in TypeScript. Kyverno is written in Go.\u003C/li>\n\u003Cli>Pepr provides the flexibility of a full-fledged, strongly typed programming language to decide what decisions to make based on events happening in the cluster. With Kyverno, you are limited to the constraints of YAML.\u003C/li>\n\u003Cli>Pepr can be used to reconcile events in order, similar to Kube-Builder or Operator SDK.\u003C/li>\n\u003Cli>Pepr can apply a CustomResourceDefinition and control cluster state based on that custom resource.\u003C/li>\n\u003C/ul>\n\u003Cp>Both Pepr and Kyverno are great tools. Which one to use for your project depends on your use case.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-do-i-add-custom-labels-to-peprs-kubernetes-manifests\">How do I add custom labels to Pepr’s Kubernetes manifests?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-do-i-add-custom-labels-to-peprs-kubernetes-manifests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How do I add custom labels to Pepr’s Kubernetes manifests?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>During the build process, custom labels can be added the \u003Ccode dir=\"auto\">pepr-system\u003C/code> namespace based on the \u003Ccode dir=\"auto\">package.json\u003C/code>. Checkout the \u003Ca href=\"/user-guide/customization#packagejson-configurations-table\">Customizing with package.json\u003C/a>.\u003C/p>\n\u003Cp>The following example shows how to add custom namespace labels.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"name\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">new-release\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#FFFFFF;--1:#984E4D\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"customLabels\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"namespace\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"istio-injection\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">enabled\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"app.kubernetes.io/name\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">new-release\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#FFFFFF;--1:#984E4D\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x22;pepr&#x22;: {    &#x22;name&#x22;: &#x22;new-release&#x22;,    ...    &#x22;customLabels&#x22;: {      &#x22;namespace&#x22;: {        &#x22;istio-injection&#x22;: &#x22;enabled&#x22;,        &#x22;app.kubernetes.io/name&#x22;: &#x22;new-release&#x22;      }    },    ...  }\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The resulting namespace will be generated after \u003Ccode dir=\"auto\">npx pepr build\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Namespace\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">istio-injection\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">enabled\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">app.kubernetes.io/name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">new-release\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"apiVersion: v1kind: Namespacemetadata:  name: pepr-system  labels:    istio-injection: enabled    app.kubernetes.io/name: new-release\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"my-pepr-version-is-not-the-latest\">My Pepr version is not the latest\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#my-pepr-version-is-not-the-latest\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “My Pepr version is not the latest”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you notice your Pepr version does not correspond to the latest release in GitHub after doing \u003Ccode dir=\"auto\">npx pepr -V\u003C/code>, clearing the NPX cache can often resolve the issue.\u003C/p>\n\u003Cp>Run the cache clearing command\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">clear-npx-cache\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx clear-npx-cache\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If you want to ensure the cache has been cleared, you can check the cache directory. The location of this directory varies based on your operating system and configuration. However, you can generally find it in your system’s home directory under \u003Ccode dir=\"auto\">.npm\u003C/code>.\u003C/p>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>If you are inside of the Pepr Core repo (\u003Ca href=\"https://github.com/defenseunicorns/pepr\">https://github.com/defenseunicorns/pepr\u003C/a>), then it is normal for \u003Ccode dir=\"auto\">npx pepr -V\u003C/code> to return \u003Ccode dir=\"auto\">0.0.0-development\u003C/code>\u003C/p>\u003C/div>\u003C/aside>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"ive-found-a-bug-what-should-i-do\">I’ve found a bug, what should I do?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#ive-found-a-bug-what-should-i-do\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “I’ve found a bug, what should I do?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please report it by opening an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a>. Please include as much information as possible in your bug report, including:\u003C/p>\n\u003Cul>\n\u003Cli>The version of Pepr you are using\u003C/li>\n\u003Cli>The version of Kubernetes you are using\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"ive-found-a-security-issue-what-should-i-do\">I’ve found a security issue, what should I do?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#ive-found-a-security-issue-what-should-i-do\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “I’ve found a security issue, what should I do?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Security issues should be reported privately, via \u003Ca href=\"mailto:pepr@defenseunicorns.com\">email\u003C/a>. You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"i-have-a-feature-request-what-should-i-do\">I have a feature request, what should I do?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#i-have-a-feature-request-what-should-i-do\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “I have a feature request, what should I do?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please let us know by opening an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-do-i-get-help-with-pepr\">How do I get help with Pepr?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-do-i-get-help-with-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How do I get help with Pepr?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you have a question about Pepr, please open an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a> or contact us through the Pepr channel on the Kubernetes Slack.\u003C/p>",{"headings":596,"localImagePaths":645,"remoteImagePaths":646,"frontmatter":647,"imagePaths":648},[597,600,603,606,609,612,615,618,621,624,627,630,633,636,639,642],{"depth":80,"slug":598,"text":599},"what-is-the-pepr_watch_mode-environment-variable","What is the PEPR_WATCH_MODE environment variable?",{"depth":80,"slug":601,"text":602},"difference-between-watch-vs-reconcile-in-pepr","Difference between .Watch() vs. .Reconcile() in Pepr",{"depth":131,"slug":604,"text":605},"why-this-matters","Why This Matters",{"depth":131,"slug":607,"text":608},"how-reconcile-solves-this","How .Reconcile() Solves This",{"depth":131,"slug":610,"text":611},"reconcile-queue-configurations","Reconcile() Queue Configurations",{"depth":131,"slug":613,"text":614},"summary","Summary",{"depth":80,"slug":616,"text":617},"what-is-a-module-author","What is a module author?",{"depth":80,"slug":619,"text":620},"how-do-i-remove-the-punycode-warning","How do I remove the punycode warning?",{"depth":80,"slug":622,"text":623},"how-does-pepr-compare-to-operator-sdk","How does Pepr compare to Operator SDK?",{"depth":80,"slug":625,"text":626},"how-does-pepr-compare-to-kyverno","How does Pepr compare to Kyverno?",{"depth":80,"slug":628,"text":629},"how-do-i-add-custom-labels-to-peprs-kubernetes-manifests","How do I add custom labels to Pepr’s Kubernetes manifests?",{"depth":80,"slug":631,"text":632},"my-pepr-version-is-not-the-latest","My Pepr version is not the latest",{"depth":80,"slug":634,"text":635},"ive-found-a-bug-what-should-i-do","I’ve found a bug, what should I do?",{"depth":80,"slug":637,"text":638},"ive-found-a-security-issue-what-should-i-do","I’ve found a security issue, what should I do?",{"depth":80,"slug":640,"text":641},"i-have-a-feature-request-what-should-i-do","I have a feature request, what should I do?",{"depth":80,"slug":643,"text":644},"how-do-i-get-help-with-pepr","How do I get help with Pepr?",[],[],{"title":586,"description":586},[],"tutorials/create-pepr-module",{"id":649,"data":651,"body":656,"filePath":657,"digest":658,"rendered":659},{"title":652,"description":652,"editUrl":66,"head":653,"template":68,"sidebar":654,"pagefind":66,"draft":70},"Create a Pepr Module",[],{"hidden":70,"attrs":655},{},"## Introduction\n\nThis tutorial will walk you through the process of creating a Pepr module.\n\nEach Pepr Module is it's own Typescript project, produced by [`npx pepr init`](/user-guide/pepr-cli#pepr-init). Typically a module is maintained by a unique group or system. For example, a module for internal [Zarf](https://zarf.dev/) mutations would be different from a module for [Big Bang](https://p1.dso.mil/products/big-bang). An important idea with modules is that they are _wholly independent of one another_. This means that 2 different modules can be on completely different versions of Pepr and any other dependencies; their only interaction is through the standard K8s interfaces like any other webhook or controller.\n\n## Prerequisites\n\n## Steps\n\n1. **Create the module**:\n\n   Use [`npx pepr init`](/user-guide/pepr-cli#pepr-init) to generate a new module.\n\n1. **Quickly validate system setup**:\n\n   Every new module includes a sample Pepr Capability called `HelloPepr`. By default,\n   this capability is deployed and monitoring the `pepr-demo` namespace. There is a sample\n   yaml also included you can use to see Pepr in your cluster. Here's the quick steps to do\n   that after `npx pepr init`:\n\n   ```bash\n   # cd to the newly-created Pepr module folder\n   cd my-module-name\n\n   # If you don't already have a local K8s cluster, you can set one up with k3d\n   npm run k3d-setup\n\n   # Launch pepr dev mode\n   # If using another local K8s distro instead of k3d, use `npx pepr dev --host host.docker.internal`\n   npx pepr dev\n\n   # From another terminal, apply the sample yaml\n   kubectl apply -f capabilities/hello-pepr.samples.yaml\n\n   # Verify the configmaps were transformed using kubectl, k9s or another tool\n   ```\n\n1. **Create your custom Pepr Capabilities**\n\n   Now that you have confirmed Pepr is working, you can now create new [capabilities](/user-guide/capabilities). You'll also want to disable the `HelloPepr` capability in your module (`pepr.ts`) before pushing to production. You can disable by commenting out or deleting the `HelloPepr` variable below:\n\n   ```typescript\n   new PeprModule(cfg, [\n     // Remove or comment the line below to disable the HelloPepr capability\n     HelloPepr,\n\n     // Your additional capabilities go here\n   ]);\n   ```\n\n   _Note: if you also delete the `capabilities/hello-pepr.ts` file, it will be added again on the next [`npx pepr update`](/user-guide/pepr-cli#pepr-update) so you have the latest examples usages from the Pepr SDK. Therefore, it is sufficient to remove the entry from your `pepr.ts` module\n   config._\n\n1. **Build and deploy the Pepr Module**\n\n   Most of the time, you'll likely be iterating on a module with `npx pepr dev` for real-time feedback and validation Once you are ready to move beyond the local dev environment, Pepr provides deployment and build tools you can use.\n\n   `npx pepr deploy` - you can use this command to build your module and deploy it into any K8s cluster your current `kubecontext` has access to. This setup is ideal for CI systems during testing, but is not recommended for production use. See [`npx pepr deploy`](/user-guide/pepr-cli#pepr-deploy) for more info.\n\n## Additional Information\n\nBy default, when you run `npx pepr init`, the module is not configured with any additional options. Currently, there are 3 options you can configure:\n\n- `deferStart` - if set to `true`, the module will not start automatically. You will need to call `start()` manually. This is useful if you want to do some additional setup before the module controller starts. You can also use this to change the default port that the controller listens on.\n\n- `beforeHook` - an optional callback that will be called before every request is processed. This is useful if you want to do some additional logging or validation before the request is processed.\n\n- `afterHook` - an optional callback that will be called after every request is processed. This is useful if you want to do some additional logging or validation after the request is processed.\n\nYou can configure each of these by modifying the `pepr.ts` file in your module. Here's an example of how you would configure each of these options:\n\n```typescript\nconst module = new PeprModule(\n  cfg,\n  [\n    // Your capabilities go here\n  ],\n  {\n    deferStart: true,\n\n    beforeHook: req => {\n      // Any actions you want to perform before the request is processed, including modifying the request.\n    },\n\n    afterHook: res => {\n      // Any actions you want to perform after the request is processed, including modifying the response.\n    },\n  }\n);\n\n// Do any additional setup before starting the controller\nmodule.start();\n```\n\n## Summary\n\nCheckout some examples of Pepr modules in the [excellent examples repo](https://github.com/defenseunicorns/pepr-excellent-examples). If you have questions after that, please reach out to us on [Slack](https://kubernetes.slack.com/archives/C06DGH40UCB) or [GitHub Issues](https://github.com/defenseunicorns/pepr/issues)","src/content/docs/tutorials/create-pepr-module.md","546c4d5a8e3322ad",{"html":660,"metadata":661},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial will walk you through the process of creating a Pepr module.\u003C/p>\n\u003Cp>Each Pepr Module is it’s own Typescript project, produced by \u003Ca href=\"/user-guide/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>. Typically a module is maintained by a unique group or system. For example, a module for internal \u003Ca href=\"https://zarf.dev/\">Zarf\u003C/a> mutations would be different from a module for \u003Ca href=\"https://p1.dso.mil/products/big-bang\">Big Bang\u003C/a>. An important idea with modules is that they are \u003Cem>wholly independent of one another\u003C/em>. This means that 2 different modules can be on completely different versions of Pepr and any other dependencies; their only interaction is through the standard K8s interfaces like any other webhook or controller.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prerequisites\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prerequisites”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"steps\">Steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Create the module\u003C/strong>:\u003C/p>\n\u003Cp>Use \u003Ca href=\"/user-guide/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a> to generate a new module.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Quickly validate system setup\u003C/strong>:\u003C/p>\n\u003Cp>Every new module includes a sample Pepr Capability called \u003Ccode dir=\"auto\">HelloPepr\u003C/code>. By default,\nthis capability is deployed and monitoring the \u003Ccode dir=\"auto\">pepr-demo\u003C/code> namespace. There is a sample\nyaml also included you can use to see Pepr in your cluster. Here’s the quick steps to do\nthat after \u003Ccode dir=\"auto\">npx pepr init\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># cd to the newly-created Pepr module folder\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">cd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">my-module-name\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If you don't already have a local K8s cluster, you can set one up with k3d\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">k3d-setup\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Launch pepr dev mode\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If using another local K8s distro instead of k3d, use `npx pepr dev --host host.docker.internal`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># From another terminal, apply the sample yaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/hello-pepr.samples.yaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Verify the configmaps were transformed using kubectl, k9s or another tool\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"cd my-module-namenpm run k3d-setupnpx pepr devkubectl apply -f capabilities/hello-pepr.samples.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Create your custom Pepr Capabilities\u003C/strong>\u003C/p>\n\u003Cp>Now that you have confirmed Pepr is working, you can now create new \u003Ca href=\"/user-guide/capabilities\">capabilities\u003C/a>. You’ll also want to disable the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability in your module (\u003Ccode dir=\"auto\">pepr.ts\u003C/code>) before pushing to production. You can disable by commenting out or deleting the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> variable below:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PeprModule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cfg, [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Remove or comment the line below to disable the HelloPepr capability\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">HelloPepr,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Your additional capabilities go here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"new PeprModule(cfg, [  // Remove or comment the line below to disable the HelloPepr capability  HelloPepr,  // Your additional capabilities go here]);\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cem>Note: if you also delete the \u003Ccode dir=\"auto\">capabilities/hello-pepr.ts\u003C/code> file, it will be added again on the next \u003Ca href=\"/user-guide/pepr-cli#pepr-update\">\u003Ccode dir=\"auto\">npx pepr update\u003C/code>\u003C/a> so you have the latest examples usages from the Pepr SDK. Therefore, it is sufficient to remove the entry from your \u003Ccode dir=\"auto\">pepr.ts\u003C/code> module\nconfig.\u003C/em>\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Build and deploy the Pepr Module\u003C/strong>\u003C/p>\n\u003Cp>Most of the time, you’ll likely be iterating on a module with \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> for real-time feedback and validation Once you are ready to move beyond the local dev environment, Pepr provides deployment and build tools you can use.\u003C/p>\n\u003Cp>\u003Ccode dir=\"auto\">npx pepr deploy\u003C/code> - you can use this command to build your module and deploy it into any K8s cluster your current \u003Ccode dir=\"auto\">kubecontext\u003C/code> has access to. This setup is ideal for CI systems during testing, but is not recommended for production use. See \u003Ca href=\"/user-guide/pepr-cli#pepr-deploy\">\u003Ccode dir=\"auto\">npx pepr deploy\u003C/code>\u003C/a> for more info.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"additional-information\">Additional Information\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#additional-information\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Additional Information”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By default, when you run \u003Ccode dir=\"auto\">npx pepr init\u003C/code>, the module is not configured with any additional options. Currently, there are 3 options you can configure:\u003C/p>\n\u003Cul>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">deferStart\u003C/code> - if set to \u003Ccode dir=\"auto\">true\u003C/code>, the module will not start automatically. You will need to call \u003Ccode dir=\"auto\">start()\u003C/code> manually. This is useful if you want to do some additional setup before the module controller starts. You can also use this to change the default port that the controller listens on.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">beforeHook\u003C/code> - an optional callback that will be called before every request is processed. This is useful if you want to do some additional logging or validation before the request is processed.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">afterHook\u003C/code> - an optional callback that will be called after every request is processed. This is useful if you want to do some additional logging or validation after the request is processed.\u003C/p>\n\u003C/li>\n\u003C/ul>\n\u003Cp>You can configure each of these by modifying the \u003Ccode dir=\"auto\">pepr.ts\u003C/code> file in your module. Here’s an example of how you would configure each of these options:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">module\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PeprModule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">cfg\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Your capabilities go here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">deferStart: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">beforeHook\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">: \u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> => {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Any actions you want to perform before the request is processed, including modifying the request.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">afterHook\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">: \u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">res\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> => {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Any actions you want to perform after the request is processed, including modifying the response.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Do any additional setup before starting the controller\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">module\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">start\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const module = new PeprModule(  cfg,  [    // Your capabilities go here  ],  {    deferStart: true,    beforeHook: req => {      // Any actions you want to perform before the request is processed, including modifying the request.    },    afterHook: res => {      // Any actions you want to perform after the request is processed, including modifying the response.    },  });// Do any additional setup before starting the controllermodule.start();\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"summary\">Summary\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#summary\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Summary”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Checkout some examples of Pepr modules in the \u003Ca href=\"https://github.com/defenseunicorns/pepr-excellent-examples\">excellent examples repo\u003C/a>. If you have questions after that, please reach out to us on \u003Ca href=\"https://kubernetes.slack.com/archives/C06DGH40UCB\">Slack\u003C/a> or \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">GitHub Issues\u003C/a>\u003C/p>",{"headings":662,"localImagePaths":672,"remoteImagePaths":673,"frontmatter":674,"imagePaths":675},[663,664,665,668,671],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":666,"text":667},"steps","Steps",{"depth":80,"slug":669,"text":670},"additional-information","Additional Information",{"depth":80,"slug":613,"text":614},[],[],{"title":652,"description":652},[],"reference/best-practices",{"id":676,"data":678,"body":683,"filePath":684,"digest":685,"rendered":686},{"title":679,"description":679,"editUrl":66,"head":680,"template":68,"sidebar":681,"pagefind":66,"draft":70},"Pepr Best Practices",[],{"hidden":70,"attrs":682},{},"## Table of Contents\n\n- [Pepr Best Practices](#pepr-best-practices)\n  - [High Availability](#high-availability)\n  - [Table of Contents](#table-of-contents)\n  - [Mutating Webhook Errors](#mutating-webhook-errors)\n  - [Core Development](#core-development)\n  - [Debugging](#debugging)\n  - [Deployment](#deployment)\n  - [Keep Modules Small](#keep-modules-small)\n  - [Monitoring](#monitoring)\n  - [Multiple Modules or Multiple Capabilities](#multiple-modules-or-multiple-capabilities)\n  - [OnSchedule](#onschedule)\n  - [Reconcile](#reconcile)\n  - [Security](#security)\n  - [Pepr Store](#pepr-store)\n  - [Watch](#watch)\n\n## High Availability\n\nPepr is designed to be deployed in a high availability (HA) configuration. This means that you can run multiple instances of the Pepr Admission Controller in different availability zones or regions to ensure that your Pepr deployment is resilient to failures. By default, the Admission Controller is deployed with two replicas.\n\nFor modules that have a failurePolicy of `Fail`, it is recommended to opt into `podAntiAffinity` in the helm chart by setting `admission.antiAffinity` to true in the values.yaml of the helm chart generated after running `npx pepr build`. This ensures the pods are scheduled on different nodes, providing better fault tolerance for when nodes are unavailable. Modules running on edge devices or single node environments should keep `admission.antiAffinity` set to false to avoid scheduling issues.\n\n```yaml\nadmission:\n  antiAffinity: true\n```\n\nDue to the nature of having two different instances of the Admission Controller, it is important to ensure that the modules are idempotent and do not store ephemeral data since there is no guarantee which replica will serve the request. When state must be saved, use the [`PeprStore`](/user-guide/store).\n\n## Mutating Webhook Errors\n\nWhen developing mutating admission policies, it is essential to include a validation step immediately after applying mutations. This ensures that the changes made by the mutating admission policy were applied correctly and do not introduce unintended inconsistencies or invalid configurations into your Kubernetes cluster.\n\n### Why Validate After Mutating?\n\n1. Detect Misconfigurations Early:\nMutating admission policies modify incoming resource configurations dynamically. Without validation, you risk introducing invalid configurations into your cluster if the mutation logic contains bugs, unintended side effects, or runs too long and causes a [Webhook Timeout](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts).\n1. Maintain Cluster Integrity:\nBy validating the mutated resource, you ensure it adheres to expected formats, standards, and constraints, maintaining the health and stability of your cluster.\n1. Catch Logic Errors in Mutations:\nA mutation may not always produce the intended output due to edge cases, unexpected inputs, or incorrect assumptions in the mutation logic.\n\nValidation helps catch such issues early and becomes _particularly_ important if your Module is [configured](user-guide/customization/#admission-and-watcher-subparameters) to use a Webhook [failurePolicy](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#failure-policy) of `ignore`. In that case, admission requests failures _won't prevent further processing and/or acceptance_ of mutate-failed requests and could result in undesirable resources getting into your cluster!\n\n1. Comply with Kubernetes Best Practices:\nKubernetes resources must meet specific structural and functional requirements. Validating ensures compliance, preventing the risk of deployment failures or runtime errors.\n\n### How to implement a Validate-After-Mutate Pattern\n\n1. Apply the desired transformations to the resource in the `Mutate` block.\n2. Validate the mutated resource in the `Validate` block to ensure it adheres to the expected structure.\n3. If the validation fails, reject the resource with a descriptive message explaining the issue.\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(po => po.SetLabel(\"pepr\", \"true\"))\n  .Validate(po => {\n    if (po.Raw.metadata?.labels[\"pepr\"] !== \"true\") {\n      return po.Approve();\n    }\n    return po.Deny(\"Needs pepr label set to true\")\n  });\n```\n\n## Core Development\n\nWhen developing new features in Pepr Core, it is recommended to use `npx pepr deploy --image pepr:dev`, which will deploy Pepr's Kubernetes manifests to the cluster with the development image. This will allow you to test your changes without having to build a new image and push it to a registry.\n\nThe workflow for developing features in Pepr is:\n\n1. Run `npm test` which will create a k3d cluster and build a development image called `pepr:dev`\n2. Deploy development image into the cluster with `npx pepr deploy --image pepr:dev`\n\n## Debugging\n\n- [Debugging During Module Development](/reference/best-practices/#debugging-during-module-development)\n- [Logging](/reference/best-practices/#logging)\n- [Internal Error Occurred](/reference/best-practices/#internal-error-occurred)\n- [Pepr Store](/reference/best-practices/#pepr-store)\n\nPepr is composed of `Modules`, `Capabilities`, and `Actions`:\n\n- [Actions](/actions/) are the blocks of code containing filters, `Mutate`, `Validate`, `Watch`, `Reconcile`, and `OnSchedule`.\n- [Capabilities](/user-guide/capabilities/) such as `hello-pepr.ts`.\n- `Modules` are the result of `npx pepr init`. You can have as many Capabilities as you would like in a Module.\n\nPepr is a webhook-based system, meaning it is event-driven.\nWhen a resource is created, updated, or deleted, Pepr is called to perform the actions you have defined in your Capabilities.\nIt's common for multiple webhooks to exist in a cluster, not just Pepr.\nWhen there are multiple webhooks, the order in which they are called is not guaranteed.\nThe only guarantee is that all of the `MutatingWebhooks` will be called before all of the `ValidatingWebhooks`.\nAfter the admission webhooks are called, the `Watch` and `Reconcile` are called.\nThe `Reconcile` and `Watch` create a watch on the resources specified in the `When` block and are watched for changes after admission.\nThe difference between reconcile and watch is that `Reconcile` processes events in a queue to guarantee that the events are processed in order where as watch does not.\n\nConsidering that many webhooks may be modifying the same resource, it is best practice to validate the resource after mutations are made to ensure that the resource is in a valid state if it has been changed since the last mutation.\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(pod => {\n    pod.metadata.labels[\"pepr\"] = \"true\";\n    return pod;\n  })\n  // another mutating webhook could removed labels\n  .Validate(pod => {\n    if (pod.metadata.labels[\"pepr\"] !== \"true\") {\n      return pod.Approve(\"Label 'pepr' must be 'true'\");\n    }\n    return pod.Deny(\"Needs pepr label set to true\")\n  });\n```\n\n_If you think your Webhook is not being called for a given resource, check the `*WebhookConfiguration`._\n\n### Debugging During Module Development\n\nPepr supports breakpoints in the VSCode editor. To use breakpoints, run `npx pepr dev` in the root of a Pepr module using a JavaScript Debug Terminal. This command starts the Pepr development server running at `localhost:3000` with the `*WebhookConfiguration` configured to send `AdmissionRequest` objects to the local address.\n\nThis allows you to set breakpoints in `Mutate()`, `Validate()`, `Reconcile()`, `Watch()` or `OnSchedule()` and step through module code.\n\nNote that you will need a cluster running:\n\n```bash\nk3d cluster create pepr-dev --k3s-arg '--debug@server:0' --wait\n```\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(pod => {\n    // Set a breakpoint here\n    pod.metadata.labels[\"pepr\"] = \"true\";\n    return pod;\n  })\n  .Validate(pod => {\n    // Set a breakpoint here\n    if (pod.metadata.labels[\"pepr\"] !== \"true\") {\n      return [\"Label 'pepr' must be 'true'\"];\n    }\n  });\n```\n\n### Logging\n\nPepr can deploy two types of controllers: Admission and Watch. The controllers deployed are dictated by the [Actions](/actions/) called for by a given set of Capabilities (Pepr only deploys what is necessary). Within those controllers, the default log level is `info` but that can be changed to `debug` by setting the `LOG_LEVEL` environment variable to `debug`.\n\nTo pull logs for all controller pods:\n\n```bash\nkubectl logs -l app -n pepr-system\n```\n\n#### Admission Controller\n\nIf the focus of the debug is on a `Mutate()` or `Validate()`, the relevant logs will be from pods with label `pepr.dev/controller: admission`.\n\n```bash\nkubectl logs -l pepr.dev/controller=admission -n pepr-system\n```\n\nMore refined admission logs -- which can be optionally filtered by the module UUID -- can be obtained with [`npx pepr monitor`](/reference/best-practices/#monitoring)\n\n```bash\nnpx pepr monitor \n```\n\n#### Watch Controller\n\nIf the focus of the debug is a `Watch()`, `Reconcile()`, or `OnSchedule()`, look for logs from pods containing label `pepr.dev/controller: watcher`.\n\n```bash\nkubectl logs -l pepr.dev/controller=watcher -n pepr-system\n```\n\n### Internal Error Occurred\n\n```bash\nError from server (InternalError): Internal error occurred: failed calling webhook \"\u003Cpepr_module>pepr.dev\": failed to call webhook: Post ...\n```\n\nWhen an internal error occurs, check the deployed `*WebhookConfiguration` resources' timeout and failurePolicy configurations. If the failurePolicy is set to `Fail`, and a request cannot be processed within the timeout, that request will be rejected. If the failurePolicy is set to `Ignore`, given the same timeout conditions, the request will (perhaps surprisingly) be allowed to continue.\n\nIf you have a validating webhook, the recommended is to set the failurePolicy to `Fail` to ensure that the request is rejected if the webhook fails.\n\n```yaml\n    failurePolicy: Fail\n    matchPolicy: Equivalent\n    timeoutSeconds: 3\n```\n\nThe failurePolicy and timeouts can be set in the Module's `package.json` file, under the `pepr` configuration key.  If changed, the settings will be reflected in the `*WebhookConfiguration` after the next build:\n\n```json\n  \"pepr\": {\n    \"uuid\": \"static-test\",\n    \"onError\": \"ignore\", \n    \"webhookTimeout\": 10,\n  }\n```\n\nRead [more on customization](/user-guide/customization/).\n\n### Pepr Store Custom Resource\n\nIf you need to read all store keys, or you think the PeprStore is malfunctioning, you can check the PeprStore CR:\n\n```bash\nkubectl get peprstore  -n pepr-system -o yaml\n```\n\nYou should run in `npx pepr dev` mode to debug the issue, see the [Debugging During Module Development](/reference/best-practices/#debugging-during-module-development) section for more information.\n\n## Deployment\n\nProduction environment deployments should be `declarative` in order to avoid mistakes. The Pepr modules should be generated with `npx pepr build` and moved into the appropriate location.\n\nDevelopment environment deployments can use `npx pepr deploy` to deploy Pepr's Kubernetes manifests into the cluster or `npx pepr dev` to active debug the Pepr module with breakpoints in the code editor.\n\n## Keep Modules Small\n\nModules are minified and built JavaScript files that are stored in a Kubernetes Secret in the cluster. The Secret is mounted in the Pepr Pod and is processed by Pepr Core. Due to the nature of the module being packaged in a Secret, it is recommended to keep the modules as small as possible to avoid hitting the [1MB limit](https://kubernetes.io/docs/concepts/configuration/secret/#restriction-data-size) of secrets.\n\nRecommendations for keeping modules small are:\n\n- Don't repeat yourself\n- Only import the part of the library modules that you need\n\nIt is suggested to lint and format your modules using `npx pepr format`.\n\n## Monitoring\n\nPepr can monitor Mutations and Validations from Admission Controller the through the `npx pepr monitor [module-uuid]` command. This command will display neatly formatted log showing approved and rejected Validations as well as the Mutations.  If `[module-uuid]` is not supplied, then it uses all Pepr admission controller logs as the data source. If you are unsure of what modules are currently deployed, issue `npx pepr uuid` to display the modules and their descriptions.\n\n```plaintext\n✅  MUTATE     pepr-demo/pepr-demo (50c5d836-335e-4aa5-8b56-adecb72d4b17)\n\n✅  VALIDATE   pepr-demo/example-2 (01c1d044-3a33-4160-beb9-01349e5d7fea)\n\n❌  VALIDATE   pepr-demo/example-evil-cm (8ee44ca8-845c-4845-aa05-642a696b51ce)\n[ 'No evil CM annotations allowed.' ]\n```\n\n## Multiple Modules or Multiple Capabilities\n\nEach module has it's own Mutating, Validating webhook configurations, Admission and Watch Controllers and Stores. This allows for each module to be deployed independently of each other. However, creating multiple modules creates overhead on the kube-apiserver, and the cluster.\n\nDue to the overhead costs, it is recommended to deploy multiple capabilities that share the same resources (when possible). This will simplify analysis of which capabilities are responsible for changes on resources.\n\nHowever, there are some cases where multiple modules makes sense. For instance different teams owning separate modules, or one module for Validations and another for Mutations. If you have a use-case where you need to deploy multiple modules it is recommended to separate concerns by operating in different namespaces.\n\n## OnSchedule\n\n`OnSchedule` is supported by a `PeprStore` to safeguard against schedule loss following a pod restart. It is utilized at the top level, distinct from being within a `Validate`, `Mutate`, `Reconcile` or `Watch`. Recommended intervals are 30 seconds or longer, and jobs are advised to be idempotent, meaning that if the code is applied or executed multiple times, the outcome should be the same as if it had been executed only once. A major use-case for `OnSchedule` is day 2 operations.\n\n## Security\n\nTo enhance the security of your Pepr Controller, we recommend following these best practices:\n\n- Regularly update Pepr to the latest stable release.\n- Secure Pepr through RBAC using [scoped mode](/user-guide/rbac/#scoped) taking into account access to the Kubernetes API server needed in the callbacks.\n- Practice the principle of least privilege when assigning roles and permissions and avoid giving the service account more permissions than necessary.\n- Use NetworkPolicy to restrict traffic from Pepr Controllers to the minimum required.\n- Limit calls from Pepr to the Kubernetes API server to the minimum required.\n- Set webhook failure policies to `Fail` to ensure that the request is rejected if the webhook fails. More Below..\n\nWhen using Pepr as a `Validating` Webhook, it is recommended to set the Webhook's `failurePolicy` to `Fail`. This can be done in your Pepr module in the`values.yaml` file of the helm chart by setting `admission.failurePolicy` to `Fail` or in the `package.json` under `pepr` by setting the `onError` flag to `reject`, then running `npx pepr build` again.\n\nBy following these best practices, you can help protect your Pepr Controller from potential security threats.\n\n## Reconcile\n\nFills a similar niche to `.Watch()` -- and runs in the Watch Controller -- but it employs a Queue to force sequential processing of resource states once they are returned by the Kubernetes API. This allows things like operators to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource. For example, creating and then deleting a resource should be processed in that exact order to avoid state inconsistencies.\n\n```typescript\nWhen(WebApp)\n  .IsCreatedOrUpdated()\n  .Validate(validator)\n  .Reconcile(async instance => {\n     // Do work here\n```\n\n## Pepr Store\n\nThe store is backed by ETCD in a `PeprStore` resource, and updates happen at 5-second intervals when an array of patches is sent to the Kubernetes API Server. The store is intentionally not designed to be `transactional`; instead, it is built to be eventually consistent, meaning that the last operation within the interval will be persisted, potentially overwriting other operations. Changes to the data are made without a guarantee that they will occur simultaneously, so caution is needed in managing errors and ensuring consistency.\n\n## Watch\n\nPepr streamlines the process of receiving timely change notifications on resources by employing the `Watch` mechanism. It is advisable to opt for `Watch` over `Mutate` or `Validate` when dealing with more extended operations, as `Watch` does not face any [timeout limitations](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts). Additionally, `Watch` proves particularly advantageous for monitoring previously existing resources within a cluster. One compelling scenario for leveraging `Watch` is when there is a need to chain API calls together, allowing `Watch` operations to be sequentially executed following `Mutate` and `Validate` actions.\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(pod => // .... )\n  .Validate(pod => // .... )\n  .Watch(async (pod, phase) => {\n    Log.info({pod}, `Pod was ${phase}.`);\n\n    // do consecutive api calls\n```","src/content/docs/reference/best-practices.md","c95078bf62cd34a5",{"html":687,"metadata":688},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"table-of-contents\">Table of Contents\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#table-of-contents\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Table of Contents”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#pepr-best-practices\">Pepr Best Practices\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#high-availability\">High Availability\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#table-of-contents\">Table of Contents\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#mutating-webhook-errors\">Mutating Webhook Errors\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#core-development\">Core Development\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#debugging\">Debugging\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#deployment\">Deployment\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#keep-modules-small\">Keep Modules Small\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#monitoring\">Monitoring\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#multiple-modules-or-multiple-capabilities\">Multiple Modules or Multiple Capabilities\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#onschedule\">OnSchedule\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#reconcile\">Reconcile\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#security\">Security\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#pepr-store\">Pepr Store\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#watch\">Watch\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"high-availability\">High Availability\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#high-availability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “High Availability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr is designed to be deployed in a high availability (HA) configuration. This means that you can run multiple instances of the Pepr Admission Controller in different availability zones or regions to ensure that your Pepr deployment is resilient to failures. By default, the Admission Controller is deployed with two replicas.\u003C/p>\n\u003Cp>For modules that have a failurePolicy of \u003Ccode dir=\"auto\">Fail\u003C/code>, it is recommended to opt into \u003Ccode dir=\"auto\">podAntiAffinity\u003C/code> in the helm chart by setting \u003Ccode dir=\"auto\">admission.antiAffinity\u003C/code> to true in the values.yaml of the helm chart generated after running \u003Ccode dir=\"auto\">npx pepr build\u003C/code>. This ensures the pods are scheduled on different nodes, providing better fault tolerance for when nodes are unavailable. Modules running on edge devices or single node environments should keep \u003Ccode dir=\"auto\">admission.antiAffinity\u003C/code> set to false to avoid scheduling issues.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">admission\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">antiAffinity\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"admission:  antiAffinity: true\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Due to the nature of having two different instances of the Admission Controller, it is important to ensure that the modules are idempotent and do not store ephemeral data since there is no guarantee which replica will serve the request. When state must be saved, use the \u003Ca href=\"/user-guide/store\">\u003Ccode dir=\"auto\">PeprStore\u003C/code>\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"mutating-webhook-errors\">Mutating Webhook Errors\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#mutating-webhook-errors\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Mutating Webhook Errors”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>When developing mutating admission policies, it is essential to include a validation step immediately after applying mutations. This ensures that the changes made by the mutating admission policy were applied correctly and do not introduce unintended inconsistencies or invalid configurations into your Kubernetes cluster.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"why-validate-after-mutating\">Why Validate After Mutating?\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#why-validate-after-mutating\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Why Validate After Mutating?”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Detect Misconfigurations Early:\nMutating admission policies modify incoming resource configurations dynamically. Without validation, you risk introducing invalid configurations into your cluster if the mutation logic contains bugs, unintended side effects, or runs too long and causes a \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">Webhook Timeout\u003C/a>.\u003C/li>\n\u003Cli>Maintain Cluster Integrity:\nBy validating the mutated resource, you ensure it adheres to expected formats, standards, and constraints, maintaining the health and stability of your cluster.\u003C/li>\n\u003Cli>Catch Logic Errors in Mutations:\nA mutation may not always produce the intended output due to edge cases, unexpected inputs, or incorrect assumptions in the mutation logic.\u003C/li>\n\u003C/ol>\n\u003Cp>Validation helps catch such issues early and becomes \u003Cem>particularly\u003C/em> important if your Module is \u003Ca href=\"user-guide/customization/#admission-and-watcher-subparameters\">configured\u003C/a> to use a Webhook \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#failure-policy\">failurePolicy\u003C/a> of \u003Ccode dir=\"auto\">ignore\u003C/code>. In that case, admission requests failures \u003Cem>won’t prevent further processing and/or acceptance\u003C/em> of mutate-failed requests and could result in undesirable resources getting into your cluster!\u003C/p>\n\u003Col>\n\u003Cli>Comply with Kubernetes Best Practices:\nKubernetes resources must meet specific structural and functional requirements. Validating ensures compliance, preventing the risk of deployment failures or runtime errors.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"how-to-implement-a-validate-after-mutate-pattern\">How to implement a Validate-After-Mutate Pattern\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#how-to-implement-a-validate-after-mutate-pattern\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How to implement a Validate-After-Mutate Pattern”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Apply the desired transformations to the resource in the \u003Ccode dir=\"auto\">Mutate\u003C/code> block.\u003C/li>\n\u003Cli>Validate the mutated resource in the \u003Ccode dir=\"auto\">Validate\u003C/code> block to ensure it adheres to the expected structure.\u003C/li>\n\u003Cli>If the validation fails, reject the resource with a descriptive message explaining the issue.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">))\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Needs pepr label set to true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(po => po.SetLabel(&#x22;pepr&#x22;, &#x22;true&#x22;))  .Validate(po => {    if (po.Raw.metadata?.labels[&#x22;pepr&#x22;] !== &#x22;true&#x22;) {      return po.Approve();    }    return po.Deny(&#x22;Needs pepr label set to true&#x22;)  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"core-development\">Core Development\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#core-development\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Core Development”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>When developing new features in Pepr Core, it is recommended to use \u003Ccode dir=\"auto\">npx pepr deploy --image pepr:dev\u003C/code>, which will deploy Pepr’s Kubernetes manifests to the cluster with the development image. This will allow you to test your changes without having to build a new image and push it to a registry.\u003C/p>\n\u003Cp>The workflow for developing features in Pepr is:\u003C/p>\n\u003Col>\n\u003Cli>Run \u003Ccode dir=\"auto\">npm test\u003C/code> which will create a k3d cluster and build a development image called \u003Ccode dir=\"auto\">pepr:dev\u003C/code>\u003C/li>\n\u003Cli>Deploy development image into the cluster with \u003Ccode dir=\"auto\">npx pepr deploy --image pepr:dev\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"debugging\">Debugging\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#debugging\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Debugging”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/reference/best-practices/#debugging-during-module-development\">Debugging During Module Development\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/reference/best-practices/#logging\">Logging\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/reference/best-practices/#internal-error-occurred\">Internal Error Occurred\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"/reference/best-practices/#pepr-store\">Pepr Store\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>Pepr is composed of \u003Ccode dir=\"auto\">Modules\u003C/code>, \u003Ccode dir=\"auto\">Capabilities\u003C/code>, and \u003Ccode dir=\"auto\">Actions\u003C/code>:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"/actions/\">Actions\u003C/a> are the blocks of code containing filters, \u003Ccode dir=\"auto\">Mutate\u003C/code>, \u003Ccode dir=\"auto\">Validate\u003C/code>, \u003Ccode dir=\"auto\">Watch\u003C/code>, \u003Ccode dir=\"auto\">Reconcile\u003C/code>, and \u003Ccode dir=\"auto\">OnSchedule\u003C/code>.\u003C/li>\n\u003Cli>\u003Ca href=\"/user-guide/capabilities/\">Capabilities\u003C/a> such as \u003Ccode dir=\"auto\">hello-pepr.ts\u003C/code>.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">Modules\u003C/code> are the result of \u003Ccode dir=\"auto\">npx pepr init\u003C/code>. You can have as many Capabilities as you would like in a Module.\u003C/li>\n\u003C/ul>\n\u003Cp>Pepr is a webhook-based system, meaning it is event-driven.\nWhen a resource is created, updated, or deleted, Pepr is called to perform the actions you have defined in your Capabilities.\nIt’s common for multiple webhooks to exist in a cluster, not just Pepr.\nWhen there are multiple webhooks, the order in which they are called is not guaranteed.\nThe only guarantee is that all of the \u003Ccode dir=\"auto\">MutatingWebhooks\u003C/code> will be called before all of the \u003Ccode dir=\"auto\">ValidatingWebhooks\u003C/code>.\nAfter the admission webhooks are called, the \u003Ccode dir=\"auto\">Watch\u003C/code> and \u003Ccode dir=\"auto\">Reconcile\u003C/code> are called.\nThe \u003Ccode dir=\"auto\">Reconcile\u003C/code> and \u003Ccode dir=\"auto\">Watch\u003C/code> create a watch on the resources specified in the \u003Ccode dir=\"auto\">When\u003C/code> block and are watched for changes after admission.\nThe difference between reconcile and watch is that \u003Ccode dir=\"auto\">Reconcile\u003C/code> processes events in a queue to guarantee that the events are processed in order where as watch does not.\u003C/p>\n\u003Cp>Considering that many webhooks may be modifying the same resource, it is best practice to validate the resource after mutations are made to ensure that the resource is in a valid state if it has been changed since the last mutation.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// another mutating webhook could removed labels\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Label 'pepr' must be 'true'\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Needs pepr label set to true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(pod => {    pod.metadata.labels[&#x22;pepr&#x22;] = &#x22;true&#x22;;    return pod;  })  // another mutating webhook could removed labels  .Validate(pod => {    if (pod.metadata.labels[&#x22;pepr&#x22;] !== &#x22;true&#x22;) {      return pod.Approve(&#x22;Label &#x27;pepr&#x27; must be &#x27;true&#x27;&#x22;);    }    return pod.Deny(&#x22;Needs pepr label set to true&#x22;)  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cem>If you think your Webhook is not being called for a given resource, check the \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code>.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"debugging-during-module-development\">Debugging During Module Development\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#debugging-during-module-development\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Debugging During Module Development”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr supports breakpoints in the VSCode editor. To use breakpoints, run \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> in the root of a Pepr module using a JavaScript Debug Terminal. This command starts the Pepr development server running at \u003Ccode dir=\"auto\">localhost:3000\u003C/code> with the \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code> configured to send \u003Ccode dir=\"auto\">AdmissionRequest\u003C/code> objects to the local address.\u003C/p>\n\u003Cp>This allows you to set breakpoints in \u003Ccode dir=\"auto\">Mutate()\u003C/code>, \u003Ccode dir=\"auto\">Validate()\u003C/code>, \u003Ccode dir=\"auto\">Reconcile()\u003C/code>, \u003Ccode dir=\"auto\">Watch()\u003C/code> or \u003Ccode dir=\"auto\">OnSchedule()\u003C/code> and step through module code.\u003C/p>\n\u003Cp>Note that you will need a cluster running:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--k3s-arg\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--debug@server:0\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--wait\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster create pepr-dev --k3s-arg &#x27;--debug@server:0&#x27; --wait\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set a breakpoint here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set a breakpoint here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Label 'pepr' must be 'true'\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(pod => {    // Set a breakpoint here    pod.metadata.labels[&#x22;pepr&#x22;] = &#x22;true&#x22;;    return pod;  })  .Validate(pod => {    // Set a breakpoint here    if (pod.metadata.labels[&#x22;pepr&#x22;] !== &#x22;true&#x22;) {      return [&#x22;Label &#x27;pepr&#x27; must be &#x27;true&#x27;&#x22;];    }  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"logging\">Logging\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#logging\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Logging”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr can deploy two types of controllers: Admission and Watch. The controllers deployed are dictated by the \u003Ca href=\"/actions/\">Actions\u003C/a> called for by a given set of Capabilities (Pepr only deploys what is necessary). Within those controllers, the default log level is \u003Ccode dir=\"auto\">info\u003C/code> but that can be changed to \u003Ccode dir=\"auto\">debug\u003C/code> by setting the \u003Ccode dir=\"auto\">LOG_LEVEL\u003C/code> environment variable to \u003Ccode dir=\"auto\">debug\u003C/code>.\u003C/p>\n\u003Cp>To pull logs for all controller pods:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -l app -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"admission-controller\">Admission Controller\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#admission-controller\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Admission Controller”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If the focus of the debug is on a \u003Ccode dir=\"auto\">Mutate()\u003C/code> or \u003Ccode dir=\"auto\">Validate()\u003C/code>, the relevant logs will be from pods with label \u003Ccode dir=\"auto\">pepr.dev/controller: admission\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.dev/controller=admission\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -l pepr.dev/controller=admission -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>More refined admission logs — which can be optionally filtered by the module UUID — can be obtained with \u003Ca href=\"/reference/best-practices/#monitoring\">\u003Ccode dir=\"auto\">npx pepr monitor\u003C/code>\u003C/a>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitor\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr monitor\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"watch-controller\">Watch Controller\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#watch-controller\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Watch Controller”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If the focus of the debug is a \u003Ccode dir=\"auto\">Watch()\u003C/code>, \u003Ccode dir=\"auto\">Reconcile()\u003C/code>, or \u003Ccode dir=\"auto\">OnSchedule()\u003C/code>, look for logs from pods containing label \u003Ccode dir=\"auto\">pepr.dev/controller: watcher\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.dev/controller=watcher\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -l pepr.dev/controller=watcher -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"internal-error-occurred\">Internal Error Occurred\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#internal-error-occurred\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Internal Error Occurred”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">server\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (InternalError): Internal error occurred: failed calling webhook \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">&#x3C;pepr_module>pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: failed to call webhook: Post ...\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Error from server (InternalError): Internal error occurred: failed calling webhook &#x22;\u003Cpepr_module>pepr.dev&#x22;: failed to call webhook: Post ...\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>When an internal error occurs, check the deployed \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code> resources’ timeout and failurePolicy configurations. If the failurePolicy is set to \u003Ccode dir=\"auto\">Fail\u003C/code>, and a request cannot be processed within the timeout, that request will be rejected. If the failurePolicy is set to \u003Ccode dir=\"auto\">Ignore\u003C/code>, given the same timeout conditions, the request will (perhaps surprisingly) be allowed to continue.\u003C/p>\n\u003Cp>If you have a validating webhook, the recommended is to set the failurePolicy to \u003Ccode dir=\"auto\">Fail\u003C/code> to ensure that the request is rejected if the webhook fails.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">failurePolicy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Fail\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchPolicy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Equivalent\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">timeoutSeconds\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"    failurePolicy: Fail    matchPolicy: Equivalent    timeoutSeconds: 3\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The failurePolicy and timeouts can be set in the Module’s \u003Ccode dir=\"auto\">package.json\u003C/code> file, under the \u003Ccode dir=\"auto\">pepr\u003C/code> configuration key.  If changed, the settings will be reflected in the \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code> after the next build:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"uuid\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">static-test\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"onError\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">ignore\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"webhookTimeout\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x22;pepr&#x22;: {    &#x22;uuid&#x22;: &#x22;static-test&#x22;,    &#x22;onError&#x22;: &#x22;ignore&#x22;,    &#x22;webhookTimeout&#x22;: 10,  }\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Read \u003Ca href=\"/user-guide/customization/\">more on customization\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-store-custom-resource\">Pepr Store Custom Resource\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-store-custom-resource\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Store Custom Resource”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you need to read all store keys, or you think the PeprStore is malfunctioning, you can check the PeprStore CR:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">peprstore\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get peprstore  -n pepr-system -o yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You should run in \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> mode to debug the issue, see the \u003Ca href=\"/reference/best-practices/#debugging-during-module-development\">Debugging During Module Development\u003C/a> section for more information.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"deployment\">Deployment\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#deployment\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Deployment”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Production environment deployments should be \u003Ccode dir=\"auto\">declarative\u003C/code> in order to avoid mistakes. The Pepr modules should be generated with \u003Ccode dir=\"auto\">npx pepr build\u003C/code> and moved into the appropriate location.\u003C/p>\n\u003Cp>Development environment deployments can use \u003Ccode dir=\"auto\">npx pepr deploy\u003C/code> to deploy Pepr’s Kubernetes manifests into the cluster or \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> to active debug the Pepr module with breakpoints in the code editor.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"keep-modules-small\">Keep Modules Small\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#keep-modules-small\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Keep Modules Small”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Modules are minified and built JavaScript files that are stored in a Kubernetes Secret in the cluster. The Secret is mounted in the Pepr Pod and is processed by Pepr Core. Due to the nature of the module being packaged in a Secret, it is recommended to keep the modules as small as possible to avoid hitting the \u003Ca href=\"https://kubernetes.io/docs/concepts/configuration/secret/#restriction-data-size\">1MB limit\u003C/a> of secrets.\u003C/p>\n\u003Cp>Recommendations for keeping modules small are:\u003C/p>\n\u003Cul>\n\u003Cli>Don’t repeat yourself\u003C/li>\n\u003Cli>Only import the part of the library modules that you need\u003C/li>\n\u003C/ul>\n\u003Cp>It is suggested to lint and format your modules using \u003Ccode dir=\"auto\">npx pepr format\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"monitoring\">Monitoring\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#monitoring\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Monitoring”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr can monitor Mutations and Validations from Admission Controller the through the \u003Ccode dir=\"auto\">npx pepr monitor [module-uuid]\u003C/code> command. This command will display neatly formatted log showing approved and rejected Validations as well as the Mutations.  If \u003Ccode dir=\"auto\">[module-uuid]\u003C/code> is not supplied, then it uses all Pepr admission controller logs as the data source. If you are unsure of what modules are currently deployed, issue \u003Ccode dir=\"auto\">npx pepr uuid\u003C/code> to display the modules and their descriptions.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">✅  MUTATE     pepr-demo/pepr-demo (50c5d836-335e-4aa5-8b56-adecb72d4b17)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">✅  VALIDATE   pepr-demo/example-2 (01c1d044-3a33-4160-beb9-01349e5d7fea)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">❌  VALIDATE   pepr-demo/example-evil-cm (8ee44ca8-845c-4845-aa05-642a696b51ce)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">[ 'No evil CM annotations allowed.' ]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"✅  MUTATE     pepr-demo/pepr-demo (50c5d836-335e-4aa5-8b56-adecb72d4b17)✅  VALIDATE   pepr-demo/example-2 (01c1d044-3a33-4160-beb9-01349e5d7fea)❌  VALIDATE   pepr-demo/example-evil-cm (8ee44ca8-845c-4845-aa05-642a696b51ce)[ &#x27;No evil CM annotations allowed.&#x27; ]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"multiple-modules-or-multiple-capabilities\">Multiple Modules or Multiple Capabilities\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#multiple-modules-or-multiple-capabilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Multiple Modules or Multiple Capabilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Each module has it’s own Mutating, Validating webhook configurations, Admission and Watch Controllers and Stores. This allows for each module to be deployed independently of each other. However, creating multiple modules creates overhead on the kube-apiserver, and the cluster.\u003C/p>\n\u003Cp>Due to the overhead costs, it is recommended to deploy multiple capabilities that share the same resources (when possible). This will simplify analysis of which capabilities are responsible for changes on resources.\u003C/p>\n\u003Cp>However, there are some cases where multiple modules makes sense. For instance different teams owning separate modules, or one module for Validations and another for Mutations. If you have a use-case where you need to deploy multiple modules it is recommended to separate concerns by operating in different namespaces.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"onschedule\">OnSchedule\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#onschedule\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “OnSchedule”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">OnSchedule\u003C/code> is supported by a \u003Ccode dir=\"auto\">PeprStore\u003C/code> to safeguard against schedule loss following a pod restart. It is utilized at the top level, distinct from being within a \u003Ccode dir=\"auto\">Validate\u003C/code>, \u003Ccode dir=\"auto\">Mutate\u003C/code>, \u003Ccode dir=\"auto\">Reconcile\u003C/code> or \u003Ccode dir=\"auto\">Watch\u003C/code>. Recommended intervals are 30 seconds or longer, and jobs are advised to be idempotent, meaning that if the code is applied or executed multiple times, the outcome should be the same as if it had been executed only once. A major use-case for \u003Ccode dir=\"auto\">OnSchedule\u003C/code> is day 2 operations.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"security\">Security\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#security\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Security”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To enhance the security of your Pepr Controller, we recommend following these best practices:\u003C/p>\n\u003Cul>\n\u003Cli>Regularly update Pepr to the latest stable release.\u003C/li>\n\u003Cli>Secure Pepr through RBAC using \u003Ca href=\"/user-guide/rbac/#scoped\">scoped mode\u003C/a> taking into account access to the Kubernetes API server needed in the callbacks.\u003C/li>\n\u003Cli>Practice the principle of least privilege when assigning roles and permissions and avoid giving the service account more permissions than necessary.\u003C/li>\n\u003Cli>Use NetworkPolicy to restrict traffic from Pepr Controllers to the minimum required.\u003C/li>\n\u003Cli>Limit calls from Pepr to the Kubernetes API server to the minimum required.\u003C/li>\n\u003Cli>Set webhook failure policies to \u003Ccode dir=\"auto\">Fail\u003C/code> to ensure that the request is rejected if the webhook fails. More Below..\u003C/li>\n\u003C/ul>\n\u003Cp>When using Pepr as a \u003Ccode dir=\"auto\">Validating\u003C/code> Webhook, it is recommended to set the Webhook’s \u003Ccode dir=\"auto\">failurePolicy\u003C/code> to \u003Ccode dir=\"auto\">Fail\u003C/code>. This can be done in your Pepr module in the\u003Ccode dir=\"auto\">values.yaml\u003C/code> file of the helm chart by setting \u003Ccode dir=\"auto\">admission.failurePolicy\u003C/code> to \u003Ccode dir=\"auto\">Fail\u003C/code> or in the \u003Ccode dir=\"auto\">package.json\u003C/code> under \u003Ccode dir=\"auto\">pepr\u003C/code> by setting the \u003Ccode dir=\"auto\">onError\u003C/code> flag to \u003Ccode dir=\"auto\">reject\u003C/code>, then running \u003Ccode dir=\"auto\">npx pepr build\u003C/code> again.\u003C/p>\n\u003Cp>By following these best practices, you can help protect your Pepr Controller from potential security threats.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reconcile\">Reconcile\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reconcile\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reconcile”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Fills a similar niche to \u003Ccode dir=\"auto\">.Watch()\u003C/code> — and runs in the Watch Controller — but it employs a Queue to force sequential processing of resource states once they are returned by the Kubernetes API. This allows things like operators to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource. For example, creating and then deleting a resource should be processed in that exact order to avoid state inconsistencies.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(WebApp)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(validator)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">     \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Do work here\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(WebApp)  .IsCreatedOrUpdated()  .Validate(validator)  .Reconcile(async instance => {     // Do work here\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"pepr-store\">Pepr Store\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-store\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Store”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The store is backed by ETCD in a \u003Ccode dir=\"auto\">PeprStore\u003C/code> resource, and updates happen at 5-second intervals when an array of patches is sent to the Kubernetes API Server. The store is intentionally not designed to be \u003Ccode dir=\"auto\">transactional\u003C/code>; instead, it is built to be eventually consistent, meaning that the last operation within the interval will be persisted, potentially overwriting other operations. Changes to the data are made without a guarantee that they will occur simultaneously, so caution is needed in managing errors and ensuring consistency.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"watch\">Watch\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#watch\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Watch”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr streamlines the process of receiving timely change notifications on resources by employing the \u003Ccode dir=\"auto\">Watch\u003C/code> mechanism. It is advisable to opt for \u003Ccode dir=\"auto\">Watch\u003C/code> over \u003Ccode dir=\"auto\">Mutate\u003C/code> or \u003Ccode dir=\"auto\">Validate\u003C/code> when dealing with more extended operations, as \u003Ccode dir=\"auto\">Watch\u003C/code> does not face any \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">timeout limitations\u003C/a>. Additionally, \u003Ccode dir=\"auto\">Watch\u003C/code> proves particularly advantageous for monitoring previously existing resources within a cluster. One compelling scenario for leveraging \u003Ccode dir=\"auto\">Watch\u003C/code> is when there is a need to chain API calls together, allowing \u003Ccode dir=\"auto\">Watch\u003C/code> operations to be sequentially executed following \u003Ccode dir=\"auto\">Mutate\u003C/code> and \u003Ccode dir=\"auto\">Validate\u003C/code> actions.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// .... )\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// .... )\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">phase\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({pod}, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Pod was \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">.\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// do consecutive api calls\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(pod => // .... )  .Validate(pod => // .... )  .Watch(async (pod, phase) => {    Log.info({pod}, &#x60;Pod was ${phase}.&#x60;);    // do consecutive api calls\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":689,"localImagePaths":753,"remoteImagePaths":754,"frontmatter":755,"imagePaths":756},[690,691,694,697,700,703,706,709,712,715,719,722,725,728,731,734,737,740,743,746,748,751],{"depth":80,"slug":289,"text":290},{"depth":80,"slug":692,"text":693},"high-availability","High Availability",{"depth":80,"slug":695,"text":696},"mutating-webhook-errors","Mutating Webhook Errors",{"depth":131,"slug":698,"text":699},"why-validate-after-mutating","Why Validate After Mutating?",{"depth":131,"slug":701,"text":702},"how-to-implement-a-validate-after-mutate-pattern","How to implement a Validate-After-Mutate Pattern",{"depth":80,"slug":704,"text":705},"core-development","Core Development",{"depth":80,"slug":707,"text":708},"debugging","Debugging",{"depth":131,"slug":710,"text":711},"debugging-during-module-development","Debugging During Module Development",{"depth":131,"slug":713,"text":714},"logging","Logging",{"depth":716,"slug":717,"text":718},4,"admission-controller","Admission Controller",{"depth":716,"slug":720,"text":721},"watch-controller","Watch Controller",{"depth":131,"slug":723,"text":724},"internal-error-occurred","Internal Error Occurred",{"depth":131,"slug":726,"text":727},"pepr-store-custom-resource","Pepr Store Custom Resource",{"depth":80,"slug":729,"text":730},"deployment","Deployment",{"depth":80,"slug":732,"text":733},"keep-modules-small","Keep Modules Small",{"depth":80,"slug":735,"text":736},"monitoring","Monitoring",{"depth":80,"slug":738,"text":739},"multiple-modules-or-multiple-capabilities","Multiple Modules or Multiple Capabilities",{"depth":80,"slug":741,"text":742},"onschedule","OnSchedule",{"depth":80,"slug":744,"text":745},"security","Security",{"depth":80,"slug":747,"text":353},"reconcile",{"depth":80,"slug":749,"text":750},"pepr-store","Pepr Store",{"depth":80,"slug":752,"text":371},"watch",[],[],{"title":679,"description":679},[],"tutorials/create-pepr-dashboard",{"id":757,"data":759,"body":764,"filePath":765,"digest":766,"rendered":767},{"title":760,"description":760,"editUrl":66,"head":761,"template":68,"sidebar":762,"pagefind":66,"draft":70},"Create a Pepr Dashboard",[],{"hidden":70,"attrs":763},{},"## Introduction\n\nThis tutorial will walk you through the process of creating a dashboard to display your Pepr metrics. This dashboard will present data such as the number of validation requests processed, the number of mutation requests that were allowed, the number of errors that were processed, the number of alerts that were processed, the status of the Pepr pods, and the scrape duration of the Pepr pods. This dashboard will be created using [Grafana](https://grafana.com/). The dashboard will display data from [Prometheus](https://prometheus.io/), which is a monitoring system that Pepr uses to collect metrics.\n\nThis tutorial is not intended for production, but instead is intended to show how to quickly scrape Pepr metrics. The [Kube Prometheus Stack](https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack) provides a starting point for a more production suitable way of deploying Prometheus in prod.\n\nAn example of what the dashboard will look like is shown below:\n\n![Pepr Dashboard](/assets/pepr-dashboard-screenshot.png)\n\n***Note:*** *The dashboard shown above is an example of what the dashboard will look like. The dashboard will be populated with data from your Pepr instance.*\n\n## Steps\n\n### Step 1. Get Cluster Running With Your Pepr Module Deployed\n\nYou can learn more about how to create a Pepr module and deploy it in the [Create a Pepr Module](/tutorials/create-pepr-module) tutorial. The short version is:\n\n```bash\n#Create your cluster\nk3d cluster create\n\n#Create your module\nnpx pepr init\n\n#Change directory to your module that was created using `npx pepr init`\nnpx pepr  dev\nkubectl apply -f capabilities/hello-pepr.samples.yaml\n\n#Deploy your module to the cluster\nnpx pepr deploy\n```\n\n### Step 2: Create and Apply Our Pepr Dashboard to the Cluster\n\nCreate a new file called grafana-dashboard.yaml and add the following content:\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: pepr-dashboard\n  namespace: default\ndata:\n  pepr-dashboard.json: |\n    {\n    \"__inputs\": [\n      {\n        \"name\": \"DS_PROMETHEUS\",\n        \"label\": \"Prometheus\",\n        \"description\": \"\",\n        \"type\": \"datasource\",\n        \"pluginId\": \"prometheus\",\n        \"pluginName\": \"Prometheus\"\n      }\n    ],\n    \"__elements\": {},\n    \"__requires\": [\n      {\n        \"type\": \"grafana\",\n        \"id\": \"grafana\",\n        \"name\": \"Grafana\",\n        \"version\": \"9.1.6\"\n      },\n      {\n        \"type\": \"datasource\",\n        \"id\": \"prometheus\",\n        \"name\": \"Prometheus\",\n        \"version\": \"1.0.0\"\n      },\n      {\n        \"type\": \"panel\",\n        \"id\": \"stat\",\n        \"name\": \"Stat\",\n        \"version\": \"\"\n      },\n      {\n        \"type\": \"panel\",\n        \"id\": \"timeseries\",\n        \"name\": \"Time series\",\n        \"version\": \"\"\n      }\n    ],\n    \"annotations\": {\n      \"list\": [\n        {\n          \"builtIn\": 1,\n          \"datasource\": {\n            \"type\": \"grafana\",\n            \"uid\": \"-- Grafana --\"\n          },\n          \"enable\": true,\n          \"hide\": true,\n          \"iconColor\": \"rgba(0, 211, 255, 1)\",\n          \"name\": \"Annotations & Alerts\",\n          \"target\": {\n            \"limit\": 100,\n            \"matchAny\": false,\n            \"tags\": [],\n            \"type\": \"dashboard\"\n          },\n          \"type\": \"dashboard\"\n        }\n      ]\n    },\n    \"editable\": true,\n    \"fiscalYearStartMonth\": 0,\n    \"graphTooltip\": 0,\n    \"id\": null,\n    \"links\": [],\n    \"liveNow\": false,\n    \"panels\": [\n      {\n        \"collapsed\": false,\n        \"gridPos\": {\n          \"h\": 1,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 0\n        },\n        \"id\": 18,\n        \"panels\": [],\n        \"title\": \"Pepr Status\",\n        \"type\": \"row\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Pepr pod status by pod\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"mode\": \"thresholds\"\n            },\n            \"mappings\": [\n              {\n                \"options\": {\n                  \"0\": {\n                    \"color\": \"red\",\n                    \"index\": 1,\n                    \"text\": \"Down\"\n                  },\n                  \"1\": {\n                    \"color\": \"green\",\n                    \"index\": 0,\n                    \"text\": \"Up\"\n                  }\n                },\n                \"type\": \"value\"\n              },\n              {\n                \"options\": {\n                  \"match\": \"empty\",\n                  \"result\": {\n                    \"color\": \"blue\",\n                    \"index\": 2,\n                    \"text\": \"?\"\n                  }\n                },\n                \"type\": \"special\"\n              }\n            ],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 12,\n          \"x\": 0,\n          \"y\": 1\n        },\n        \"id\": 14,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"none\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"up{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"up{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr Status\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"mode\": \"palette-classic\"\n            },\n            \"custom\": {\n              \"axisCenteredZero\": false,\n              \"axisColorMode\": \"text\",\n              \"axisLabel\": \"\",\n              \"axisPlacement\": \"auto\",\n              \"barAlignment\": 0,\n              \"drawStyle\": \"line\",\n              \"fillOpacity\": 0,\n              \"gradientMode\": \"none\",\n              \"hideFrom\": {\n                \"legend\": false,\n                \"tooltip\": false,\n                \"viz\": false\n              },\n              \"lineInterpolation\": \"linear\",\n              \"lineWidth\": 1,\n              \"pointSize\": 5,\n              \"scaleDistribution\": {\n                \"type\": \"linear\"\n              },\n              \"showPoints\": \"auto\",\n              \"spanNulls\": false,\n              \"stacking\": {\n                \"group\": \"A\",\n                \"mode\": \"none\"\n              },\n              \"thresholdsStyle\": {\n                \"mode\": \"off\"\n              }\n            },\n            \"mappings\": [],\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 12,\n          \"x\": 12,\n          \"y\": 1\n        },\n        \"id\": 12,\n        \"options\": {\n          \"legend\": {\n            \"calcs\": [],\n            \"displayMode\": \"list\",\n            \"placement\": \"bottom\",\n            \"showLegend\": true\n          },\n          \"tooltip\": {\n            \"mode\": \"single\",\n            \"sort\": \"none\"\n          }\n        },\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"scrape_duration_seconds{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"scrape_duration_seconds{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Scrape Duration Seconds\",\n        \"type\": \"timeseries\"\n      },\n      {\n        \"collapsed\": false,\n        \"gridPos\": {\n          \"h\": 1,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 9\n        },\n        \"id\": 6,\n        \"panels\": [],\n        \"title\": \"Error, Alert, Validate and Mutate Counts\",\n        \"type\": \"row\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-red\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 0,\n          \"y\": 10\n        },\n        \"id\": 16,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"server\\\"}[$__rate_interval]))\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"watcher\\\"}[$__rate_interval]))\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Error Count\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Count of Pepr Alerts by pod\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-yellow\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 6,\n          \"y\": 10\n        },\n        \"id\": 10,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_alerts{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_alerts{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Alert Count\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Count of Pepr Validate actions by pod\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-purple\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 12,\n          \"y\": 10\n        },\n        \"id\": 4,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 66\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"exemplar\": false,\n            \"expr\": \"pepr_validate_count{container=\\\"server\\\"}\",\n            \"instant\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_validate_sum{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Validate Count\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Count of Pepr mutate actions applied by pod.\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-blue\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 18,\n          \"y\": 10\n        },\n        \"id\": 2,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"value_and_name\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_mutate_count{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"rate(pepr_mutate_count{container=\\\"watcher\\\"}[24h])\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Mutate Count\",\n        \"type\": \"stat\"\n      }\n    ],\n    \"schemaVersion\": 37,\n    \"style\": \"dark\",\n    \"tags\": [],\n    \"templating\": {\n      \"list\": []\n    },\n    \"time\": {\n      \"from\": \"now-24h\",\n      \"to\": \"now\"\n    },\n    \"timepicker\": {},\n    \"timezone\": \"\",\n    \"title\": \"Pepr Dashboard\",\n    \"uid\": \"j7BjgMpIk\",\n    \"version\": 17,\n    \"weekStart\": \"\"\n    }\n```\n\nNow, apply the grafana-dashboard.yaml file to the cluster:\n\n```bash\nkubectl apply -f grafana-dashboard.yaml\n```\n\n### Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart\n\nFirst, create a values.yaml file to add our endpoints to Prometheus and allow us to see our dashboard.\n\n```yaml\nprometheus:\n  enabled: true\n  additionalServiceMonitors:\n    - name: admission\n      selector:\n        matchLabels:\n          pepr.dev/controller: admission\n      namespaceSelector:\n        matchNames:\n          - pepr-system\n      endpoints:\n        - targetPort: 3000\n          scheme: https\n          tlsConfig:\n            insecureSkipVerify: true\n    - name: watcher\n      selector:\n        matchLabels:\n          pepr.dev/controller: watcher\n      namespaceSelector:\n        matchNames:\n          - pepr-system\n      endpoints:\n        - targetPort: 3000\n          scheme: https\n          tlsConfig:\n            insecureSkipVerify: true\n  additionalClusterRoleBindings:\n    - name: scrape-binding\n      roleRef:\n        apiGroup: rbac.authorization.k8s.io\n        kind: ClusterRole\n        name: scrape-resources\n      subjects:\n      - kind: ServiceAccount\n        name: prometheus-operator\n        namespace: default\ngrafana:\n  enabled: true\n  adminUser: admin\n  adminPassword: secret\n  defaultDashboardsTimezone: browser\n  extraVolumeMounts:\n    - mountPath: /var/lib/grafana/dashboards\n      name: pepr-dashboard\n  extraVolumes:\n    - name: pepr-dashboard\n      configMap:\n        name: pepr-dashboard\n  dashboardProviders:\n    dashboardproviders.yaml:\n      apiVersion: 1\n      providers:\n      - name: 'default'\n        isDefault: true\n        orgId: 1\n        folder: ''\n        type: file\n        disableDeletion: false\n        editable: true\n        options:\n          path: /var/lib/grafana/dashboards/default\n  dashboardsConfigMaps:\n    default: pepr-dashboard\n```\n\nNow, install the kube-prometheus-stack Helm Chart using the values.yaml file we created.\n\n```bash\nhelm install -f values.yaml monitoring prometheus-community/kube-prometheus-stack\n```\n\n### Step 4: Check on Services\n\n```bash\nkubectl get svc\n```\n\nYou should see something similar to the following services:\n\n```bash\n$ kubectl get svc\nNAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE\nkubernetes                                ClusterIP   10.43.0.1       \u003Cnone>        443/TCP                      99m\nmonitoring-kube-prometheus-prometheus     ClusterIP   10.43.116.49    \u003Cnone>        9090/TCP,8080/TCP            81s\nmonitoring-kube-state-metrics             ClusterIP   10.43.232.84    \u003Cnone>        8080/TCP                     81s\nmonitoring-grafana                        ClusterIP   10.43.82.67     \u003Cnone>        80/TCP                       81s\nmonitoring-kube-prometheus-operator       ClusterIP   10.43.197.97    \u003Cnone>        443/TCP                      81s\nmonitoring-kube-prometheus-alertmanager   ClusterIP   10.43.40.24     \u003Cnone>        9093/TCP,8080/TCP            81s\nmonitoring-prometheus-node-exporter       ClusterIP   10.43.152.179   \u003Cnone>        9100/TCP                     81s\nalertmanager-operated                     ClusterIP   None            \u003Cnone>        9093/TCP,9094/TCP,9094/UDP   81s\nprometheus-operated                       ClusterIP   None            \u003Cnone>        9090/TCP                     81s\n```\n\n### Step 5: Port Forward Prometheus and Grafana Services\n\n```bash\nkubectl port-forward service/prometheus-operated 9090\n```\n\n```bash\nkubectl port-forward service/monitoring-grafana 3000:80\n```\n\n### Step 6: View Prometheus Metrics Targets\n\nYou should be able to see the Pepr targets in the Prometheus UI by visiting the following URL:\n\n```plaintext\nhttp://localhost:9090/targets\n```\n\nThe targets should look something like this:\n\n![Admission Endpoints](/assets/admission-endpoint.png)\n![Watcher Endpoint](/assets/watcher-endpoint.png)\n\n### Step 7: Test the Prometheus Connection in Grafana\n\nYou should be able to test the Prometheus connection in the Grafana UI by visiting the following URL:\n\n\u003Chttp://localhost:3000/connections/datasources>\n\nThe login information for Grafana was set in the values.yaml file:\n\nusername: admin\npassword: secret\n\nBy clicking on the Prometheus data source, you should be able to test the connection to Prometheus by clicking the \"Test\" button at the bottom of the screen.\n\n:::note\nThe Prometheus server URL should be something like:\n:::\n\n\u003Chttp://monitoring-kube-prometh-prometheus.default:9090/>\n\nYou should now be able to select the Pepr Dashboard from the Grafana UI in the \"Dashboards\" section.\n\n:::note\nThe dashboard may take a few minutes to populate with data.\n:::\n\n## Summary\n\nThis tutorial demonstrated how to use Prometheus and Grafana to display metrics from your Pepr instance. If you have questions about Pepr metrics or dashboards, please reach out to us on [Slack](https://kubernetes.slack.com/archives/C06DGH40UCB) or [GitHub Issues](https://github.com/defenseunicorns/pepr/issues)","src/content/docs/tutorials/create-pepr-dashboard.md","3be1d65cde02d4b7",{"html":768,"metadata":769},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial will walk you through the process of creating a dashboard to display your Pepr metrics. This dashboard will present data such as the number of validation requests processed, the number of mutation requests that were allowed, the number of errors that were processed, the number of alerts that were processed, the status of the Pepr pods, and the scrape duration of the Pepr pods. This dashboard will be created using \u003Ca href=\"https://grafana.com/\">Grafana\u003C/a>. The dashboard will display data from \u003Ca href=\"https://prometheus.io/\">Prometheus\u003C/a>, which is a monitoring system that Pepr uses to collect metrics.\u003C/p>\n\u003Cp>This tutorial is not intended for production, but instead is intended to show how to quickly scrape Pepr metrics. The \u003Ca href=\"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack\">Kube Prometheus Stack\u003C/a> provides a starting point for a more production suitable way of deploying Prometheus in prod.\u003C/p>\n\u003Cp>An example of what the dashboard will look like is shown below:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/pepr-dashboard-screenshot.png\" alt=\"Pepr Dashboard\">\u003C/p>\n\u003Cp>\u003Cem>\u003Cstrong>Note:\u003C/strong>\u003C/em> \u003Cem>The dashboard shown above is an example of what the dashboard will look like. The dashboard will be populated with data from your Pepr instance.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"steps\">Steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-1-get-cluster-running-with-your-pepr-module-deployed\">Step 1. Get Cluster Running With Your Pepr Module Deployed\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-1-get-cluster-running-with-your-pepr-module-deployed\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 1. Get Cluster Running With Your Pepr Module Deployed”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can learn more about how to create a Pepr module and deploy it in the \u003Ca href=\"/tutorials/create-pepr-module\">Create a Pepr Module\u003C/a> tutorial. The short version is:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Create your cluster\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Create your module\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Change directory to your module that was created using `npx pepr init`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/hello-pepr.samples.yaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Deploy your module to the cluster\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster createnpx pepr initnpx pepr  devkubectl apply -f capabilities/hello-pepr.samples.yamlnpx pepr deploy\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-2-create-and-apply-our-pepr-dashboard-to-the-cluster\">Step 2: Create and Apply Our Pepr Dashboard to the Cluster\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-2-create-and-apply-our-pepr-dashboard-to-the-cluster\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 2: Create and Apply Our Pepr Dashboard to the Cluster”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a new file called grafana-dashboard.yaml and add the following content:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">default\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr-dashboard.json\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"__inputs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"DS_PROMETHEUS\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"label\": \"Prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"datasource\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginId\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginName\": \"Prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"__elements\": {},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"__requires\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"9.1.6\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"datasource\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"1.0.0\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"panel\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"stat\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Stat\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"panel\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"timeseries\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Time series\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"annotations\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"list\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"builtIn\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"-- Grafana --\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"enable\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"iconColor\": \"rgba(0, 211, 255, 1)\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Annotations &#x26; Alerts\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"target\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"limit\": 100,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"matchAny\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tags\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"dashboard\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"dashboard\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editable\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fiscalYearStartMonth\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphTooltip\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": null,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"links\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"liveNow\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"panels\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"collapsed\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 24,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 0\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 18,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"panels\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr Status\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"row\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Pepr pod status by pod\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"thresholds\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"0\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"index\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": \"Down\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"1\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"index\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": \"Up\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"value\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"match\": \"empty\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"result\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"blue\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"index\": 2,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": \"?\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"special\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 14,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"none\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"up{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"up{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr Status\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"palette-classic\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"custom\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisCenteredZero\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisColorMode\": \"text\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisLabel\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisPlacement\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"barAlignment\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"drawStyle\": \"line\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fillOpacity\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gradientMode\": \"none\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hideFrom\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legend\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tooltip\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"viz\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"lineInterpolation\": \"linear\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"lineWidth\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pointSize\": 5,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"scaleDistribution\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"linear\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"showPoints\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"spanNulls\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"stacking\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"group\": \"A\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"none\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholdsStyle\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"off\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legend\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"displayMode\": \"list\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"placement\": \"bottom\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"showLegend\": true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tooltip\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"single\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"sort\": \"none\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"scrape_duration_seconds{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"scrape_duration_seconds{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Scrape Duration Seconds\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"timeseries\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"collapsed\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 24,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 9\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"panels\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Error, Alert, Validate and Mutate Counts\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"row\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"server\\\"}[$__rate_interval]))\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"watcher\\\"}[$__rate_interval]))\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Error Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Count of Pepr Alerts by pod\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-yellow\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 10,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_alerts{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_alerts{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Alert Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Count of Pepr Validate actions by pod\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-purple\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 4,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 66\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"exemplar\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_validate_count{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"instant\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_validate_sum{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Validate Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Count of Pepr mutate actions applied by pod.\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-blue\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 18,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 2,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"value_and_name\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_mutate_count{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"rate(pepr_mutate_count{container=\\\"watcher\\\"}[24h])\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Mutate Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"schemaVersion\": 37,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"style\": \"dark\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tags\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"templating\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"list\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"time\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"from\": \"now-24h\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"to\": \"now\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"timepicker\": {},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"timezone\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr Dashboard\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"j7BjgMpIk\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": 17,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"weekStart\": \"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"apiVersion: v1kind: ConfigMapmetadata:  name: pepr-dashboard  namespace: defaultdata:  pepr-dashboard.json: |    {    &#x22;__inputs&#x22;: [      {        &#x22;name&#x22;: &#x22;DS_PROMETHEUS&#x22;,        &#x22;label&#x22;: &#x22;Prometheus&#x22;,        &#x22;description&#x22;: &#x22;&#x22;,        &#x22;type&#x22;: &#x22;datasource&#x22;,        &#x22;pluginId&#x22;: &#x22;prometheus&#x22;,        &#x22;pluginName&#x22;: &#x22;Prometheus&#x22;      }    ],    &#x22;__elements&#x22;: {},    &#x22;__requires&#x22;: [      {        &#x22;type&#x22;: &#x22;grafana&#x22;,        &#x22;id&#x22;: &#x22;grafana&#x22;,        &#x22;name&#x22;: &#x22;Grafana&#x22;,        &#x22;version&#x22;: &#x22;9.1.6&#x22;      },      {        &#x22;type&#x22;: &#x22;datasource&#x22;,        &#x22;id&#x22;: &#x22;prometheus&#x22;,        &#x22;name&#x22;: &#x22;Prometheus&#x22;,        &#x22;version&#x22;: &#x22;1.0.0&#x22;      },      {        &#x22;type&#x22;: &#x22;panel&#x22;,        &#x22;id&#x22;: &#x22;stat&#x22;,        &#x22;name&#x22;: &#x22;Stat&#x22;,        &#x22;version&#x22;: &#x22;&#x22;      },      {        &#x22;type&#x22;: &#x22;panel&#x22;,        &#x22;id&#x22;: &#x22;timeseries&#x22;,        &#x22;name&#x22;: &#x22;Time series&#x22;,        &#x22;version&#x22;: &#x22;&#x22;      }    ],    &#x22;annotations&#x22;: {      &#x22;list&#x22;: [        {          &#x22;builtIn&#x22;: 1,          &#x22;datasource&#x22;: {            &#x22;type&#x22;: &#x22;grafana&#x22;,            &#x22;uid&#x22;: &#x22;-- Grafana --&#x22;          },          &#x22;enable&#x22;: true,          &#x22;hide&#x22;: true,          &#x22;iconColor&#x22;: &#x22;rgba(0, 211, 255, 1)&#x22;,          &#x22;name&#x22;: &#x22;Annotations &#x26; Alerts&#x22;,          &#x22;target&#x22;: {            &#x22;limit&#x22;: 100,            &#x22;matchAny&#x22;: false,            &#x22;tags&#x22;: [],            &#x22;type&#x22;: &#x22;dashboard&#x22;          },          &#x22;type&#x22;: &#x22;dashboard&#x22;        }      ]    },    &#x22;editable&#x22;: true,    &#x22;fiscalYearStartMonth&#x22;: 0,    &#x22;graphTooltip&#x22;: 0,    &#x22;id&#x22;: null,    &#x22;links&#x22;: [],    &#x22;liveNow&#x22;: false,    &#x22;panels&#x22;: [      {        &#x22;collapsed&#x22;: false,        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 1,          &#x22;w&#x22;: 24,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 0        },        &#x22;id&#x22;: 18,        &#x22;panels&#x22;: [],        &#x22;title&#x22;: &#x22;Pepr Status&#x22;,        &#x22;type&#x22;: &#x22;row&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Pepr pod status by pod&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;mode&#x22;: &#x22;thresholds&#x22;            },            &#x22;mappings&#x22;: [              {                &#x22;options&#x22;: {                  &#x22;0&#x22;: {                    &#x22;color&#x22;: &#x22;red&#x22;,                    &#x22;index&#x22;: 1,                    &#x22;text&#x22;: &#x22;Down&#x22;                  },                  &#x22;1&#x22;: {                    &#x22;color&#x22;: &#x22;green&#x22;,                    &#x22;index&#x22;: 0,                    &#x22;text&#x22;: &#x22;Up&#x22;                  }                },                &#x22;type&#x22;: &#x22;value&#x22;              },              {                &#x22;options&#x22;: {                  &#x22;match&#x22;: &#x22;empty&#x22;,                  &#x22;result&#x22;: {                    &#x22;color&#x22;: &#x22;blue&#x22;,                    &#x22;index&#x22;: 2,                    &#x22;text&#x22;: &#x22;?&#x22;                  }                },                &#x22;type&#x22;: &#x22;special&#x22;              }            ],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 12,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 1        },        &#x22;id&#x22;: 14,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;none&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;up{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;up{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr Status&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;mode&#x22;: &#x22;palette-classic&#x22;            },            &#x22;custom&#x22;: {              &#x22;axisCenteredZero&#x22;: false,              &#x22;axisColorMode&#x22;: &#x22;text&#x22;,              &#x22;axisLabel&#x22;: &#x22;&#x22;,              &#x22;axisPlacement&#x22;: &#x22;auto&#x22;,              &#x22;barAlignment&#x22;: 0,              &#x22;drawStyle&#x22;: &#x22;line&#x22;,              &#x22;fillOpacity&#x22;: 0,              &#x22;gradientMode&#x22;: &#x22;none&#x22;,              &#x22;hideFrom&#x22;: {                &#x22;legend&#x22;: false,                &#x22;tooltip&#x22;: false,                &#x22;viz&#x22;: false              },              &#x22;lineInterpolation&#x22;: &#x22;linear&#x22;,              &#x22;lineWidth&#x22;: 1,              &#x22;pointSize&#x22;: 5,              &#x22;scaleDistribution&#x22;: {                &#x22;type&#x22;: &#x22;linear&#x22;              },              &#x22;showPoints&#x22;: &#x22;auto&#x22;,              &#x22;spanNulls&#x22;: false,              &#x22;stacking&#x22;: {                &#x22;group&#x22;: &#x22;A&#x22;,                &#x22;mode&#x22;: &#x22;none&#x22;              },              &#x22;thresholdsStyle&#x22;: {                &#x22;mode&#x22;: &#x22;off&#x22;              }            },            &#x22;mappings&#x22;: [],            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 12,          &#x22;x&#x22;: 12,          &#x22;y&#x22;: 1        },        &#x22;id&#x22;: 12,        &#x22;options&#x22;: {          &#x22;legend&#x22;: {            &#x22;calcs&#x22;: [],            &#x22;displayMode&#x22;: &#x22;list&#x22;,            &#x22;placement&#x22;: &#x22;bottom&#x22;,            &#x22;showLegend&#x22;: true          },          &#x22;tooltip&#x22;: {            &#x22;mode&#x22;: &#x22;single&#x22;,            &#x22;sort&#x22;: &#x22;none&#x22;          }        },        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;scrape_duration_seconds{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;scrape_duration_seconds{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Scrape Duration Seconds&#x22;,        &#x22;type&#x22;: &#x22;timeseries&#x22;      },      {        &#x22;collapsed&#x22;: false,        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 1,          &#x22;w&#x22;: 24,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 9        },        &#x22;id&#x22;: 6,        &#x22;panels&#x22;: [],        &#x22;title&#x22;: &#x22;Error, Alert, Validate and Mutate Counts&#x22;,        &#x22;type&#x22;: &#x22;row&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-red&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 16,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;count by(instance) (rate(pepr_errors{container=\\&#x22;server\\&#x22;}[$__rate_interval]))&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;count by(instance) (rate(pepr_errors{container=\\&#x22;watcher\\&#x22;}[$__rate_interval]))&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Error Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Count of Pepr Alerts by pod&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-yellow&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 6,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 10,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_alerts{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_alerts{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Alert Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Count of Pepr Validate actions by pod&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-purple&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 12,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 4,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 66          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;exemplar&#x22;: false,            &#x22;expr&#x22;: &#x22;pepr_validate_count{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;instant&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_validate_sum{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Validate Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Count of Pepr mutate actions applied by pod.&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-blue&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 18,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 2,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;value_and_name&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_mutate_count{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;rate(pepr_mutate_count{container=\\&#x22;watcher\\&#x22;}[24h])&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Mutate Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      }    ],    &#x22;schemaVersion&#x22;: 37,    &#x22;style&#x22;: &#x22;dark&#x22;,    &#x22;tags&#x22;: [],    &#x22;templating&#x22;: {      &#x22;list&#x22;: []    },    &#x22;time&#x22;: {      &#x22;from&#x22;: &#x22;now-24h&#x22;,      &#x22;to&#x22;: &#x22;now&#x22;    },    &#x22;timepicker&#x22;: {},    &#x22;timezone&#x22;: &#x22;&#x22;,    &#x22;title&#x22;: &#x22;Pepr Dashboard&#x22;,    &#x22;uid&#x22;: &#x22;j7BjgMpIk&#x22;,    &#x22;version&#x22;: 17,    &#x22;weekStart&#x22;: &#x22;&#x22;    }\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now, apply the grafana-dashboard.yaml file to the cluster:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">grafana-dashboard.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl apply -f grafana-dashboard.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-3-install-prometheus-and-grafana-using-the-kube-prometheus-stack-helm-chart\">Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-3-install-prometheus-and-grafana-using-the-kube-prometheus-stack-helm-chart\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>First, create a values.yaml file to add our endpoints to Prometheus and allow us to see our dashboard.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">prometheus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">enabled\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">additionalServiceMonitors\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admission\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchLabels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr.dev/controller\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admission\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespaceSelector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchNames\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">endpoints\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">targetPort\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3000\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">scheme\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">tlsConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">            \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">insecureSkipVerify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watcher\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchLabels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr.dev/controller\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watcher\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespaceSelector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchNames\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">endpoints\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">targetPort\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3000\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">scheme\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">tlsConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">            \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">insecureSkipVerify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">additionalClusterRoleBindings\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">scrape-binding\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">roleRef\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroup\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rbac.authorization.k8s.io\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterRole\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">scrape-resources\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">subjects\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ServiceAccount\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">prometheus-operator\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">default\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">grafana\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">enabled\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">adminUser\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admin\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">adminPassword\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">secret\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">defaultDashboardsTimezone\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">browser\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">extraVolumeMounts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">mountPath\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/var/lib/grafana/dashboards\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">extraVolumes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">configMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">dashboardProviders\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">dashboardproviders.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">providers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">isDefault\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">orgId\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">folder\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">type\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">file\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">disableDeletion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">editable\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">options\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">path\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/var/lib/grafana/dashboards/default\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">dashboardsConfigMaps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">default\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"prometheus:  enabled: true  additionalServiceMonitors:    - name: admission      selector:        matchLabels:          pepr.dev/controller: admission      namespaceSelector:        matchNames:          - pepr-system      endpoints:        - targetPort: 3000          scheme: https          tlsConfig:            insecureSkipVerify: true    - name: watcher      selector:        matchLabels:          pepr.dev/controller: watcher      namespaceSelector:        matchNames:          - pepr-system      endpoints:        - targetPort: 3000          scheme: https          tlsConfig:            insecureSkipVerify: true  additionalClusterRoleBindings:    - name: scrape-binding      roleRef:        apiGroup: rbac.authorization.k8s.io        kind: ClusterRole        name: scrape-resources      subjects:      - kind: ServiceAccount        name: prometheus-operator        namespace: defaultgrafana:  enabled: true  adminUser: admin  adminPassword: secret  defaultDashboardsTimezone: browser  extraVolumeMounts:    - mountPath: /var/lib/grafana/dashboards      name: pepr-dashboard  extraVolumes:    - name: pepr-dashboard      configMap:        name: pepr-dashboard  dashboardProviders:    dashboardproviders.yaml:      apiVersion: 1      providers:      - name: &#x27;default&#x27;        isDefault: true        orgId: 1        folder: &#x27;&#x27;        type: file        disableDeletion: false        editable: true        options:          path: /var/lib/grafana/dashboards/default  dashboardsConfigMaps:    default: pepr-dashboard\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now, install the kube-prometheus-stack Helm Chart using the values.yaml file we created.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">helm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">install\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">values.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitoring\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">prometheus-community/kube-prometheus-stack\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"helm install -f values.yaml monitoring prometheus-community/kube-prometheus-stack\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-4-check-on-services\">Step 4: Check on Services\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-4-check-on-services\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 4: Check on Services”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get svc\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You should see something similar to the following services:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">$\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">TYPE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">CLUSTER-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">EXTERNAL-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">PORT\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">S\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubernetes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                                \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.0.1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">443/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">99m\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-prometheus-prometheus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.116.49\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9090/TCP,8080/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-state-metrics\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">             \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.232.84\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">8080/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-grafana\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.82.67\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">80/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-prometheus-operator\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.197.97\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">443/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-prometheus-alertmanager\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.40.24\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9093/TCP,8080/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-prometheus-node-exporter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.152.179\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9100/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">alertmanager-operated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">None\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9093/TCP,9094/TCP,9094/UDP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">prometheus-operated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">None\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9090/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ kubectl get svcNAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGEkubernetes                                ClusterIP   10.43.0.1       \u003Cnone>        443/TCP                      99mmonitoring-kube-prometheus-prometheus     ClusterIP   10.43.116.49    \u003Cnone>        9090/TCP,8080/TCP            81smonitoring-kube-state-metrics             ClusterIP   10.43.232.84    \u003Cnone>        8080/TCP                     81smonitoring-grafana                        ClusterIP   10.43.82.67     \u003Cnone>        80/TCP                       81smonitoring-kube-prometheus-operator       ClusterIP   10.43.197.97    \u003Cnone>        443/TCP                      81smonitoring-kube-prometheus-alertmanager   ClusterIP   10.43.40.24     \u003Cnone>        9093/TCP,8080/TCP            81smonitoring-prometheus-node-exporter       ClusterIP   10.43.152.179   \u003Cnone>        9100/TCP                     81salertmanager-operated                     ClusterIP   None            \u003Cnone>        9093/TCP,9094/TCP,9094/UDP   81sprometheus-operated                       ClusterIP   None            \u003Cnone>        9090/TCP                     81s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-5-port-forward-prometheus-and-grafana-services\">Step 5: Port Forward Prometheus and Grafana Services\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-5-port-forward-prometheus-and-grafana-services\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 5: Port Forward Prometheus and Grafana Services”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">service/prometheus-operated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">9090\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward service/prometheus-operated 9090\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">service/monitoring-grafana\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">3000:80\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward service/monitoring-grafana 3000:80\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-6-view-prometheus-metrics-targets\">Step 6: View Prometheus Metrics Targets\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-6-view-prometheus-metrics-targets\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 6: View Prometheus Metrics Targets”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You should be able to see the Pepr targets in the Prometheus UI by visiting the following URL:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">http://localhost:9090/targets\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"http://localhost:9090/targets\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The targets should look something like this:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/admission-endpoint.png\" alt=\"Admission Endpoints\">\n\u003Cimg src=\"/assets/watcher-endpoint.png\" alt=\"Watcher Endpoint\">\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-7-test-the-prometheus-connection-in-grafana\">Step 7: Test the Prometheus Connection in Grafana\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-7-test-the-prometheus-connection-in-grafana\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 7: Test the Prometheus Connection in Grafana”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You should be able to test the Prometheus connection in the Grafana UI by visiting the following URL:\u003C/p>\n\u003Cp>\u003Ca href=\"http://localhost:3000/connections/datasources\">http://localhost:3000/connections/datasources\u003C/a>\u003C/p>\n\u003Cp>The login information for Grafana was set in the values.yaml file:\u003C/p>\n\u003Cp>username: admin\npassword: secret\u003C/p>\n\u003Cp>By clicking on the Prometheus data source, you should be able to test the connection to Prometheus by clicking the “Test” button at the bottom of the screen.\u003C/p>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>The Prometheus server URL should be something like:\u003C/p>\u003C/div>\u003C/aside>\n\u003Cp>\u003Ca href=\"http://monitoring-kube-prometh-prometheus.default:9090/\">http://monitoring-kube-prometh-prometheus.default:9090/\u003C/a>\u003C/p>\n\u003Cp>You should now be able to select the Pepr Dashboard from the Grafana UI in the “Dashboards” section.\u003C/p>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>The dashboard may take a few minutes to populate with data.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"summary\">Summary\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#summary\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Summary”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial demonstrated how to use Prometheus and Grafana to display metrics from your Pepr instance. If you have questions about Pepr metrics or dashboards, please reach out to us on \u003Ca href=\"https://kubernetes.slack.com/archives/C06DGH40UCB\">Slack\u003C/a> or \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">GitHub Issues\u003C/a>\u003C/p>",{"headings":770,"localImagePaths":795,"remoteImagePaths":796,"frontmatter":797,"imagePaths":798},[771,772,773,776,779,782,785,788,791,794],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":666,"text":667},{"depth":131,"slug":774,"text":775},"step-1-get-cluster-running-with-your-pepr-module-deployed","Step 1. Get Cluster Running With Your Pepr Module Deployed",{"depth":131,"slug":777,"text":778},"step-2-create-and-apply-our-pepr-dashboard-to-the-cluster","Step 2: Create and Apply Our Pepr Dashboard to the Cluster",{"depth":131,"slug":780,"text":781},"step-3-install-prometheus-and-grafana-using-the-kube-prometheus-stack-helm-chart","Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart",{"depth":131,"slug":783,"text":784},"step-4-check-on-services","Step 4: Check on Services",{"depth":131,"slug":786,"text":787},"step-5-port-forward-prometheus-and-grafana-services","Step 5: Port Forward Prometheus and Grafana Services",{"depth":131,"slug":789,"text":790},"step-6-view-prometheus-metrics-targets","Step 6: View Prometheus Metrics Targets",{"depth":131,"slug":792,"text":793},"step-7-test-the-prometheus-connection-in-grafana","Step 7: Test the Prometheus Connection in Grafana",{"depth":80,"slug":613,"text":614},[],[],{"title":760,"description":760},[],"tutorials/create-pepr-operator",{"id":799,"data":801,"body":806,"filePath":807,"digest":808,"rendered":809},{"title":802,"description":802,"editUrl":66,"head":803,"template":68,"sidebar":804,"pagefind":66,"draft":70},"Building a Kubernetes Operator with Pepr",[],{"hidden":70,"attrs":805},{},"## Introduction\n\nThis tutorial guides you through building a Kubernetes Operator using Pepr. You'll create a WebApp Operator that manages custom WebApp resources in your Kubernetes cluster.\n\nIf you get stuck at any point, you can reference the [complete example code in the Pepr Excellent Examples repository](https://github.com/defenseunicorns/pepr-excellent-examples/tree/main/pepr-operator).\n\n## What You'll Build\n\nThe WebApp Operator will:\n\n1. Deploy a custom `WebApp` resource definition (CRD)\n2. Watch for WebApp instances and reconcile them with the actual cluster state\n3. For each WebApp instance, manage:\n   - A `Deployment` with configurable replicas\n   - A `Service` to expose the application\n   - A `ConfigMap` containing configurable HTML with language and theme options\n\nAll resources will include `ownerReferences`, triggering cascading deletion when a WebApp is removed. The operator will also automatically restore any managed resources that are deleted externally.\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Prerequisites\n\n- A Kubernetes cluster (local or remote)\n- Access to the `curl` command\n- Basic understanding of Kubernetes concepts\n- Familiarity with TypeScript\n- Node.js ≥ 20.0\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Tutorial Steps\n\n1. [Create a new Pepr Module](#create-a-new-pepr-module)\n2. [Define the WebApp CRD](#create-crd)\n3. [Create Helper Functions](#create-helpers)\n4. [Implement the Reconciler](#create-reconciler)\n5. [Build and Deploy Your Operator](#build-and-deploy-your-operator)\n6. [Test Your Operator](#test-your-operator)\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create a new Pepr Module\n\n**[🟢⚪⚪⚪⚪⚪] Step 1 of 6**\n\nFirst, create a new Pepr module for your operator:\n\n\n```bash\nnpx pepr init \\\n  --name operator \\\n  --uuid my-operator-uuid \\\n  --description \"Kubernetes Controller for WebApp Resources\" \\\n  --error-behavior reject \\\n  --yes &&\ncd operator # set working directory as the new pepr module\n```\n\n\nTo track your progress in this tutorial, let's treat it as a `git` repository:\n\n```bash\ngit init && git add --all && git commit -m \"npx pepr init\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create CRD\n\n**[🟢🟢⚪⚪⚪⚪] Step 2 of 6**\n\nThe WebApp Custom Resource Definition (CRD) specifies the structure and validation for your custom resource.\nCreate the necessary directory structure:\n\n\n```bash\nmkdir -p capabilities/crd/generated capabilities/crd/source\n```\n\n\nGenerate a class based on the WebApp CRD using [kubernetes-fluent-client](https://github.com/defenseunicorns/kubernetes-fluent-client).\nThis allows us to react to the CRD fields in a type-safe manner.\nCreate a CRD named `crd.yaml` for the WebApp that includes:\n\n- Theme selection (dark/light)\n- Language selection (en/es)\n- Configurable replica count\n- Status tracking\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/crd.yaml \\\n  -o capabilities/crd/source/crd.yaml\n```\n\n\nExamine the contents of `capabilities/crd/source/crd.yaml`.\nNote that the status should be listed under `subresources` to make it writable.\nWe provide descriptions for each property to clarify their purpose.\nEnums are used to restrict the values that can be assigned to a property.\n\nCreate an interface for the CRD spec with the following command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/generated/webapp-v1alpha1.ts \\\n  -o capabilities/crd/generated/webapp-v1alpha1.ts\n```\n\n\nExamine the contents of `capabilities/crd/generated/webapp-v1alpha1.ts`.\n\nCreate a TypeScript file that contains the WebApp CRD named `webapp.crd.ts`.\nThis will enable the controller to automatically create the CRD on startup.\nUse the command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/webapp.crd.ts \\\n  -o capabilities/crd/source/webapp.crd.ts\n```\n\n\nTake a moment to commit your changes for CRD creation:\n\n```bash\ngit add capabilities/crd/ && git commit -m \"Create WebApp CRD\"\n```\n\nThe `webapp.crd.ts` file defines the structure of our CRD, including the validation rules and schema that Kubernetes will use when WebApp resources are created or modified.\n\nCreate a file that will automatically register the CRD on startup named `capabilities/crd/register.ts`:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/register.ts \\\n  -o capabilities/crd/register.ts\n```\n\n\nThe `register.ts` file contains logic to ensure our CRD is created in the cluster when the operator starts up, avoiding the need for manual CRD installation.\n\nCreate a file to validate that WebApp instances are in valid namespaces and have a maximum of `7` replicas.\nCreate a `validator.ts` file with the command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/validator.ts \\\n  -o capabilities/crd/validator.ts\n```\n\n\nThe `validator.ts` file implements validation logic for our WebApp resources, ensuring they meet our requirements before they're accepted by the cluster.\n\nIn this section, we've generated the CRD class for WebApp, created a function to automatically register the CRD, and added a validator to ensure WebApp instances are in valid namespaces and don't exceed 7 replicas.\n\nCommit your changes for CRD registration & validation:\n\n```bash\ngit add capabilities/crd/ && git commit -m \"Create CRD handling logic\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create Helpers\n\n**[🟢🟢🟢⚪⚪⚪] Step 3 of 6**\n\nNow, let's create helper functions that will generate the Kubernetes resources managed by our operator. These helpers will simplify the creation of Deployments, Services, and ConfigMaps for each WebApp instance.\n\nCreate a `controller` folder in the `capabilities` folder and create a `generators.ts` file. This file will contain functions that generate Kubernetes objects for the operator to deploy (with the ownerReferences automatically included). Since these resources are owned by the WebApp resource, they will be deleted when the WebApp resource is deleted.\n\n\n```bash\nmkdir -p capabilities/controller\n```\n\n\nCreate `generators.ts` with the following command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/controller/generators.ts \\\n  -o capabilities/controller/generators.ts\n```\n\n\nThe `generators.ts` file contains functions to create all the necessary Kubernetes resources for our WebApp, including properly configured Deployments, Services, and ConfigMaps with appropriate labels and selectors.\n\nOur goal is to simplify WebApp deployment. Instead of requiring users to manage multiple Kubernetes objects, track versions, and handle revisions manually, they can focus solely on the `WebApp` instance. The controller reconciles WebApp instances against the actual cluster state to achieve the desired configuration.\n\nThe controller deploys a `ConfigMap` based on the language and theme specified in the WebApp resource and sets the number of replicas according to the WebApp specification.\n\nCommit your changes for deployment, service, and configmap generation:\n\n```bash\ngit add capabilities/controller/ && git commit -m \"Add generators for WebApp deployments, services, and configmaps\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create Reconciler\n\n**[🟢🟢🟢🟢⚪⚪] Step 4 of 6**\n\nNow, create the function that reacts to changes in WebApp instances. This function will be called and placed into a queue, guaranteeing ordered and synchronous processing of events, even when the system is under heavy load.\n\nIn the base of the `capabilities` folder, create a `reconciler.ts` file and add the following:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/reconciler.ts \\\n  -o capabilities/reconciler.ts\n```\n\n\nThe `reconciler.ts` file contains the core logic of our operator, handling the creation, updating, and deletion of WebApp resources and ensuring the cluster state matches the desired state.\n\nFinally, create the `index.ts` file in the `capabilities` folder and add the following:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/index.ts \\\n  -o capabilities/index.ts\n```\n\n\nThe `index.ts` file contains the WebAppController capability and the functions that are used to watch for changes to the WebApp resource and corresponding Kubernetes resources.\n\n- When a WebApp is created or updated, validate it, store the name of the instance and enqueue it for processing.\n- If an \"owned\" resource (ConfigMap, Service, or Deployment) is deleted, redeploy it.\n- Always redeploy the WebApp CRD if it was deleted as the controller depends on it\n\nIn this section we created a `reconciler.ts` file that contains the function responsible for reconciling the state of WebApp instances with the cluster and updating their status.\nThe `index.ts` file contains the WebAppController capability and functions that watch for changes to WebApp resources and their corresponding Kubernetes objects.\nThe `Reconcile` action processes callbacks in a queue, guaranteeing ordered and synchronous processing of events.\n\nCommit your changes with:\n\n```bash\ngit add capabilities/ && git commit -m \"Create reconciler for webapps\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Add capability to Pepr Module\n\nEnsure that the PeprModule in `pepr.ts` uses `WebAppController`. The implementation should look something like this:\n\n```typescript\nnew PeprModule(cfg, [WebAppController]);\n```\n\nUsing `sed`, replace the contents of the file to use our new `WebAppController`:\n\n\n```bash\n# Use the WebAppController Module\nsed -i '' -e '/new PeprModule(cfg, \\[/,/\\]);/c\\\nnew PeprModule(cfg, [WebAppController]);' ./pepr.ts\n\n# Update Imports\nif [[ \"$OSTYPE\" == \"darwin\"* ]]; then\n  sed -i '' 's|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|' ./pepr.ts\nelse\n  sed -i 's|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|' ./pepr.ts\nfi\n```\n\n\nCommit your changes now that the WebAppController is part of the Pepr Module:\n\n```bash\ngit add pepr.ts && git commit -m \"Register WebAppController with pepr module\"\n```\n\n## Build and Deploy Your Operator\n\n**[🟢🟢🟢🟢🟢⚪] Step 5 of 6**\n\n### Preparing Your Environment\n\nCreate an ephemeral cluster with `k3d`.\n\n```bash\nk3d cluster delete pepr-dev &&\nk3d cluster create pepr-dev --k3s-arg '--debug@server:0' --wait &&\nkubectl rollout status deployment -n kube-system\n```\n\n**What is an ephemeral cluster?**  \nAn ephemeral cluster is a temporary Kubernetes cluster that exists only for testing purposes. Tools like Kind (Kubernetes in Docker) and k3d let you quickly create and destroy clusters without affecting your production environments.\n\n### Update and Prepare Pepr\n\nMake sure Pepr is updated to the latest version:\n\n```bash\nnpx pepr update --skip-template-update\n```\n\n:::caution\nBe cautious when updating Pepr in an existing project as it could potentially override custom configurations. The `--skip-template-update` flag helps prevent this.\n:::\n\n### Building the Operator\n\nBuild the Pepr module by running:\n\n\n```bash\nnpx pepr format && \nnpx pepr build\n```\n\n\nCommit your changes after the build completes:\n\n```bash\ngit add capabilities/ package*.json && git commit -m \"Build pepr module\"\n```\n\n**The build process explained**  \n\nThe `pepr build` command performs three critical steps:\n\n1. **Compile TypeScript**: Converts your TypeScript code to JavaScript using the settings in tsconfig.json\n2. **Bundle the Operator**: Packages everything into a deployable format using esbuild\n3. **Generate Kubernetes Manifests**: Creates all necessary YAML files in the `dist` directory, including:\n   - Custom Resource Definitions (CRDs)\n   - The controller deployment\n   - ServiceAccounts and RBAC permissions\n   - Any other resources needed for your operator\n\nThis process creates a self-contained deployment unit that includes everything needed to run your operator in a Kubernetes cluster.\n\n```text\n┌─────────────────────┐          ┌──────────────────┐          ┌───────────────────┐\n│                     │          │                  │          │                   │\n│  Your Pepr Code     │────────▶ │  pepr build      │────────▶ │ dist/             │\n│  (TypeScript)       │          │  (Build Process) │          │(Deployment Files) │\n│                     │          │                  │          │                   │\n└─────────────────────┘          └──────────────────┘          └───────────────────┘\n                                                                        │\n                                                                        │\n                                                                        ▼\n                                                               ┌───────────────────┐\n                                                               │                   │\n                                                               │  Kubernetes       │\n                                                               │  Cluster          │\n                                                               │                   │\n                                                               └───────────────────┘\n```\n\n### Deploy to Kubernetes\n\nTo deploy your operator to a Kubernetes cluster:\n\n\n```bash\nkubectl apply -f dist/pepr-module-my-operator-uuid.yaml;\n# Wait for pods to have a status so we can check for readiness\nsleep 10; \nkubectl wait --for=condition=Ready pods -l app -n pepr-system --timeout=120s\n```\n\n\n**What's happening during deployment?**  \n\n1. The first command applies all the Kubernetes resources defined in the YAML file, including:\n   - The WebApp CRD (Custom Resource Definition)\n   - A Deployment that runs your operator code\n   - The necessary RBAC permissions for your operator to function\n\n2. The second command waits for the operator pod to be ready before proceeding. This ensures your operator is running before you attempt to create WebApp resources.\n\n#### Troubleshooting Deployment Issues\n\n**Troubleshooting operator startup problems**  \n\nIf your operator doesn't start properly, check these common issues:\n\n1. **Check pod logs**:\n  \n   ```bash\n   kubectl logs -n pepr-system -l app --tail=100\n   ```\n\n2. **Verify permissions**:\n\n   ```bash\n   kubectl describe deployment -n pepr-system\n   ```\n\n   Look for permission-related errors in the events section.\n\nVerify the deployment was successful by checking if the CRD has been properly registered:\n\n\n```bash\n# Wait for crd to be registered\nsleep 10;\nkubectl get crd | grep webapp\n```\n\n\nYou should see `webapps.pepr.io` in the output, which confirms your Custom Resource Definition was created successfully.\n\n#### Understanding the WebApp Resource\n\nYou can use `kubectl explain` to see the structure of your custom resource.\nIt may take a moment for the cluster to recognize this resource before the following command will work:\n\n\n```bash\n# This command takes a lot of time to succeed the first time after CRD creation\nuntil kubectl explain wa.spec >/dev/null 2>&1; do\n  sleep 2;\ndone\n\nkubectl explain wa.spec\n```\n\n\nExpected Output:\n\n```text\nGROUP:      pepr.io\nKIND:       WebApp\nVERSION:    v1alpha1\n\nFIELD: spec \u003CObject>\n\nDESCRIPTION:\n    \u003Cempty>\nFIELDS:\n  language      \u003Cstring> -required-\n    Language defines the language of the web application, either English (en) or\n    Spanish (es).\n\n  replicas      \u003Cinteger> -required-\n    Replicas is the number of desired replicas.\n\n  theme \u003Cstring> -required-\n    Theme defines the theme of the web application, either dark or light.\n```\n\n:::note\n`wa` is the short form of `webapp` that kubectl recognizes. This resource structure directly matches the TypeScript interface we defined earlier in our code.\n:::\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Test Your Operator\n\n**[🟢🟢🟢🟢🟢🟢] Step 6 of 6**\n\n**Understanding reconciliation**  \n\nReconciliation is the core concept behind Kubernetes operators. It's the process of:\n\n1. Observing the current state of resources in the cluster\n2. Comparing it to the desired state (defined in your custom resource)\n3. Taking actions to align the actual state with the desired state\n\nThis continuous loop ensures your application maintains its expected configuration even when disruptions occur.\n\n```text\n┌───────────────────┐\n│                   │\n│  Custom Resource  │◄────────────┐\n│  (WebApp)         │             │\n│                   │             │\n└───────┬───────────┘             │\n        │                         │\n        │ Observe                 │\n        ▼                         │\n┌───────────────────┐    ┌────────────────┐\n│                   │    │                │\n│  Pepr Operator    │───►│  Reconcile     │\n│  Controller       │    │  (Take Action) │\n│                   │    │                │\n└───────┬───────────┘    └────────────────┘\n        │                         ▲\n        │ Create/Update           │\n        ▼                         │\n┌───────────────────┐             │\n│  Owned Resources  │─────────────┘\n│  • ConfigMap      │ If deleted or\n│  • Service        │ changed, trigger\n│  • Deployment     │ reconciliation\n└───────────────────┘\n```\n\n### Creating a WebApp Instance\n\nLet's create an instance of our custom `WebApp` resource in English with a light theme and 1 replicas:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-light-en.yaml \\\n  -o webapp-light-en.yaml\n```\n\n\nExamine the contents of `webapp-light-en.yaml`. It defines a WebApp with English language, light theme, and 1 replica.\n\nNext, apply it to the cluster:\n\n\n```bash\nkubectl create namespace webapps &&\nkubectl apply -f webapp-light-en.yaml\n```\n\n\n**How resource creation works**  \n\n1. Kubernetes API server receives the WebApp resource\n2. Our operator's controller (in `index.ts`) detects the new resource via its reconcile function\n3. The controller validates the WebApp using our validator\n4. The reconcile function creates three \"owned\" resources:\n   - A ConfigMap with HTML content based on the theme and language\n   - A Service to expose the web application\n   - A Deployment to run the web server pods with the specified number of replicas\n5. The status is updated to track progress\n\nAll this logic is in the code we wrote earlier in the tutorial.\n\n### Verifying Resource Creation\n\nNow, verify that the WebApp and its owned resources were created properly:\n\n\n```bash\nkubectl get cm,svc,deploy,webapp -n webapps\n```\n\n\nExpected Output:\n\n```bash\nNAME                                    DATA   AGE\nconfigmap/kube-root-ca.crt              1      6s\nconfigmap/web-content-webapp-light-en   1      5s\n\nNAME                      TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE\nservice/webapp-light-en   ClusterIP   10.43.85.1   \u003Cnone>        80/TCP    5s\n\nNAME                              READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/webapp-light-en   1/1     1            1           5s\n```\n\n> 💡 **Tip**: Our operator created three resources based on our single WebApp definition - this is the power of operators in action!\n\n### Checking WebApp Status\n\nThe status field is how our operator communicates the current state of the WebApp:\n\n\n```bash\nkubectl get wa webapp-light-en -n webapps -ojsonpath=\"{.status}\" | jq\n```\n\n\nExpected Output:\n\n```json\n{\n  \"observedGeneration\": 1,\n  \"phase\": \"Ready\"\n}\n```\n\n**Understanding status fields**  \n\n- **observedGeneration**: A counter that increments each time the resource spec is changed\n- **phase**: The current lifecycle state of the WebApp (\"Pending\" during creation, \"Ready\" when all components are operational)\n\nThis status information comes from our reconciler code, which updates these fields during each reconciliation cycle.\n\nYou can also see events related to your WebApp that provide a timeline of actions taken by the operator:\n\n\n```bash\nkubectl describe wa webapp-light-en -n webapps\n```\n\n\nExpected Output:\n\n```text\nName:         webapp-light-en\nNamespace:    webapps\nAPI Version:  pepr.io/v1alpha1\nKind:         WebApp\nMetadata: ...\nSpec:\n  Language:  en\n  Replicas:  1\n  Theme:     light\nStatus:\n  Observed Generation:  1\n  Phase:                Ready\nEvents:\n  Type    Reason                    Age   From             Message\n  ----    ------                    ----  ----             -------\n  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Pending\n  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Ready\n```\n\n### Viewing Your WebApp\n\nTo access your WebApp in a browser, use port-forwarding to connect to the service.\nThe following command runs the port-forward in the background.\nBe sure to make note of the `Port-forward PID` for later when we tear down the test environment.\n\n```bash\nkubectl port-forward svc/webapp-light-en -n webapps 3000:80 &\nPID=$!\necho \"Port-forward PID: $PID\"\n```\n\n**About port-forwarding**  \n\nPort-forwarding creates a secure tunnel from your local machine to a pod or service in your Kubernetes cluster. In this case, we're forwarding your local port 3000 to port 80 of the WebApp service, allowing you to access the application at \u003Chttp://localhost:3000> in your browser.\n\nNow open [http://localhost:3000](http://localhost:3000) in your browser or run `curl http://localhost:3000` to see the response in a terminal.\nThe browser should display a light theme web application:\n\n![WebApp Light Theme](/assets/light.png)\n\n### Testing the Reconciliation Loop\n\nA key feature of operators is their ability to automatically repair resources when they're deleted or changed. Let's test this by deleting the ConfigMap:\n\n\n```bash\nkubectl delete cm -n webapps --all &&\nsleep 10 && \nkubectl get cm -n webapps \n```\n\n\nExpected output:\n\n```text\nconfigmap \"kube-root-ca.crt\" deleted\nconfigmap \"web-content-webapp-light-en\" deleted\nNAME                          DATA   AGE\nkube-root-ca.crt              1      0s\nweb-content-webapp-light-en   1      0s\n```\n\nNow that we've successfully deployed a WebApp, commit your changes:\n\n```bash\ngit add webapp-light-en.yaml && git commit -m \"Add WebApp resource for light mode in english\"\n```\n\n**Behind the scenes of reconciliation**  \n\n1. When you deleted the ConfigMap, Kubernetes sent a DELETE event\n2. Our operator (in `index.ts`) was watching for these events via the `onDeleteOwnedResource` handler\n3. This triggered the reconciliation loop, which detected that the ConfigMap was missing\n4. The reconciler recreated the ConfigMap based on the WebApp definition\n5. This all happened automatically without manual intervention - the core benefit of using an operator!\n\n> 🛠️ **Try it yourself**: Try deleting the Service or Deployment. What happens? The operator should recreate those too!\n\n### Updating the WebApp\n\nNow let's test changing the WebApp's specification.\nCopy down the next WebApp resource with the following command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-dark-es.yaml \\\n  -o webapp-dark-es.yaml\n```\n\n\nCompare the contents of `webapp-light-en.yaml` and `webapp-dark-es.yaml` with the command:\n\n```bash\ndiff --side-by-side \\\n  webapp-light-en.yaml \\\n  webapp-dark-es.yaml\n```\n\n\n```bash\nkubectl apply -f webapp-dark-es.yaml \n```\n\n\n:::note\nWe've changed the theme from light to dark and the language from English (en) to Spanish (es).\n:::\n\nYour port-forward should still be active, so you can refresh your browser to see the changes.\nIf your port-forward is no longer active for some reason, create a new one:\n\n```bash\n# Only needed if previous port-forward closed\nkubectl port-forward svc/webapp-light-en -n webapps 3000:80 &\nPID=$!\necho \"Port-forward PID: $PID\"\n```\n\nNow open [http://localhost:3000](http://localhost:3000) in your browser or run `curl http://localhost:3000` to see the response in a terminal.\nThe browser should display a dark theme web application:\n\n![WebApp Dark Theme](/assets/dark.png)\n\nNow that we've successfully updated a WebApp, commit your changes:\n\n```bash\ngit add webapp-dark-es.yaml && git commit -m \"Update WebApp resource for dark mode in spanish\"\n```\n\n**How updating works**  \n\n1. When you apply the changed WebApp, Kubernetes sends an UPDATE event\n2. Our operator's controller (in `index.ts`) detects this via the `onUpdate` handler\n3. The updated spec is validated and then queued for reconciliation\n4. The reconciler compares the current resources with what's needed for the new spec\n5. It updates the ConfigMap with the new theme and language content\n6. The Deployment automatically detects the ConfigMap change and restarts the pod with the new content\n\n### Cleanup\n\nWhen you're done testing, you can delete your WebApp and verify that all owned resources are removed:\n\n```bash\nkill $PID && # Close port-forward\nkubectl delete wa -n webapps --all && \nsleep 5 &&\nkubectl get cm,deploy,svc -n webapps\n```\n\nYou can also delete the entire test cluster when you're finished:\n\n```bash\nk3d cluster delete pepr-dev\n```\n\n## Congratulations\n\nYou've successfully built a Kubernetes operator using Pepr. Through this tutorial, you:\n\n1. Created a custom resource definition (CRD) for WebApps\n2. Implemented a controller with reconciliation logic\n3. Added validation for your custom resources\n4. Deployed your operator to a Kubernetes cluster\n5. Verified that your operator correctly manages the lifecycle of WebApp resources\n\nThis pattern is powerful for creating self-managing applications in Kubernetes. Your operator now handles the complex task of maintaining your application's state according to your specifications, reducing the need for manual intervention.\n\n### What You've Learned\n\nBy completing this tutorial, you've gained experience with several important concepts:\n\n- **Custom Resource Definitions (CRDs)**: You defined a structured, validated schema for your WebApp resources\n- **Reconciliation**: You implemented the core operator pattern that maintains desired state\n- **Owner References**: You used Kubernetes ownership to manage resource lifecycles\n- **Status Reporting**: Your operator provides feedback about resource state through status fields\n- **Watch Patterns**: Your operator reacts to changes in both custom and standard Kubernetes resources\n\nThese concepts form the foundation of the operator pattern and can be applied to manage any application or service on Kubernetes.\n\n### Next Steps\n\nNow that you understand the basics of building an operator with Pepr, you might want to:\n\n- Add more sophisticated validation logic\n- Implement status conditions that provide detailed health information\n- Add support for upgrading between versions of your application\n- Explore more complex reconciliation patterns for multi-component applications\n- Add metrics and monitoring to your operator\n\nFor more information, check out:\n\n- [Pepr Documentation](https://docs.pepr.dev)\n- [Kubernetes Operator Best Practices](https://kubernetes.io/docs/concepts/extend-kubernetes/operator/)\n- [Custom Resource Definition Documentation](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/)\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)","src/content/docs/tutorials/create-pepr-operator.md","15c01a5c85bb2333",{"html":810,"metadata":811},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial guides you through building a Kubernetes Operator using Pepr. You’ll create a WebApp Operator that manages custom WebApp resources in your Kubernetes cluster.\u003C/p>\n\u003Cp>If you get stuck at any point, you can reference the \u003Ca href=\"https://github.com/defenseunicorns/pepr-excellent-examples/tree/main/pepr-operator\">complete example code in the Pepr Excellent Examples repository\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-youll-build\">What You’ll Build\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-youll-build\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What You’ll Build”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The WebApp Operator will:\u003C/p>\n\u003Col>\n\u003Cli>Deploy a custom \u003Ccode dir=\"auto\">WebApp\u003C/code> resource definition (CRD)\u003C/li>\n\u003Cli>Watch for WebApp instances and reconcile them with the actual cluster state\u003C/li>\n\u003Cli>For each WebApp instance, manage:\n\u003Cul>\n\u003Cli>A \u003Ccode dir=\"auto\">Deployment\u003C/code> with configurable replicas\u003C/li>\n\u003Cli>A \u003Ccode dir=\"auto\">Service\u003C/code> to expose the application\u003C/li>\n\u003Cli>A \u003Ccode dir=\"auto\">ConfigMap\u003C/code> containing configurable HTML with language and theme options\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ol>\n\u003Cp>All resources will include \u003Ccode dir=\"auto\">ownerReferences\u003C/code>, triggering cascading deletion when a WebApp is removed. The operator will also automatically restore any managed resources that are deleted externally.\u003C/p>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prerequisites\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prerequisites”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>A Kubernetes cluster (local or remote)\u003C/li>\n\u003Cli>Access to the \u003Ccode dir=\"auto\">curl\u003C/code> command\u003C/li>\n\u003Cli>Basic understanding of Kubernetes concepts\u003C/li>\n\u003Cli>Familiarity with TypeScript\u003C/li>\n\u003Cli>Node.js ≥ 20.0\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"tutorial-steps\">Tutorial Steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#tutorial-steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Tutorial Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\u003Ca href=\"#create-a-new-pepr-module\">Create a new Pepr Module\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#create-crd\">Define the WebApp CRD\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#create-helpers\">Create Helper Functions\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#create-reconciler\">Implement the Reconciler\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#build-and-deploy-your-operator\">Build and Deploy Your Operator\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#test-your-operator\">Test Your Operator\u003C/a>\u003C/li>\n\u003C/ol>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-a-new-pepr-module\">Create a new Pepr Module\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-a-new-pepr-module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create a new Pepr Module”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢⚪⚪⚪⚪⚪] Step 1 of 6\u003C/strong>\u003C/p>\n\u003Cp>First, create a new Pepr module for your operator:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">operator\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--uuid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">my-operator-uuid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--description\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Kubernetes Controller for WebApp Resources\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--error-behavior\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">reject\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--yes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">cd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">operator\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># set working directory as the new pepr module\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr init \\  --name operator \\  --uuid my-operator-uuid \\  --description &#x22;Kubernetes Controller for WebApp Resources&#x22; \\  --error-behavior reject \\  --yes &#x26;&#x26;cd operator # set working directory as the new pepr module\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>To track your progress in this tutorial, let’s treat it as a \u003Ccode dir=\"auto\">git\u003C/code> repository:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--all\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">npx pepr init\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git init &#x26;&#x26; git add --all &#x26;&#x26; git commit -m &#x22;npx pepr init&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-crd\">Create CRD\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-crd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create CRD”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢⚪⚪⚪⚪] Step 2 of 6\u003C/strong>\u003C/p>\n\u003Cp>The WebApp Custom Resource Definition (CRD) specifies the structure and validation for your custom resource.\nCreate the necessary directory structure:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">mkdir\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-p\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/generated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/source\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"mkdir -p capabilities/crd/generated capabilities/crd/source\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Generate a class based on the WebApp CRD using \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">kubernetes-fluent-client\u003C/a>.\nThis allows us to react to the CRD fields in a type-safe manner.\nCreate a CRD named \u003Ccode dir=\"auto\">crd.yaml\u003C/code> for the WebApp that includes:\u003C/p>\n\u003Cul>\n\u003Cli>Theme selection (dark/light)\u003C/li>\n\u003Cli>Language selection (en/es)\u003C/li>\n\u003Cli>Configurable replica count\u003C/li>\n\u003Cli>Status tracking\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/crd.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/source/crd.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/crd.yaml \\  -o capabilities/crd/source/crd.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Examine the contents of \u003Ccode dir=\"auto\">capabilities/crd/source/crd.yaml\u003C/code>.\nNote that the status should be listed under \u003Ccode dir=\"auto\">subresources\u003C/code> to make it writable.\nWe provide descriptions for each property to clarify their purpose.\nEnums are used to restrict the values that can be assigned to a property.\u003C/p>\n\u003Cp>Create an interface for the CRD spec with the following command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/generated/webapp-v1alpha1.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/generated/webapp-v1alpha1.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/generated/webapp-v1alpha1.ts \\  -o capabilities/crd/generated/webapp-v1alpha1.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Examine the contents of \u003Ccode dir=\"auto\">capabilities/crd/generated/webapp-v1alpha1.ts\u003C/code>.\u003C/p>\n\u003Cp>Create a TypeScript file that contains the WebApp CRD named \u003Ccode dir=\"auto\">webapp.crd.ts\u003C/code>.\nThis will enable the controller to automatically create the CRD on startup.\nUse the command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/webapp.crd.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/source/webapp.crd.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/webapp.crd.ts \\  -o capabilities/crd/source/webapp.crd.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Take a moment to commit your changes for CRD creation:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Create WebApp CRD\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/crd/ &#x26;&#x26; git commit -m &#x22;Create WebApp CRD&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">webapp.crd.ts\u003C/code> file defines the structure of our CRD, including the validation rules and schema that Kubernetes will use when WebApp resources are created or modified.\u003C/p>\n\u003Cp>Create a file that will automatically register the CRD on startup named \u003Ccode dir=\"auto\">capabilities/crd/register.ts\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/register.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/register.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/register.ts \\  -o capabilities/crd/register.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">register.ts\u003C/code> file contains logic to ensure our CRD is created in the cluster when the operator starts up, avoiding the need for manual CRD installation.\u003C/p>\n\u003Cp>Create a file to validate that WebApp instances are in valid namespaces and have a maximum of \u003Ccode dir=\"auto\">7\u003C/code> replicas.\nCreate a \u003Ccode dir=\"auto\">validator.ts\u003C/code> file with the command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/validator.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/validator.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/validator.ts \\  -o capabilities/crd/validator.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">validator.ts\u003C/code> file implements validation logic for our WebApp resources, ensuring they meet our requirements before they’re accepted by the cluster.\u003C/p>\n\u003Cp>In this section, we’ve generated the CRD class for WebApp, created a function to automatically register the CRD, and added a validator to ensure WebApp instances are in valid namespaces and don’t exceed 7 replicas.\u003C/p>\n\u003Cp>Commit your changes for CRD registration &#x26; validation:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Create CRD handling logic\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/crd/ &#x26;&#x26; git commit -m &#x22;Create CRD handling logic&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-helpers\">Create Helpers\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-helpers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create Helpers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢⚪⚪⚪] Step 3 of 6\u003C/strong>\u003C/p>\n\u003Cp>Now, let’s create helper functions that will generate the Kubernetes resources managed by our operator. These helpers will simplify the creation of Deployments, Services, and ConfigMaps for each WebApp instance.\u003C/p>\n\u003Cp>Create a \u003Ccode dir=\"auto\">controller\u003C/code> folder in the \u003Ccode dir=\"auto\">capabilities\u003C/code> folder and create a \u003Ccode dir=\"auto\">generators.ts\u003C/code> file. This file will contain functions that generate Kubernetes objects for the operator to deploy (with the ownerReferences automatically included). Since these resources are owned by the WebApp resource, they will be deleted when the WebApp resource is deleted.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">mkdir\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-p\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/controller\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"mkdir -p capabilities/controller\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Create \u003Ccode dir=\"auto\">generators.ts\u003C/code> with the following command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/controller/generators.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/controller/generators.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/controller/generators.ts \\  -o capabilities/controller/generators.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">generators.ts\u003C/code> file contains functions to create all the necessary Kubernetes resources for our WebApp, including properly configured Deployments, Services, and ConfigMaps with appropriate labels and selectors.\u003C/p>\n\u003Cp>Our goal is to simplify WebApp deployment. Instead of requiring users to manage multiple Kubernetes objects, track versions, and handle revisions manually, they can focus solely on the \u003Ccode dir=\"auto\">WebApp\u003C/code> instance. The controller reconciles WebApp instances against the actual cluster state to achieve the desired configuration.\u003C/p>\n\u003Cp>The controller deploys a \u003Ccode dir=\"auto\">ConfigMap\u003C/code> based on the language and theme specified in the WebApp resource and sets the number of replicas according to the WebApp specification.\u003C/p>\n\u003Cp>Commit your changes for deployment, service, and configmap generation:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/controller/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Add generators for WebApp deployments, services, and configmaps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/controller/ &#x26;&#x26; git commit -m &#x22;Add generators for WebApp deployments, services, and configmaps&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-reconciler\">Create Reconciler\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-reconciler\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create Reconciler”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢🟢⚪⚪] Step 4 of 6\u003C/strong>\u003C/p>\n\u003Cp>Now, create the function that reacts to changes in WebApp instances. This function will be called and placed into a queue, guaranteeing ordered and synchronous processing of events, even when the system is under heavy load.\u003C/p>\n\u003Cp>In the base of the \u003Ccode dir=\"auto\">capabilities\u003C/code> folder, create a \u003Ccode dir=\"auto\">reconciler.ts\u003C/code> file and add the following:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/reconciler.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/reconciler.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/reconciler.ts \\  -o capabilities/reconciler.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">reconciler.ts\u003C/code> file contains the core logic of our operator, handling the creation, updating, and deletion of WebApp resources and ensuring the cluster state matches the desired state.\u003C/p>\n\u003Cp>Finally, create the \u003Ccode dir=\"auto\">index.ts\u003C/code> file in the \u003Ccode dir=\"auto\">capabilities\u003C/code> folder and add the following:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/index.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/index.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/index.ts \\  -o capabilities/index.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">index.ts\u003C/code> file contains the WebAppController capability and the functions that are used to watch for changes to the WebApp resource and corresponding Kubernetes resources.\u003C/p>\n\u003Cul>\n\u003Cli>When a WebApp is created or updated, validate it, store the name of the instance and enqueue it for processing.\u003C/li>\n\u003Cli>If an “owned” resource (ConfigMap, Service, or Deployment) is deleted, redeploy it.\u003C/li>\n\u003Cli>Always redeploy the WebApp CRD if it was deleted as the controller depends on it\u003C/li>\n\u003C/ul>\n\u003Cp>In this section we created a \u003Ccode dir=\"auto\">reconciler.ts\u003C/code> file that contains the function responsible for reconciling the state of WebApp instances with the cluster and updating their status.\nThe \u003Ccode dir=\"auto\">index.ts\u003C/code> file contains the WebAppController capability and functions that watch for changes to WebApp resources and their corresponding Kubernetes objects.\nThe \u003Ccode dir=\"auto\">Reconcile\u003C/code> action processes callbacks in a queue, guaranteeing ordered and synchronous processing of events.\u003C/p>\n\u003Cp>Commit your changes with:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Create reconciler for webapps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/ &#x26;&#x26; git commit -m &#x22;Create reconciler for webapps&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"add-capability-to-pepr-module\">Add capability to Pepr Module\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#add-capability-to-pepr-module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Add capability to Pepr Module”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Ensure that the PeprModule in \u003Ccode dir=\"auto\">pepr.ts\u003C/code> uses \u003Ccode dir=\"auto\">WebAppController\u003C/code>. The implementation should look something like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PeprModule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cfg, [WebAppController]);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"new PeprModule(cfg, [WebAppController]);\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Using \u003Ccode dir=\"auto\">sed\u003C/code>, replace the contents of the file to use our new \u003Ccode dir=\"auto\">WebAppController\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Use the WebAppController Module\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-e\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">/new PeprModule(cfg, \\[/,/\\]);/c\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">new PeprModule(cfg, [WebAppController]);\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">./pepr.ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Update Imports\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [[ \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$OSTYPE\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">darwin\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">*\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> ]]; \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">then\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">s|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">./pepr.ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">else\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">s|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">./pepr.ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">fi\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"sed -i &#x27;&#x27; -e &#x27;/new PeprModule(cfg, \\[/,/\\]);/c\\new PeprModule(cfg, [WebAppController]);&#x27; ./pepr.tsif [[ &#x22;$OSTYPE&#x22; == &#x22;darwin&#x22;* ]]; then  sed -i &#x27;&#x27; &#x27;s|import { HelloPepr } from &#x22;./capabilities/hello-pepr&#x22;;|import { WebAppController } from &#x22;./capabilities&#x22;;|&#x27; ./pepr.tselse  sed -i &#x27;s|import { HelloPepr } from &#x22;./capabilities/hello-pepr&#x22;;|import { WebAppController } from &#x22;./capabilities&#x22;;|&#x27; ./pepr.tsfi\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Commit your changes now that the WebAppController is part of the Pepr Module:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Register WebAppController with pepr module\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add pepr.ts &#x26;&#x26; git commit -m &#x22;Register WebAppController with pepr module&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"build-and-deploy-your-operator\">Build and Deploy Your Operator\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#build-and-deploy-your-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Build and Deploy Your Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢🟢🟢⚪] Step 5 of 6\u003C/strong>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"preparing-your-environment\">Preparing Your Environment\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#preparing-your-environment\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Preparing Your Environment”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create an ephemeral cluster with \u003Ccode dir=\"auto\">k3d\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--k3s-arg\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--debug@server:0\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--wait\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rollout\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">status\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deployment\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kube-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster delete pepr-dev &#x26;&#x26;k3d cluster create pepr-dev --k3s-arg &#x27;--debug@server:0&#x27; --wait &#x26;&#x26;kubectl rollout status deployment -n kube-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>What is an ephemeral cluster?\u003C/strong>\u003Cbr>\nAn ephemeral cluster is a temporary Kubernetes cluster that exists only for testing purposes. Tools like Kind (Kubernetes in Docker) and k3d let you quickly create and destroy clusters without affecting your production environments.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"update-and-prepare-pepr\">Update and Prepare Pepr\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#update-and-prepare-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Update and Prepare Pepr”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Make sure Pepr is updated to the latest version:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">update\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--skip-template-update\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr update --skip-template-update\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Caside aria-label=\"Caution\" class=\"starlight-aside starlight-aside--caution\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z\">\u003C/path>\u003C/svg>Caution\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>Be cautious when updating Pepr in an existing project as it could potentially override custom configurations. The \u003Ccode dir=\"auto\">--skip-template-update\u003C/code> flag helps prevent this.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"building-the-operator\">Building the Operator\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#building-the-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Building the Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Build the Pepr module by running:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">format\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr format &#x26;&#x26;npx pepr build\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Commit your changes after the build completes:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">package\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">*\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">.json\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Build pepr module\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/ package*.json &#x26;&#x26; git commit -m &#x22;Build pepr module&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>The build process explained\u003C/strong>\u003C/p>\n\u003Cp>The \u003Ccode dir=\"auto\">pepr build\u003C/code> command performs three critical steps:\u003C/p>\n\u003Col>\n\u003Cli>\u003Cstrong>Compile TypeScript\u003C/strong>: Converts your TypeScript code to JavaScript using the settings in tsconfig.json\u003C/li>\n\u003Cli>\u003Cstrong>Bundle the Operator\u003C/strong>: Packages everything into a deployable format using esbuild\u003C/li>\n\u003Cli>\u003Cstrong>Generate Kubernetes Manifests\u003C/strong>: Creates all necessary YAML files in the \u003Ccode dir=\"auto\">dist\u003C/code> directory, including:\n\u003Cul>\n\u003Cli>Custom Resource Definitions (CRDs)\u003C/li>\n\u003Cli>The controller deployment\u003C/li>\n\u003Cli>ServiceAccounts and RBAC permissions\u003C/li>\n\u003Cli>Any other resources needed for your operator\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ol>\n\u003Cp>This process creates a self-contained deployment unit that includes everything needed to run your operator in a Kubernetes cluster.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌─────────────────────┐          ┌──────────────────┐          ┌───────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                     │          │                  │          │                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Your Pepr Code     │────────▶ │  pepr build      │────────▶ │ dist/             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  (TypeScript)       │          │  (Build Process) │          │(Deployment Files) │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                     │          │                  │          │                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└─────────────────────┘          └──────────────────┘          └───────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                                        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                                        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                                        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">▼\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Kubernetes       │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Cluster          │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"┌─────────────────────┐          ┌──────────────────┐          ┌───────────────────┐│                     │          │                  │          │                   ││  Your Pepr Code     │────────▶ │  pepr build      │────────▶ │ dist/             ││  (TypeScript)       │          │  (Build Process) │          │(Deployment Files) ││                     │          │                  │          │                   │└─────────────────────┘          └──────────────────┘          └───────────────────┘                                                                        │                                                                        │                                                                        ▼                                                               ┌───────────────────┐                                                               │                   │                                                               │  Kubernetes       │                                                               │  Cluster          │                                                               │                   │                                                               └───────────────────┘\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"deploy-to-kubernetes\">Deploy to Kubernetes\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#deploy-to-kubernetes\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Deploy to Kubernetes”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To deploy your operator to a Kubernetes cluster:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dist/pepr-module-my-operator-uuid.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Wait for pods to have a status so we can check for readiness\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wait\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--for=condition=Ready\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pods\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--timeout=120s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl apply -f dist/pepr-module-my-operator-uuid.yaml;sleep 10;kubectl wait --for=condition=Ready pods -l app -n pepr-system --timeout=120s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>What’s happening during deployment?\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>The first command applies all the Kubernetes resources defined in the YAML file, including:\u003C/p>\n\u003Cul>\n\u003Cli>The WebApp CRD (Custom Resource Definition)\u003C/li>\n\u003Cli>A Deployment that runs your operator code\u003C/li>\n\u003Cli>The necessary RBAC permissions for your operator to function\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>The second command waits for the operator pod to be ready before proceeding. This ensures your operator is running before you attempt to create WebApp resources.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"troubleshooting-deployment-issues\">Troubleshooting Deployment Issues\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#troubleshooting-deployment-issues\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Troubleshooting Deployment Issues”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Troubleshooting operator startup problems\u003C/strong>\u003C/p>\n\u003Cp>If your operator doesn’t start properly, check these common issues:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Check pod logs\u003C/strong>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--tail=100\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -n pepr-system -l app --tail=100\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Verify permissions\u003C/strong>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">describe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deployment\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl describe deployment -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Look for permission-related errors in the events section.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp>Verify the deployment was successful by checking if the CRD has been properly registered:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Wait for crd to be registered\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">grep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"sleep 10;kubectl get crd | grep webapp\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You should see \u003Ccode dir=\"auto\">webapps.pepr.io\u003C/code> in the output, which confirms your Custom Resource Definition was created successfully.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"understanding-the-webapp-resource\">Understanding the WebApp Resource\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#understanding-the-webapp-resource\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Understanding the WebApp Resource”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can use \u003Ccode dir=\"auto\">kubectl explain\u003C/code> to see the structure of your custom resource.\nIt may take a moment for the cluster to recognize this resource before the following command will work:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># This command takes a lot of time to succeed the first time after CRD creation\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">until\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">explain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa.spec\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/dev/null\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">2>&#x26;1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">; \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">do\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">2\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">done\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">explain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa.spec\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"until kubectl explain wa.spec >/dev/null 2>&#x26;1; do  sleep 2;donekubectl explain wa.spec\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">GROUP:      pepr.io\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">KIND:       WebApp\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">VERSION:    v1alpha1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">FIELD: spec &#x3C;Object>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">DESCRIPTION:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">&#x3C;empty>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">FIELDS:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">language      &#x3C;string> -required-\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Language defines the language of the web application, either English (en) or\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Spanish (es).\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">replicas      &#x3C;integer> -required-\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Replicas is the number of desired replicas.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">theme &#x3C;string> -required-\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Theme defines the theme of the web application, either dark or light.\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"GROUP:      pepr.ioKIND:       WebAppVERSION:    v1alpha1FIELD: spec \u003CObject>DESCRIPTION:    \u003Cempty>FIELDS:  language      \u003Cstring> -required-    Language defines the language of the web application, either English (en) or    Spanish (es).  replicas      \u003Cinteger> -required-    Replicas is the number of desired replicas.  theme \u003Cstring> -required-    Theme defines the theme of the web application, either dark or light.\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>\u003Ccode dir=\"auto\">wa\u003C/code> is the short form of \u003Ccode dir=\"auto\">webapp\u003C/code> that kubectl recognizes. This resource structure directly matches the TypeScript interface we defined earlier in our code.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"test-your-operator\">Test Your Operator\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#test-your-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Test Your Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢🟢🟢🟢] Step 6 of 6\u003C/strong>\u003C/p>\n\u003Cp>\u003Cstrong>Understanding reconciliation\u003C/strong>\u003C/p>\n\u003Cp>Reconciliation is the core concept behind Kubernetes operators. It’s the process of:\u003C/p>\n\u003Col>\n\u003Cli>Observing the current state of resources in the cluster\u003C/li>\n\u003Cli>Comparing it to the desired state (defined in your custom resource)\u003C/li>\n\u003Cli>Taking actions to align the actual state with the desired state\u003C/li>\n\u003C/ol>\n\u003Cp>This continuous loop ensures your application maintains its expected configuration even when disruptions occur.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Custom Resource  │◄────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  (WebApp)         │             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────┬───────────┘             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                         │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│ Observe                 │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">▼                         │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐    ┌────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │    │                │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Pepr Operator    │───►│  Reconcile     │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Controller       │    │  (Take Action) │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │    │                │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────┬───────────┘    └────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                         ▲\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│ Create/Update           │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">▼                         │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Owned Resources  │─────────────┘\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  • ConfigMap      │ If deleted or\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  • Service        │ changed, trigger\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  • Deployment     │ reconciliation\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"┌───────────────────┐│                   ││  Custom Resource  │◄────────────┐│  (WebApp)         │             ││                   │             │└───────┬───────────┘             │        │                         │        │ Observe                 │        ▼                         │┌───────────────────┐    ┌────────────────┐│                   │    │                ││  Pepr Operator    │───►│  Reconcile     ││  Controller       │    │  (Take Action) ││                   │    │                │└───────┬───────────┘    └────────────────┘        │                         ▲        │ Create/Update           │        ▼                         │┌───────────────────┐             ││  Owned Resources  │─────────────┘│  • ConfigMap      │ If deleted or│  • Service        │ changed, trigger│  • Deployment     │ reconciliation└───────────────────┘\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"creating-a-webapp-instance\">Creating a WebApp Instance\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#creating-a-webapp-instance\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Creating a WebApp Instance”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Let’s create an instance of our custom \u003Ccode dir=\"auto\">WebApp\u003C/code> resource in English with a light theme and 1 replicas:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-light-en.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-light-en.yaml \\  -o webapp-light-en.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Examine the contents of \u003Ccode dir=\"auto\">webapp-light-en.yaml\u003C/code>. It defines a WebApp with English language, light theme, and 1 replica.\u003C/p>\n\u003Cp>Next, apply it to the cluster:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl create namespace webapps &#x26;&#x26;kubectl apply -f webapp-light-en.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>How resource creation works\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>Kubernetes API server receives the WebApp resource\u003C/li>\n\u003Cli>Our operator’s controller (in \u003Ccode dir=\"auto\">index.ts\u003C/code>) detects the new resource via its reconcile function\u003C/li>\n\u003Cli>The controller validates the WebApp using our validator\u003C/li>\n\u003Cli>The reconcile function creates three “owned” resources:\n\u003Cul>\n\u003Cli>A ConfigMap with HTML content based on the theme and language\u003C/li>\n\u003Cli>A Service to expose the web application\u003C/li>\n\u003Cli>A Deployment to run the web server pods with the specified number of replicas\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>The status is updated to track progress\u003C/li>\n\u003C/ol>\n\u003Cp>All this logic is in the code we wrote earlier in the tutorial.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"verifying-resource-creation\">Verifying Resource Creation\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#verifying-resource-creation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Verifying Resource Creation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Now, verify that the WebApp and its owned resources were created properly:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm,svc,deploy,webapp\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get cm,svc,deploy,webapp -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                                    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">DATA\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">configmap/kube-root-ca.crt\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">              \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">6s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">configmap/web-content-webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">TYPE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">CLUSTER-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">EXTERNAL-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">PORT\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">S\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">service/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.85.1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">80/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                              \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">READY\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">UP-TO-DATE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AVAILABLE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">deployment.apps/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">1/1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">           \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"NAME                                    DATA   AGEconfigmap/kube-root-ca.crt              1      6sconfigmap/web-content-webapp-light-en   1      5sNAME                      TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGEservice/webapp-light-en   ClusterIP   10.43.85.1   \u003Cnone>        80/TCP    5sNAME                              READY   UP-TO-DATE   AVAILABLE   AGEdeployment.apps/webapp-light-en   1/1     1            1           5s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cblockquote>\n\u003Cp>💡 \u003Cstrong>Tip\u003C/strong>: Our operator created three resources based on our single WebApp definition - this is the power of operators in action!\u003C/p>\n\u003C/blockquote>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"checking-webapp-status\">Checking WebApp Status\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#checking-webapp-status\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Checking WebApp Status”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The status field is how our operator communicates the current state of the WebApp:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-ojsonpath=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{.status}\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">jq\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get wa webapp-light-en -n webapps -ojsonpath=&#x22;{.status}&#x22; | jq\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"observedGeneration\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"phase\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">Ready\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;observedGeneration&#x22;: 1,  &#x22;phase&#x22;: &#x22;Ready&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Understanding status fields\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>observedGeneration\u003C/strong>: A counter that increments each time the resource spec is changed\u003C/li>\n\u003Cli>\u003Cstrong>phase\u003C/strong>: The current lifecycle state of the WebApp (“Pending” during creation, “Ready” when all components are operational)\u003C/li>\n\u003C/ul>\n\u003Cp>This status information comes from our reconciler code, which updates these fields during each reconciliation cycle.\u003C/p>\n\u003Cp>You can also see events related to your WebApp that provide a timeline of actions taken by the operator:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">describe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl describe wa webapp-light-en -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Name:         webapp-light-en\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Namespace:    webapps\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">API Version:  pepr.io/v1alpha1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Kind:         WebApp\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Metadata: ...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Spec:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Language:  en\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Replicas:  1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Theme:     light\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Status:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Observed Generation:  1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Phase:                Ready\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Events:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Type    Reason                    Age   From             Message\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">----    ------                    ----  ----             -------\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Pending\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Ready\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Name:         webapp-light-enNamespace:    webappsAPI Version:  pepr.io/v1alpha1Kind:         WebAppMetadata: ...Spec:  Language:  en  Replicas:  1  Theme:     lightStatus:  Observed Generation:  1  Phase:                ReadyEvents:  Type    Reason                    Age   From             Message  ----    ------                    ----  ----             -------  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Pending  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Ready\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"viewing-your-webapp\">Viewing Your WebApp\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#viewing-your-webapp\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Viewing Your WebApp”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To access your WebApp in a browser, use port-forwarding to connect to the service.\nThe following command runs the port-forward in the background.\nBe sure to make note of the \u003Ccode dir=\"auto\">Port-forward PID\u003C/code> for later when we tear down the test environment.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">3000:80\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PID\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">$!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">echo\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Port-forward PID: \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$PID\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward svc/webapp-light-en -n webapps 3000:80 &#x26;PID=$!echo &#x22;Port-forward PID: $PID&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>About port-forwarding\u003C/strong>\u003C/p>\n\u003Cp>Port-forwarding creates a secure tunnel from your local machine to a pod or service in your Kubernetes cluster. In this case, we’re forwarding your local port 3000 to port 80 of the WebApp service, allowing you to access the application at \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser.\u003C/p>\n\u003Cp>Now open \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser or run \u003Ccode dir=\"auto\">curl http://localhost:3000\u003C/code> to see the response in a terminal.\nThe browser should display a light theme web application:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/light.png\" alt=\"WebApp Light Theme\">\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"testing-the-reconciliation-loop\">Testing the Reconciliation Loop\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#testing-the-reconciliation-loop\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Testing the Reconciliation Loop”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A key feature of operators is their ability to automatically repair resources when they’re deleted or changed. Let’s test this by deleting the ConfigMap:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--all\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl delete cm -n webapps --all &#x26;&#x26;sleep 10 &#x26;&#x26;kubectl get cm -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">configmap \"kube-root-ca.crt\" deleted\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">configmap \"web-content-webapp-light-en\" deleted\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">NAME                          DATA   AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">kube-root-ca.crt              1      0s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">web-content-webapp-light-en   1      0s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"configmap &#x22;kube-root-ca.crt&#x22; deletedconfigmap &#x22;web-content-webapp-light-en&#x22; deletedNAME                          DATA   AGEkube-root-ca.crt              1      0sweb-content-webapp-light-en   1      0s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now that we’ve successfully deployed a WebApp, commit your changes:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Add WebApp resource for light mode in english\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add webapp-light-en.yaml &#x26;&#x26; git commit -m &#x22;Add WebApp resource for light mode in english&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Behind the scenes of reconciliation\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>When you deleted the ConfigMap, Kubernetes sent a DELETE event\u003C/li>\n\u003Cli>Our operator (in \u003Ccode dir=\"auto\">index.ts\u003C/code>) was watching for these events via the \u003Ccode dir=\"auto\">onDeleteOwnedResource\u003C/code> handler\u003C/li>\n\u003Cli>This triggered the reconciliation loop, which detected that the ConfigMap was missing\u003C/li>\n\u003Cli>The reconciler recreated the ConfigMap based on the WebApp definition\u003C/li>\n\u003Cli>This all happened automatically without manual intervention - the core benefit of using an operator!\u003C/li>\n\u003C/ol>\n\u003Cblockquote>\n\u003Cp>🛠️ \u003Cstrong>Try it yourself\u003C/strong>: Try deleting the Service or Deployment. What happens? The operator should recreate those too!\u003C/p>\n\u003C/blockquote>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"updating-the-webapp\">Updating the WebApp\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#updating-the-webapp\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Updating the WebApp”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Now let’s test changing the WebApp’s specification.\nCopy down the next WebApp resource with the following command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-dark-es.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-dark-es.yaml \\  -o webapp-dark-es.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Compare the contents of \u003Ccode dir=\"auto\">webapp-light-en.yaml\u003C/code> and \u003Ccode dir=\"auto\">webapp-dark-es.yaml\u003C/code> with the command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">diff\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--side-by-side\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"diff --side-by-side \\  webapp-light-en.yaml \\  webapp-dark-es.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl apply -f webapp-dark-es.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>We’ve changed the theme from light to dark and the language from English (en) to Spanish (es).\u003C/p>\u003C/div>\u003C/aside>\n\u003Cp>Your port-forward should still be active, so you can refresh your browser to see the changes.\nIf your port-forward is no longer active for some reason, create a new one:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Only needed if previous port-forward closed\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">3000:80\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PID\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">$!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">echo\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Port-forward PID: \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$PID\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward svc/webapp-light-en -n webapps 3000:80 &#x26;PID=$!echo &#x22;Port-forward PID: $PID&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now open \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser or run \u003Ccode dir=\"auto\">curl http://localhost:3000\u003C/code> to see the response in a terminal.\nThe browser should display a dark theme web application:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/dark.png\" alt=\"WebApp Dark Theme\">\u003C/p>\n\u003Cp>Now that we’ve successfully updated a WebApp, commit your changes:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Update WebApp resource for dark mode in spanish\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add webapp-dark-es.yaml &#x26;&#x26; git commit -m &#x22;Update WebApp resource for dark mode in spanish&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>How updating works\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>When you apply the changed WebApp, Kubernetes sends an UPDATE event\u003C/li>\n\u003Cli>Our operator’s controller (in \u003Ccode dir=\"auto\">index.ts\u003C/code>) detects this via the \u003Ccode dir=\"auto\">onUpdate\u003C/code> handler\u003C/li>\n\u003Cli>The updated spec is validated and then queued for reconciliation\u003C/li>\n\u003Cli>The reconciler compares the current resources with what’s needed for the new spec\u003C/li>\n\u003Cli>It updates the ConfigMap with the new theme and language content\u003C/li>\n\u003Cli>The Deployment automatically detects the ConfigMap change and restarts the pod with the new content\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"cleanup\">Cleanup\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#cleanup\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Cleanup”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>When you’re done testing, you can delete your WebApp and verify that all owned resources are removed:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">kill\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$PID\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Close port-forward\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--all\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">5\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm,deploy,svc\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kill $PID &#x26;&#x26; # Close port-forwardkubectl delete wa -n webapps --all &#x26;&#x26;sleep 5 &#x26;&#x26;kubectl get cm,deploy,svc -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You can also delete the entire test cluster when you’re finished:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster delete pepr-dev\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"congratulations\">Congratulations\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#congratulations\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Congratulations”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You’ve successfully built a Kubernetes operator using Pepr. Through this tutorial, you:\u003C/p>\n\u003Col>\n\u003Cli>Created a custom resource definition (CRD) for WebApps\u003C/li>\n\u003Cli>Implemented a controller with reconciliation logic\u003C/li>\n\u003Cli>Added validation for your custom resources\u003C/li>\n\u003Cli>Deployed your operator to a Kubernetes cluster\u003C/li>\n\u003Cli>Verified that your operator correctly manages the lifecycle of WebApp resources\u003C/li>\n\u003C/ol>\n\u003Cp>This pattern is powerful for creating self-managing applications in Kubernetes. Your operator now handles the complex task of maintaining your application’s state according to your specifications, reducing the need for manual intervention.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"what-youve-learned\">What You’ve Learned\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#what-youve-learned\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What You’ve Learned”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By completing this tutorial, you’ve gained experience with several important concepts:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Custom Resource Definitions (CRDs)\u003C/strong>: You defined a structured, validated schema for your WebApp resources\u003C/li>\n\u003Cli>\u003Cstrong>Reconciliation\u003C/strong>: You implemented the core operator pattern that maintains desired state\u003C/li>\n\u003Cli>\u003Cstrong>Owner References\u003C/strong>: You used Kubernetes ownership to manage resource lifecycles\u003C/li>\n\u003Cli>\u003Cstrong>Status Reporting\u003C/strong>: Your operator provides feedback about resource state through status fields\u003C/li>\n\u003Cli>\u003Cstrong>Watch Patterns\u003C/strong>: Your operator reacts to changes in both custom and standard Kubernetes resources\u003C/li>\n\u003C/ul>\n\u003Cp>These concepts form the foundation of the operator pattern and can be applied to manage any application or service on Kubernetes.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"next-steps\">Next Steps\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#next-steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Next Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Now that you understand the basics of building an operator with Pepr, you might want to:\u003C/p>\n\u003Cul>\n\u003Cli>Add more sophisticated validation logic\u003C/li>\n\u003Cli>Implement status conditions that provide detailed health information\u003C/li>\n\u003Cli>Add support for upgrading between versions of your application\u003C/li>\n\u003Cli>Explore more complex reconciliation patterns for multi-component applications\u003C/li>\n\u003Cli>Add metrics and monitoring to your operator\u003C/li>\n\u003C/ul>\n\u003Cp>For more information, check out:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev\">Pepr Documentation\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kubernetes.io/docs/concepts/extend-kubernetes/operator/\">Kubernetes Operator Best Practices\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/\">Custom Resource Definition Documentation\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>",{"headings":812,"localImagePaths":890,"remoteImagePaths":891,"frontmatter":892,"imagePaths":893},[813,814,817,818,821,824,827,830,833,836,839,842,845,848,851,854,857,860,863,866,869,872,875,878,881,884,887],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":815,"text":816},"what-youll-build","What You’ll Build",{"depth":80,"slug":414,"text":415},{"depth":80,"slug":819,"text":820},"tutorial-steps","Tutorial Steps",{"depth":80,"slug":822,"text":823},"create-a-new-pepr-module","Create a new Pepr Module",{"depth":80,"slug":825,"text":826},"create-crd","Create CRD",{"depth":80,"slug":828,"text":829},"create-helpers","Create Helpers",{"depth":80,"slug":831,"text":832},"create-reconciler","Create Reconciler",{"depth":80,"slug":834,"text":835},"add-capability-to-pepr-module","Add capability to Pepr Module",{"depth":80,"slug":837,"text":838},"build-and-deploy-your-operator","Build and Deploy Your Operator",{"depth":131,"slug":840,"text":841},"preparing-your-environment","Preparing Your Environment",{"depth":131,"slug":843,"text":844},"update-and-prepare-pepr","Update and Prepare Pepr",{"depth":131,"slug":846,"text":847},"building-the-operator","Building the Operator",{"depth":131,"slug":849,"text":850},"deploy-to-kubernetes","Deploy to Kubernetes",{"depth":716,"slug":852,"text":853},"troubleshooting-deployment-issues","Troubleshooting Deployment Issues",{"depth":716,"slug":855,"text":856},"understanding-the-webapp-resource","Understanding the WebApp Resource",{"depth":80,"slug":858,"text":859},"test-your-operator","Test Your Operator",{"depth":131,"slug":861,"text":862},"creating-a-webapp-instance","Creating a WebApp Instance",{"depth":131,"slug":864,"text":865},"verifying-resource-creation","Verifying Resource Creation",{"depth":131,"slug":867,"text":868},"checking-webapp-status","Checking WebApp Status",{"depth":131,"slug":870,"text":871},"viewing-your-webapp","Viewing Your WebApp",{"depth":131,"slug":873,"text":874},"testing-the-reconciliation-loop","Testing the Reconciliation Loop",{"depth":131,"slug":876,"text":877},"updating-the-webapp","Updating the WebApp",{"depth":131,"slug":879,"text":880},"cleanup","Cleanup",{"depth":80,"slug":882,"text":883},"congratulations","Congratulations",{"depth":131,"slug":885,"text":886},"what-youve-learned","What You’ve Learned",{"depth":131,"slug":888,"text":889},"next-steps","Next Steps",[],[],{"title":802,"description":802},[],"tutorials/pepr-gitops-workflow",{"id":894,"data":896,"body":901,"filePath":902,"digest":903,"rendered":904},{"title":897,"description":897,"editUrl":66,"head":898,"template":68,"sidebar":899,"pagefind":66,"draft":70},"Using Pepr in a GitOps Workflow",[],{"hidden":70,"attrs":900},{},"Admission Controllers and Operators can be complimentary to GitOps workflows. The important part is to ensure that the GitOps workflow is not disrupted by the admission controller or operator. This can be achieved by clearly defining boundaries in the GitOps Server in configuration.\n\nFor the complete tutorial, please refer to [pepr-with-argo](https://github.com/defenseunicorns-labs/pepr-with-argo).","src/content/docs/tutorials/pepr-gitops-workflow.md","bbed4d7fe26b30db",{"html":905,"metadata":906},"\u003Cp>Admission Controllers and Operators can be complimentary to GitOps workflows. The important part is to ensure that the GitOps workflow is not disrupted by the admission controller or operator. This can be achieved by clearly defining boundaries in the GitOps Server in configuration.\u003C/p>\n\u003Cp>For the complete tutorial, please refer to \u003Ca href=\"https://github.com/defenseunicorns-labs/pepr-with-argo\">pepr-with-argo\u003C/a>.\u003C/p>",{"headings":907,"localImagePaths":908,"remoteImagePaths":909,"frontmatter":910,"imagePaths":911},[],[],[],{"title":897,"description":897},[],"user-guide/capabilities",{"id":912,"data":914,"body":919,"filePath":920,"digest":921,"rendered":922},{"title":915,"description":915,"editUrl":66,"head":916,"template":68,"sidebar":917,"pagefind":66,"draft":70},"Pepr Capabilities",[],{"hidden":70,"attrs":918},{},"A capability is set of related [actions](/actions/) that work together to achieve a specific transformation or operation on Kubernetes resources. Capabilities are user-defined and can include one or more actions. They are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations. A Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\n\nWhen you [`npx pepr init`](/user-guide/pepr-cli#pepr-init), a `capabilities` directory is created for you. This directory is where you will define your capabilities. You can create as many capabilities as you need, and each capability can contain one or more actions. Pepr also automatically creates a `HelloPepr` capability with a number of example actions to help you get started.\n\n## Creating a Capability\n\nDefining a new capability can be done via a [VSCode Snippet](https://code.visualstudio.com/docs/editor/userdefinedsnippets) generated during [`npx pepr init`](/pepr-cli#pepr-init).\n\n1. Create a new file in the `capabilities` directory with the name of your capability. For example, `capabilities/my-capability.ts`.\n\n2. Open the new file in VSCode and type `create` in the file. A suggestion should prompt you to generate the content from there.\n\n\u003Cvideo controls width=\"100%\">\n  \u003Csource src=\"https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4\" type=\"video/mp4\">\n  \u003Cp>Your browser doesn't support HTML video. \u003Ca href=\"https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4\">Download the video\u003C/a> instead.\u003C/p>\n\u003C/video>\n\n_If you prefer not to use VSCode, you can also modify or copy the `HelloPepr` capability to meet your needs instead._\n\n## Reusable Capabilities\n\nPepr has an NPM org managed by Defense Unicorns, `@pepr`, where capabilities are published for reuse in other Pepr Modules. You can find a list of [published capabilities here](https://www.npmjs.com/search?q=@pepr).\n\nYou also can publish your own Pepr capabilities to NPM and import them.  A couple of things you'll want to be aware of when publishing your own capabilities:\n\n- Reuseable capability versions should use the format `0.x.x` or `0.12.x` as examples to determine compatibility with other reusable capabilities. Before `1.x.x`, we recommend binding to `0.x.x` if you can for maximum compatibility.\n\n- `pepr.ts` will still be used for local development, but you'll also need to publish an `index.ts` that exports your capabilities. When you build & publish the capability to NPM, you can use `npx pepr build --entry-point index.ts` to generate the code needed for reuse by other Pepr modules.","src/content/docs/user-guide/capabilities.md","283a5a189987d59a",{"html":923,"metadata":924},"\u003Cp>A capability is set of related \u003Ca href=\"/actions/\">actions\u003C/a> that work together to achieve a specific transformation or operation on Kubernetes resources. Capabilities are user-defined and can include one or more actions. They are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations. A Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\u003C/p>\n\u003Cp>When you \u003Ca href=\"/user-guide/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>, a \u003Ccode dir=\"auto\">capabilities\u003C/code> directory is created for you. This directory is where you will define your capabilities. You can create as many capabilities as you need, and each capability can contain one or more actions. Pepr also automatically creates a \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability with a number of example actions to help you get started.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"creating-a-capability\">Creating a Capability\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#creating-a-capability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Creating a Capability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Defining a new capability can be done via a \u003Ca href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets\">VSCode Snippet\u003C/a> generated during \u003Ca href=\"/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>.\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>Create a new file in the \u003Ccode dir=\"auto\">capabilities\u003C/code> directory with the name of your capability. For example, \u003Ccode dir=\"auto\">capabilities/my-capability.ts\u003C/code>.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Open the new file in VSCode and type \u003Ccode dir=\"auto\">create\u003C/code> in the file. A suggestion should prompt you to generate the content from there.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cvideo controls width=\"100%\">\n  \u003Csource src=\"https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4\" type=\"video/mp4\">\n  \u003Cp>Your browser doesn't support HTML video. \u003Ca href=\"https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4\">Download the video\u003C/a> instead.\u003C/p>\n\u003C/video>\n\u003Cp>\u003Cem>If you prefer not to use VSCode, you can also modify or copy the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability to meet your needs instead.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reusable-capabilities\">Reusable Capabilities\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reusable-capabilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reusable Capabilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr has an NPM org managed by Defense Unicorns, \u003Ccode dir=\"auto\">@pepr\u003C/code>, where capabilities are published for reuse in other Pepr Modules. You can find a list of \u003Ca href=\"https://www.npmjs.com/search?q=@pepr\">published capabilities here\u003C/a>.\u003C/p>\n\u003Cp>You also can publish your own Pepr capabilities to NPM and import them.  A couple of things you’ll want to be aware of when publishing your own capabilities:\u003C/p>\n\u003Cul>\n\u003Cli>\n\u003Cp>Reuseable capability versions should use the format \u003Ccode dir=\"auto\">0.x.x\u003C/code> or \u003Ccode dir=\"auto\">0.12.x\u003C/code> as examples to determine compatibility with other reusable capabilities. Before \u003Ccode dir=\"auto\">1.x.x\u003C/code>, we recommend binding to \u003Ccode dir=\"auto\">0.x.x\u003C/code> if you can for maximum compatibility.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">pepr.ts\u003C/code> will still be used for local development, but you’ll also need to publish an \u003Ccode dir=\"auto\">index.ts\u003C/code> that exports your capabilities. When you build &#x26; publish the capability to NPM, you can use \u003Ccode dir=\"auto\">npx pepr build --entry-point index.ts\u003C/code> to generate the code needed for reuse by other Pepr modules.\u003C/p>\n\u003C/li>\n\u003C/ul>",{"headings":925,"localImagePaths":932,"remoteImagePaths":933,"frontmatter":934,"imagePaths":935},[926,929],{"depth":80,"slug":927,"text":928},"creating-a-capability","Creating a Capability",{"depth":80,"slug":930,"text":931},"reusable-capabilities","Reusable Capabilities",[],[],{"title":915,"description":915},[],"user-guide/custom-resources",{"id":936,"data":938,"body":943,"filePath":944,"digest":945,"rendered":946},{"title":939,"description":939,"editUrl":66,"head":940,"template":68,"sidebar":941,"pagefind":66,"draft":70},"Custom Resources",[],{"hidden":70,"attrs":942},{},"## Importing Custom Resources\n\nThe [Kubernetes Fluent Client](https://github.com/defenseunicorns/kubernetes-fluent-client) supports the creation of TypeScript typings directly from Kubernetes Custom Resource Definitions (CRDs).  The files it generates can be directly incorporated into Pepr capabilities and provide a way to work with strongly-typed CRDs.\n\nFor example (below), Istio CRDs can be imported and used as though they were intrinsic Kubernetes resources.\n\n## Generating TypeScript Types from CRDs\n\nUsing the kubernetes-fluent-client to produce a new type looks like this:\n\n```bash\nnpx kubernetes-fluent-client crd [source] [directory]\n```\n\nThe `crd` command expects a `[source]`, which can be a URL or local file containing the `CustomResourceDefinition(s)`, and a `[directory]` where the generated code will live.\n\nThe following example creates types for the Istio CRDs:\n\n```bash\nuser@workstation$  npx kubernetes-fluent-client crd https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml crds\n\nAttempting to load https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml as a URL\n\n- Generating extensions.istio.io/v1alpha1 types for WasmPlugin\n- Generating networking.istio.io/v1alpha3 types for DestinationRule\n- Generating networking.istio.io/v1beta1 types for DestinationRule\n- Generating networking.istio.io/v1alpha3 types for EnvoyFilter\n- Generating networking.istio.io/v1alpha3 types for Gateway\n- Generating networking.istio.io/v1beta1 types for Gateway\n- Generating networking.istio.io/v1beta1 types for ProxyConfig\n- Generating networking.istio.io/v1alpha3 types for ServiceEntry\n- Generating networking.istio.io/v1beta1 types for ServiceEntry\n- Generating networking.istio.io/v1alpha3 types for Sidecar\n- Generating networking.istio.io/v1beta1 types for Sidecar\n- Generating networking.istio.io/v1alpha3 types for VirtualService\n- Generating networking.istio.io/v1beta1 types for VirtualService\n- Generating networking.istio.io/v1alpha3 types for WorkloadEntry\n- Generating networking.istio.io/v1beta1 types for WorkloadEntry\n- Generating networking.istio.io/v1alpha3 types for WorkloadGroup\n- Generating networking.istio.io/v1beta1 types for WorkloadGroup\n- Generating security.istio.io/v1 types for AuthorizationPolicy\n- Generating security.istio.io/v1beta1 types for AuthorizationPolicy\n- Generating security.istio.io/v1beta1 types for PeerAuthentication\n- Generating security.istio.io/v1 types for RequestAuthentication\n- Generating security.istio.io/v1beta1 types for RequestAuthentication\n- Generating telemetry.istio.io/v1alpha1 types for Telemetry\n\n✅ Generated 23 files in the istio directory\n```\n\nObserve that the `kubernetes-fluent-client` has produced the TypeScript types within the `crds` directory. These types can now be utilized in the Pepr module.\n\n```typescript\nuser@workstation$  cat crds/proxyconfig-v1beta1.ts\n// This file is auto-generated by kubernetes-fluent-client, do not edit manually\n\nimport { GenericKind, RegisterKind } from \"kubernetes-fluent-client\";\n\nexport class ProxyConfig extends GenericKind {\n    /**\n     * Provides configuration for individual workloads. See more details at:\n     * https://istio.io/docs/reference/config/networking/proxy-config.html\n     */\n    spec?:   Spec;\n    status?: { [key: string]: any };\n}\n\n/**\n * Provides configuration for individual workloads. See more details at:\n * https://istio.io/docs/reference/config/networking/proxy-config.html\n */\nexport interface Spec {\n    /**\n     * The number of worker threads to run.\n     */\n    concurrency?: number;\n    /**\n     * Additional environment variables for the proxy.\n     */\n    environmentVariables?: { [key: string]: string };\n    /**\n     * Specifies the details of the proxy image.\n     */\n    image?: Image;\n    /**\n     * Optional.\n     */\n    selector?: Selector;\n}\n\n/**\n * Specifies the details of the proxy image.\n */\nexport interface Image {\n    /**\n     * The image type of the image.\n     */\n    imageType?: string;\n}\n\n/**\n * Optional.\n */\nexport interface Selector {\n    /**\n     * One or more labels that indicate a specific set of pods/VMs on which a policy should be\n     * applied.\n     */\n    matchLabels?: { [key: string]: string };\n}\n\nRegisterKind(ProxyConfig, {\n  group: \"networking.istio.io\",\n  version: \"v1beta1\",\n  kind: \"ProxyConfig\",\n});\n```\n\n## Using new types\n\nThe generated types can be imported into Pepr directly, _there is no additional logic needed to make them to work_.\n\n```typescript\nimport { Capability, K8s, Log, a, kind } from \"pepr\";\n\nimport { Gateway } from \"../crds/gateway-v1beta1\";\nimport {\n  PurpleDestination,\n  VirtualService,\n} from \"../crds/virtualservice-v1beta1\";\n\nexport const IstioVirtualService = new Capability({\n  name: \"istio-virtual-service\",\n  description: \"Generate Istio VirtualService resources\",\n});\n\n// Use the 'When' function to create a new action\nconst { When, Store } = IstioVirtualService;\n\n// Define the configuration keys\nenum config {\n  Gateway = \"uds/istio-gateway\",\n  Host = \"uds/istio-host\",\n  Port = \"uds/istio-port\",\n  Domain = \"uds/istio-domain\",\n}\n\n// Define the valid gateway names\nconst validGateway = [\"admin\", \"tenant\", \"passthrough\"];\n\n// Watch Gateways to get the HTTPS domain for each gateway\nWhen(Gateway)\n  .IsCreatedOrUpdated()\n  .WithLabel(config.Domain)\n  .Watch(vs => {\n    // Store the domain for the gateway\n    Store.setItem(vs.metadata.name, vs.metadata.labels[config.Domain]);\n  });\n```","src/content/docs/user-guide/custom-resources.md","11534558f1bd01ea",{"html":947,"metadata":948},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"importing-custom-resources\">Importing Custom Resources\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#importing-custom-resources\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Importing Custom Resources”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes Fluent Client\u003C/a> supports the creation of TypeScript typings directly from Kubernetes Custom Resource Definitions (CRDs).  The files it generates can be directly incorporated into Pepr capabilities and provide a way to work with strongly-typed CRDs.\u003C/p>\n\u003Cp>For example (below), Istio CRDs can be imported and used as though they were intrinsic Kubernetes resources.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"generating-typescript-types-from-crds\">Generating TypeScript Types from CRDs\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#generating-typescript-types-from-crds\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Generating TypeScript Types from CRDs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Using the kubernetes-fluent-client to produce a new type looks like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubernetes-fluent-client\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [source] [directory]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx kubernetes-fluent-client crd [source] [directory]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">crd\u003C/code> command expects a \u003Ccode dir=\"auto\">[source]\u003C/code>, which can be a URL or local file containing the \u003Ccode dir=\"auto\">CustomResourceDefinition(s)\u003C/code>, and a \u003Ccode dir=\"auto\">[directory]\u003C/code> where the generated code will live.\u003C/p>\n\u003Cp>The following example creates types for the Istio CRDs:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">user@workstation$\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubernetes-fluent-client\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crds\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Attempting\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">to\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">load\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">as\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">a\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">URL\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">extensions.istio.io/v1alpha1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">WasmPlugin\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">DestinationRule\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">DestinationRule\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">EnvoyFilter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Gateway\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Gateway\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ProxyConfig\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ServiceEntry\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ServiceEntry\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Sidecar\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Sidecar\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">VirtualService\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">VirtualService\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">WorkloadEntry\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">WorkloadEntry\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1alpha3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">WorkloadGroup\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">networking.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">WorkloadGroup\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">security.istio.io/v1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AuthorizationPolicy\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">security.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AuthorizationPolicy\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">security.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">PeerAuthentication\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">security.istio.io/v1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">RequestAuthentication\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">security.istio.io/v1beta1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">RequestAuthentication\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generating\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">telemetry.istio.io/v1alpha1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">types\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">for\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Telemetry\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">✅\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Generated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">23\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">files\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">in\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">the\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">istio\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">directory\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"user@workstation$  npx kubernetes-fluent-client crd https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml crdsAttempting to load https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml as a URL- Generating extensions.istio.io/v1alpha1 types for WasmPlugin- Generating networking.istio.io/v1alpha3 types for DestinationRule- Generating networking.istio.io/v1beta1 types for DestinationRule- Generating networking.istio.io/v1alpha3 types for EnvoyFilter- Generating networking.istio.io/v1alpha3 types for Gateway- Generating networking.istio.io/v1beta1 types for Gateway- Generating networking.istio.io/v1beta1 types for ProxyConfig- Generating networking.istio.io/v1alpha3 types for ServiceEntry- Generating networking.istio.io/v1beta1 types for ServiceEntry- Generating networking.istio.io/v1alpha3 types for Sidecar- Generating networking.istio.io/v1beta1 types for Sidecar- Generating networking.istio.io/v1alpha3 types for VirtualService- Generating networking.istio.io/v1beta1 types for VirtualService- Generating networking.istio.io/v1alpha3 types for WorkloadEntry- Generating networking.istio.io/v1beta1 types for WorkloadEntry- Generating networking.istio.io/v1alpha3 types for WorkloadGroup- Generating networking.istio.io/v1beta1 types for WorkloadGroup- Generating security.istio.io/v1 types for AuthorizationPolicy- Generating security.istio.io/v1beta1 types for AuthorizationPolicy- Generating security.istio.io/v1beta1 types for PeerAuthentication- Generating security.istio.io/v1 types for RequestAuthentication- Generating security.istio.io/v1beta1 types for RequestAuthentication- Generating telemetry.istio.io/v1alpha1 types for Telemetry✅ Generated 23 files in the istio directory\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Observe that the \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> has produced the TypeScript types within the \u003Ccode dir=\"auto\">crds\u003C/code> directory. These types can now be utilized in the Pepr module.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">user@workstation$  cat crds\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">proxyconfig\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">v1beta1\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// This file is auto-generated by kubernetes-fluent-client, do not edit manually\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { GenericKind, RegisterKind } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">kubernetes-fluent-client\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">class\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">ProxyConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">extends\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">GenericKind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Provides configuration for individual workloads. See more details at:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* https://istio.io/docs/reference/config/networking/proxy-config.html\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">spec\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">Spec\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">status\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> { [\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">key\u003C/span>\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">any\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> };\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Provides configuration for individual workloads. See more details at:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* https://istio.io/docs/reference/config/networking/proxy-config.html\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">interface\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> Spec {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* The number of worker threads to run.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">concurrency\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">number\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Additional environment variables for the proxy.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">environmentVariables\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> { [\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">key\u003C/span>\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> };\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Specifies the details of the proxy image.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">image\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">Image\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Optional.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">selector\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">Selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Specifies the details of the proxy image.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">interface\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> Image {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* The image type of the image.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">imageType\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* Optional.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">interface\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> Selector {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">/**\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* One or more labels that indicate a specific set of pods/VMs on which a policy should be\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">* applied.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">     \u003C/span>\u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">*/\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">matchLabels\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?:\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> { [\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">key\u003C/span>\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> };\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">RegisterKind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(ProxyConfig, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">group: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">networking.istio.io\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">version: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">v1beta1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">kind: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ProxyConfig\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"user@workstation$  cat crds/proxyconfig-v1beta1.ts// This file is auto-generated by kubernetes-fluent-client, do not edit manuallyimport { GenericKind, RegisterKind } from &#x22;kubernetes-fluent-client&#x22;;export class ProxyConfig extends GenericKind {    /**     * Provides configuration for individual workloads. See more details at:     * https://istio.io/docs/reference/config/networking/proxy-config.html     */    spec?:   Spec;    status?: { [key: string]: any };}/** * Provides configuration for individual workloads. See more details at: * https://istio.io/docs/reference/config/networking/proxy-config.html */export interface Spec {    /**     * The number of worker threads to run.     */    concurrency?: number;    /**     * Additional environment variables for the proxy.     */    environmentVariables?: { [key: string]: string };    /**     * Specifies the details of the proxy image.     */    image?: Image;    /**     * Optional.     */    selector?: Selector;}/** * Specifies the details of the proxy image. */export interface Image {    /**     * The image type of the image.     */    imageType?: string;}/** * Optional. */export interface Selector {    /**     * One or more labels that indicate a specific set of pods/VMs on which a policy should be     * applied.     */    matchLabels?: { [key: string]: string };}RegisterKind(ProxyConfig, {  group: &#x22;networking.istio.io&#x22;,  version: &#x22;v1beta1&#x22;,  kind: &#x22;ProxyConfig&#x22;,});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"using-new-types\">Using new types\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#using-new-types\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Using new types”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The generated types can be imported into Pepr directly, \u003Cem>there is no additional logic needed to make them to work\u003C/em>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { Capability, K8s, Log, a, kind } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { Gateway } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">../crds/gateway-v1beta1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">PurpleDestination,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">VirtualService,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">../crds/virtualservice-v1beta1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IstioVirtualService\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Capability\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">istio-virtual-service\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">description: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Generate Istio VirtualService resources\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Use the 'When' function to create a new action\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">IstioVirtualService;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Define the configuration keys\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">enum\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> config {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">Gateway\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">uds/istio-gateway\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">Host\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">uds/istio-host\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">Port\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">uds/istio-port\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">Domain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">uds/istio-domain\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Define the valid gateway names\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">validGateway\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> =\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">admin\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">tenant\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">passthrough\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Watch Gateways to get the HTTPS domain for each gateway\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(Gateway)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(config\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Domain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">vs\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Store the domain for the gateway\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(vs\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, vs\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[config\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Domain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { Capability, K8s, Log, a, kind } from &#x22;pepr&#x22;;import { Gateway } from &#x22;../crds/gateway-v1beta1&#x22;;import {  PurpleDestination,  VirtualService,} from &#x22;../crds/virtualservice-v1beta1&#x22;;export const IstioVirtualService = new Capability({  name: &#x22;istio-virtual-service&#x22;,  description: &#x22;Generate Istio VirtualService resources&#x22;,});// Use the &#x27;When&#x27; function to create a new actionconst { When, Store } = IstioVirtualService;// Define the configuration keysenum config {  Gateway = &#x22;uds/istio-gateway&#x22;,  Host = &#x22;uds/istio-host&#x22;,  Port = &#x22;uds/istio-port&#x22;,  Domain = &#x22;uds/istio-domain&#x22;,}// Define the valid gateway namesconst validGateway = [&#x22;admin&#x22;, &#x22;tenant&#x22;, &#x22;passthrough&#x22;];// Watch Gateways to get the HTTPS domain for each gatewayWhen(Gateway)  .IsCreatedOrUpdated()  .WithLabel(config.Domain)  .Watch(vs => {    // Store the domain for the gateway    Store.setItem(vs.metadata.name, vs.metadata.labels[config.Domain]);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":949,"localImagePaths":959,"remoteImagePaths":960,"frontmatter":961,"imagePaths":962},[950,953,956],{"depth":80,"slug":951,"text":952},"importing-custom-resources","Importing Custom Resources",{"depth":80,"slug":954,"text":955},"generating-typescript-types-from-crds","Generating TypeScript Types from CRDs",{"depth":80,"slug":957,"text":958},"using-new-types","Using new types",[],[],{"title":939,"description":939},[],"user-guide/feature-flags",{"id":963,"data":965,"body":970,"filePath":971,"digest":972,"rendered":973},{"title":966,"description":966,"editUrl":66,"head":967,"template":68,"sidebar":968,"pagefind":66,"draft":70},"Feature Flags",[],{"hidden":70,"attrs":969},{},"Feature flags allow you to enable, disable, or configure features in Pepr.\nThey provide a way to manage feature rollouts, toggle experimental features, and maintain configuration across different environments.\nFeature flags work across both CLI and in-cluster environments, using the same underlying implementation.\n\nPepr's feature flag system supports:\n\n- Boolean flags\n- String values\n- Numeric values\n- Default values for flags\n- Type safety through TypeScript\n- Configuration via environment variables\n- Configuration via initialization strings\n- Consistent behavior in both CLI and in-cluster environments\n\n## Best Practices\n\n1. **Temporary Usage**: Use feature flags for temporary changes, gradual rollouts, or experimental features. Do NOT use feature flags for permanent configuration.\n1. **Descriptive Names**: Choose descriptive flag names and provide detailed descriptions in the metadata.\n1. **Default Values**: Always provide sensible default values for feature flags.\n1. **Type Safety**: Leverage TypeScript's type system when accessing feature flags.\n1. **Cleanup**: Remove feature flags that are no longer needed to maintain a clean codebase and stay within the feature flag limit.\n\n## Getting Started\n\n### Using Feature Flags\n\n1. **Enable a CLI feature flag via environment variable:**\n\n   ```bash\n   PEPR_FEATURE_REFERENCE_FLAG=true npx pepr@latest\n   ```\n\n2. **Enable a CLI feature flag via argument:**\n\n   ```bash\n   npx pepr@latest --features=\"reference_flag=true\"\n   ```\n\n3. **Configure feature flags for a Pepr module:**\n   Add to your `package.json`:\n\n   ```json\n   \"pepr\": {\n     \"env\": {\n       \"PEPR_FEATURE_REFERENCE_FLAG\": true\n     }\n   }\n   ```\n\n## Defining Feature Flags\n\nFeature flags in Pepr are defined in the `FeatureFlags` object.\nThe `FeatureFlags` object is the source of truth for all available feature flags.\n\n:::caution\nTo reduce complexity, Pepr enforces a limit of 4 active feature flags.\nExceeding this limit results in an error (e.g., `Error: Too many feature\nflags active: 5 (maximum: 4).`)\n:::\n\nFeature Flags have:\n\n- A unique key used for programmatic access\n- Metadata containing name, description, and default value\n\nFeature flag values are converted to appropriate types:\n\n- `\"true\"` and `\"false\"` strings are converted to boolean values\n- Numeric strings are converted to numbers\n- All other values remain as strings\n\nExample definition:\n\n```typescript\nexport const FeatureFlags: Record\u003Cstring, FeatureInfo> = {\n  REFERENCE_FLAG: {\n    key: \"reference_flag\",\n    metadata: {\n      name: \"Reference Flag\",\n      description: \"A feature flag to show intended usage.\",\n      defaultValue: false,\n    },\n  },\n};\n```\n\n## Configuration and Workflows\n\nFeature flags are configured in two ways for either CLI or Module use.\nOnly feature flags defined in the `FeatureFlags` object can be configured.\nAttempting to use an undefined flag will result in an error.\n\n### Pepr CLI Workflow\n\n1. **Using environment variables** with the format `PEPR_FEATURE_\u003CFLAG_NAME>`:\n\n   ```bash\n   # Run Pepr with debug logging to verify feature flags\n   PEPR_FEATURE_REFERENCE_FLAG=true LOG_LEVEL=debug npx pepr@latest\n   ```\n\n2. **Using the `--features` CLI argument**:\n\n   ```bash\n   LOG_LEVEL=debug npx pepr@latest --features=\"reference_flag=true\"\n   ```\n\n### Pepr Module Deployment Workflow\n\nFor deployed modules, configure feature flags in the module's `package.json`:\n\n```json\n  \"pepr\": {\n    \"env\": {\n      \"PEPR_FEATURE_REFERENCE_FLAG\": true\n    }\n  },\n```\n\nBuild and deploy the module once environment variables are set with a known `$APP_NAME`:\n\n```bash\n# Edit your package.json to include feature flags\njq '.pepr.env.PEPR_FEATURE_REFERENCE_FLAG = true' package.json\n\nnpx pepr@latest build\nnpx pepr@latest deploy -i pepr:dev\n\nAPP_NAME=pepr-module-name\nkubectl logs -n pepr-system --selector app=$APP_NAME | grep \"Feature flags store initialized\"\n```\n\n## Troubleshooting\n\n### Feature Flag Not Recognized\n\nIf your feature flag isn't recognized:\n\n1. Verify the flag is defined in the `FeatureFlags` object\n2. Check the case of the environment variable (`PEPR_FEATURE_REFERENCE_FLAG` vs `pepr_feature_reference_flag`)\n3. Ensure correct format for CLI flags (`reference_flag=true` not `REFERENCE_FLAG=true`)\n\n### Too Many Feature Flags\n\nIf you receive the error: `Error: Too many feature flags active: 5 (maximum: 4)`\n\n1. Review active feature flags using `featureFlagStore.getAll()`\n2. Remove or consolidate unnecessary feature flags\n3. Consider if some flags could be regular configuration instead\n\n### Flag Value Incorrect Type\n\nIf your feature flag has an unexpected type:\n\n1. Remember that strings `\"true\"` and `\"false\"` are automatically converted to booleans\n2. Numeric strings are automatically converted to numbers\n3. Use explicit type checking in your code: `typeof featureFlagStore.get(...)`\n\n---\n\n## For Maintainers\n\n## Development Guidelines\n\n### Accessing and Implementing Feature Flags\n\nTo add a new feature flag, update the `FeatureFlags` object in the source code.\nAny feature flag not defined in this object cannot be used in the application.\n\nAccess feature flags the same way in both CLI and in-cluster environments using the `featureFlagStore`.\n\nThis snippet shows how to execute different code paths based upon a feature flag value.\nTo execute within the Pepr project, save the snippet to `file.ts` and run `npx tsx file.ts`.\n\n```typescript\nimport { featureFlagStore } from \"./lib/features/store\";\nimport { FeatureFlags } from \"./lib/features/FeatureFlags\";\n\n// Get a boolean flag\nconst isReferenceEnabled = featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key);\n\nconst allFlags = featureFlagStore.getAll();\n\n// Use feature flags for conditional logic\nif (featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)) {\n  Log.info(`Flag value: ${isReferenceEnabled} of type ${typeof featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)}`)\n} else {\n  Log.info(`All flags: ${JSON.stringify(allFlags)}`)\n}\n```","src/content/docs/user-guide/feature-flags.md","59948d7a1a06ee57",{"html":974,"metadata":975},"\u003Cp>Feature flags allow you to enable, disable, or configure features in Pepr.\nThey provide a way to manage feature rollouts, toggle experimental features, and maintain configuration across different environments.\nFeature flags work across both CLI and in-cluster environments, using the same underlying implementation.\u003C/p>\n\u003Cp>Pepr’s feature flag system supports:\u003C/p>\n\u003Cul>\n\u003Cli>Boolean flags\u003C/li>\n\u003Cli>String values\u003C/li>\n\u003Cli>Numeric values\u003C/li>\n\u003Cli>Default values for flags\u003C/li>\n\u003Cli>Type safety through TypeScript\u003C/li>\n\u003Cli>Configuration via environment variables\u003C/li>\n\u003Cli>Configuration via initialization strings\u003C/li>\n\u003Cli>Consistent behavior in both CLI and in-cluster environments\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"best-practices\">Best Practices\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#best-practices\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Best Practices”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\u003Cstrong>Temporary Usage\u003C/strong>: Use feature flags for temporary changes, gradual rollouts, or experimental features. Do NOT use feature flags for permanent configuration.\u003C/li>\n\u003Cli>\u003Cstrong>Descriptive Names\u003C/strong>: Choose descriptive flag names and provide detailed descriptions in the metadata.\u003C/li>\n\u003Cli>\u003Cstrong>Default Values\u003C/strong>: Always provide sensible default values for feature flags.\u003C/li>\n\u003Cli>\u003Cstrong>Type Safety\u003C/strong>: Leverage TypeScript’s type system when accessing feature flags.\u003C/li>\n\u003Cli>\u003Cstrong>Cleanup\u003C/strong>: Remove feature flags that are no longer needed to maintain a clean codebase and stay within the feature flag limit.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"getting-started\">Getting Started\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#getting-started\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Getting Started”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"using-feature-flags\">Using Feature Flags\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#using-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Using Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Enable a CLI feature flag via environment variable:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PEPR_FEATURE_REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">true\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"PEPR_FEATURE_REFERENCE_FLAG=true npx pepr@latest\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Enable a CLI feature flag via argument:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--features=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reference_flag=true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr@latest --features=&#x22;reference_flag=true&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Configure feature flags for a Pepr module:\u003C/strong>\nAdd to your \u003Ccode dir=\"auto\">package.json\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_FEATURE_REFERENCE_FLAG\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"&#x22;pepr&#x22;: {  &#x22;env&#x22;: {    &#x22;PEPR_FEATURE_REFERENCE_FLAG&#x22;: true  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"defining-feature-flags\">Defining Feature Flags\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#defining-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Defining Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Feature flags in Pepr are defined in the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object.\nThe \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object is the source of truth for all available feature flags.\u003C/p>\n\u003Caside aria-label=\"Caution\" class=\"starlight-aside starlight-aside--caution\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 16C11.8022 16 11.6089 16.0587 11.4444 16.1686C11.28 16.2784 11.1518 16.4346 11.0761 16.6173C11.0004 16.8001 10.9806 17.0011 11.0192 17.1951C11.0578 17.3891 11.153 17.5673 11.2929 17.7071C11.4327 17.847 11.6109 17.9422 11.8049 17.9808C11.9989 18.0194 12.2 17.9996 12.3827 17.9239C12.5654 17.8482 12.7216 17.72 12.8315 17.5556C12.9413 17.3911 13 17.1978 13 17C13 16.7348 12.8946 16.4805 12.7071 16.2929C12.5196 16.1054 12.2652 16 12 16ZM22.67 17.47L14.62 3.47003C14.3598 3.00354 13.9798 2.61498 13.5192 2.3445C13.0586 2.07401 12.5341 1.9314 12 1.9314C11.4659 1.9314 10.9414 2.07401 10.4808 2.3445C10.0202 2.61498 9.64019 3.00354 9.38 3.47003L1.38 17.47C1.11079 17.924 0.966141 18.441 0.960643 18.9688C0.955144 19.4966 1.089 20.0166 1.34868 20.4761C1.60837 20.9356 1.9847 21.3185 2.43968 21.5861C2.89466 21.8536 3.41218 21.9964 3.94 22H20.06C20.5921 22.0053 21.1159 21.8689 21.5779 21.6049C22.0399 21.341 22.4234 20.9589 22.689 20.4978C22.9546 20.0368 23.0928 19.5134 23.0895 18.9814C23.0862 18.4493 22.9414 17.9277 22.67 17.47ZM20.94 19.47C20.8523 19.626 20.7245 19.7556 20.5697 19.8453C20.4149 19.935 20.2389 19.9815 20.06 19.98H3.94C3.76111 19.9815 3.5851 19.935 3.43032 19.8453C3.27553 19.7556 3.14765 19.626 3.06 19.47C2.97223 19.318 2.92602 19.1456 2.92602 18.97C2.92602 18.7945 2.97223 18.622 3.06 18.47L11.06 4.47003C11.1439 4.30623 11.2714 4.16876 11.4284 4.07277C11.5855 3.97678 11.766 3.92599 11.95 3.92599C12.134 3.92599 12.3145 3.97678 12.4716 4.07277C12.6286 4.16876 12.7561 4.30623 12.84 4.47003L20.89 18.47C20.9892 18.6199 21.0462 18.7937 21.055 18.9732C21.0638 19.1527 21.0241 19.3312 20.94 19.49V19.47ZM12 8.00003C11.7348 8.00003 11.4804 8.10538 11.2929 8.29292C11.1054 8.48046 11 8.73481 11 9.00003V13C11 13.2652 11.1054 13.5196 11.2929 13.7071C11.4804 13.8947 11.7348 14 12 14C12.2652 14 12.5196 13.8947 12.7071 13.7071C12.8946 13.5196 13 13.2652 13 13V9.00003C13 8.73481 12.8946 8.48046 12.7071 8.29292C12.5196 8.10538 12.2652 8.00003 12 8.00003Z\">\u003C/path>\u003C/svg>Caution\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>To reduce complexity, Pepr enforces a limit of 4 active feature flags.\nExceeding this limit results in an error (e.g., \u003Ccode dir=\"auto\">Error: Too many feature flags active: 5 (maximum: 4).\u003C/code>)\u003C/p>\u003C/div>\u003C/aside>\n\u003Cp>Feature Flags have:\u003C/p>\n\u003Cul>\n\u003Cli>A unique key used for programmatic access\u003C/li>\n\u003Cli>Metadata containing name, description, and default value\u003C/li>\n\u003C/ul>\n\u003Cp>Feature flag values are converted to appropriate types:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">\"true\"\u003C/code> and \u003Ccode dir=\"auto\">\"false\"\u003C/code> strings are converted to boolean values\u003C/li>\n\u003Cli>Numeric strings are converted to numbers\u003C/li>\n\u003Cli>All other values remain as strings\u003C/li>\n\u003C/ul>\n\u003Cp>Example definition:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">FeatureFlags\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">Record\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">FeatureInfo\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">> = {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">REFERENCE_FLAG: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">key: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reference_flag\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Reference Flag\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">description: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">A feature flag to show intended usage.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">defaultValue: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">false\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"export const FeatureFlags: Record\u003Cstring, FeatureInfo> = {  REFERENCE_FLAG: {    key: &#x22;reference_flag&#x22;,    metadata: {      name: &#x22;Reference Flag&#x22;,      description: &#x22;A feature flag to show intended usage.&#x22;,      defaultValue: false,    },  },};\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"configuration-and-workflows\">Configuration and Workflows\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#configuration-and-workflows\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Configuration and Workflows”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Feature flags are configured in two ways for either CLI or Module use.\nOnly feature flags defined in the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object can be configured.\nAttempting to use an undefined flag will result in an error.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-cli-workflow\">Pepr CLI Workflow\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-cli-workflow\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr CLI Workflow”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Using environment variables\u003C/strong> with the format \u003Ccode dir=\"auto\">PEPR_FEATURE_&#x3C;FLAG_NAME>\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Run Pepr with debug logging to verify feature flags\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PEPR_FEATURE_REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">true\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">LOG_LEVEL\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"PEPR_FEATURE_REFERENCE_FLAG=true LOG_LEVEL=debug npx pepr@latest\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Using the \u003Ccode dir=\"auto\">--features\u003C/code> CLI argument\u003C/strong>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">LOG_LEVEL\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--features=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reference_flag=true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"LOG_LEVEL=debug npx pepr@latest --features=&#x22;reference_flag=true&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-module-deployment-workflow\">Pepr Module Deployment Workflow\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-module-deployment-workflow\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Module Deployment Workflow”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>For deployed modules, configure feature flags in the module’s \u003Ccode dir=\"auto\">package.json\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_FEATURE_REFERENCE_FLAG\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x22;pepr&#x22;: {    &#x22;env&#x22;: {      &#x22;PEPR_FEATURE_REFERENCE_FLAG&#x22;: true    }  },\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Build and deploy the module once environment variables are set with a known \u003Ccode dir=\"auto\">$APP_NAME\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Edit your package.json to include feature flags\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">jq\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">.pepr.env.PEPR_FEATURE_REFERENCE_FLAG = true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">package.json\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr:dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">APP_NAME\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-module-name\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app=\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$APP_NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">grep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Feature flags store initialized\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"jq &#x27;.pepr.env.PEPR_FEATURE_REFERENCE_FLAG = true&#x27; package.jsonnpx pepr@latest buildnpx pepr@latest deploy -i pepr:devAPP_NAME=pepr-module-namekubectl logs -n pepr-system --selector app=$APP_NAME | grep &#x22;Feature flags store initialized&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"troubleshooting\">Troubleshooting\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#troubleshooting\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Troubleshooting”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"feature-flag-not-recognized\">Feature Flag Not Recognized\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#feature-flag-not-recognized\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Feature Flag Not Recognized”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If your feature flag isn’t recognized:\u003C/p>\n\u003Col>\n\u003Cli>Verify the flag is defined in the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object\u003C/li>\n\u003Cli>Check the case of the environment variable (\u003Ccode dir=\"auto\">PEPR_FEATURE_REFERENCE_FLAG\u003C/code> vs \u003Ccode dir=\"auto\">pepr_feature_reference_flag\u003C/code>)\u003C/li>\n\u003Cli>Ensure correct format for CLI flags (\u003Ccode dir=\"auto\">reference_flag=true\u003C/code> not \u003Ccode dir=\"auto\">REFERENCE_FLAG=true\u003C/code>)\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"too-many-feature-flags\">Too Many Feature Flags\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#too-many-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Too Many Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you receive the error: \u003Ccode dir=\"auto\">Error: Too many feature flags active: 5 (maximum: 4)\u003C/code>\u003C/p>\n\u003Col>\n\u003Cli>Review active feature flags using \u003Ccode dir=\"auto\">featureFlagStore.getAll()\u003C/code>\u003C/li>\n\u003Cli>Remove or consolidate unnecessary feature flags\u003C/li>\n\u003Cli>Consider if some flags could be regular configuration instead\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"flag-value-incorrect-type\">Flag Value Incorrect Type\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#flag-value-incorrect-type\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Flag Value Incorrect Type”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If your feature flag has an unexpected type:\u003C/p>\n\u003Col>\n\u003Cli>Remember that strings \u003Ccode dir=\"auto\">\"true\"\u003C/code> and \u003Ccode dir=\"auto\">\"false\"\u003C/code> are automatically converted to booleans\u003C/li>\n\u003Cli>Numeric strings are automatically converted to numbers\u003C/li>\n\u003Cli>Use explicit type checking in your code: \u003Ccode dir=\"auto\">typeof featureFlagStore.get(...)\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"for-maintainers\">For Maintainers\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#for-maintainers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “For Maintainers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"development-guidelines\">Development Guidelines\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#development-guidelines\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Development Guidelines”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"accessing-and-implementing-feature-flags\">Accessing and Implementing Feature Flags\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#accessing-and-implementing-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Accessing and Implementing Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To add a new feature flag, update the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object in the source code.\nAny feature flag not defined in this object cannot be used in the application.\u003C/p>\n\u003Cp>Access feature flags the same way in both CLI and in-cluster environments using the \u003Ccode dir=\"auto\">featureFlagStore\u003C/code>.\u003C/p>\n\u003Cp>This snippet shows how to execute different code paths based upon a feature flag value.\nTo execute within the Pepr project, save the snippet to \u003Ccode dir=\"auto\">file.ts\u003C/code> and run \u003Ccode dir=\"auto\">npx tsx file.ts\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { featureFlagStore } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">./lib/features/store\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { FeatureFlags } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">./lib/features/FeatureFlags\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Get a boolean flag\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">isReferenceEnabled\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(FeatureFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">key\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">allFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getAll\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Use feature flags for conditional logic\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(FeatureFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">key\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Flag value: \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">isReferenceEnabled\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\"> of type \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">typeof\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\"> \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(FeatureFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">key\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">else\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">All flags: \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">JSON\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">stringify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(allFlags)\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { featureFlagStore } from &#x22;./lib/features/store&#x22;;import { FeatureFlags } from &#x22;./lib/features/FeatureFlags&#x22;;// Get a boolean flagconst isReferenceEnabled = featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key);const allFlags = featureFlagStore.getAll();// Use feature flags for conditional logicif (featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)) {  Log.info(&#x60;Flag value: ${isReferenceEnabled} of type ${typeof featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)}&#x60;)} else {  Log.info(&#x60;All flags: ${JSON.stringify(allFlags)}&#x60;)}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":976,"localImagePaths":1017,"remoteImagePaths":1018,"frontmatter":1019,"imagePaths":1020},[977,980,981,984,987,990,993,996,999,1002,1005,1008,1011,1014],{"depth":80,"slug":978,"text":979},"best-practices","Best Practices",{"depth":80,"slug":295,"text":296},{"depth":131,"slug":982,"text":983},"using-feature-flags","Using Feature Flags",{"depth":80,"slug":985,"text":986},"defining-feature-flags","Defining Feature Flags",{"depth":80,"slug":988,"text":989},"configuration-and-workflows","Configuration and Workflows",{"depth":131,"slug":991,"text":992},"pepr-cli-workflow","Pepr CLI Workflow",{"depth":131,"slug":994,"text":995},"pepr-module-deployment-workflow","Pepr Module Deployment Workflow",{"depth":80,"slug":997,"text":998},"troubleshooting","Troubleshooting",{"depth":131,"slug":1000,"text":1001},"feature-flag-not-recognized","Feature Flag Not Recognized",{"depth":131,"slug":1003,"text":1004},"too-many-feature-flags","Too Many Feature Flags",{"depth":131,"slug":1006,"text":1007},"flag-value-incorrect-type","Flag Value Incorrect Type",{"depth":80,"slug":1009,"text":1010},"for-maintainers","For Maintainers",{"depth":80,"slug":1012,"text":1013},"development-guidelines","Development Guidelines",{"depth":131,"slug":1015,"text":1016},"accessing-and-implementing-feature-flags","Accessing and Implementing Feature Flags",[],[],{"title":966,"description":966},[],"user-guide/customization",{"id":1021,"data":1023,"body":1028,"filePath":1029,"digest":1030,"rendered":1031},{"title":1024,"description":1024,"editUrl":66,"head":1025,"template":68,"sidebar":1026,"pagefind":66,"draft":70},"Customization",[],{"hidden":70,"attrs":1027},{},"This document outlines how to customize the build output through Helm overrides and `package.json` configurations.\n\n## Redact Store Values from Logs\n\nBy default, the store values are displayed in logs, to redact them you can set the `PEPR_STORE_REDACT_VALUES` environment variable to `true` in the `package.json` file or directly on the Watcher or Admission `Deployment`. The default value is `undefined`.\n\n```json\n{\n  \"env\": {\n    \"PEPR_STORE_REDACT_VALUES\": \"true\"\n  }\n}\n```\n\n## Display Node Warnings\n\nYou can display warnings in the logs by setting the `PEPR_NODE_WARNINGS` environment variable to `true` in the `package.json` file or directly on the Watcher or Admission `Deployment`. The default value is `undefined`.\n\n```json\n{\n  \"env\": {\n    \"PEPR_NODE_WARNINGS\": \"true\"\n  }\n}\n```\n\n## Customizing Log Format\n\nThe log format can be customized by setting the `PINO_TIME_STAMP` environment variable in the `package.json` file or directly on the Watcher or Admission `Deployment`. The default value is a partial JSON timestamp string representation of the time. If set to `iso`, the timestamp is displayed in an ISO format.\n\n**Caution**: attempting to format time in-process will significantly impact logging performance.\n\n```json\n{\n  \"env\": {\n    \"PINO_TIME_STAMP\": \"iso\"\n  }\n}\n```\n\nWith ISO:\n\n```json\n{\"level\":30,\"time\":\"2024-05-14T14:26:03.788Z\",\"pid\":16,\"hostname\":\"pepr-static-test-7f4d54b6cc-9lxm6\",\"method\":\"GET\",\"url\":\"/healthz\",\"status\":200,\"duration\":\"1 ms\"}\n```\n\nDefault (without):\n\n```json\n{\"level\":30,\"time\":\"1715696764106\",\"pid\":16,\"hostname\":\"pepr-static-test-watcher-559d94447f-xkq2h\",\"method\":\"GET\",\"url\":\"/healthz\",\"status\":200,\"duration\":\"1 ms\"}\n```\n\n## Customizing Watch Configuration\n\nThe Watch configuration is a part of the Pepr module that allows you to watch for specific resources in the Kubernetes cluster. The Watch configuration can be customized by specific environment variables of the Watcher Deployment and can be set in the field in the `package.json` or in the helm `values.yaml` file.\n\n| Field                        | Description                                                                                                      | Example Values                  |\n|------------------------------|------------------------------------------------------------------------------------------------------------------|---------------------------------|\n| `PEPR_RESYNC_FAILURE_MAX`    | The maximum number of times to fail on a resync interval before re-establishing the watch URL and doing a relist. | default: `\"5\"`                |\n| `PEPR_RETRY_DELAY_SECONDS`     | The delay between retries in seconds.                                                                            | default: `\"10\"`                 |\n| `PEPR_LAST_SEEN_LIMIT_SECONDS` | Max seconds to go without receiving a watch event before re-establishing the watch | default: `\"300\"` (5 mins)       |\n| `PEPR_RELIST_INTERVAL_SECONDS` | Amount of seconds to wait before a relist of the watched resources  | default: `\"600\"` (10 mins)       |\n\n## Configuring Reconcile\n\nThe [Reconcile Action](/actions/reconcile) allows you to maintain ordering of resource updates processed by a Pepr controller. The Reconcile configuration can be customized via environment variable on the Watcher Deployment, which can be set in the `package.json` or in the helm `values.yaml` file.\n\n| Field | Description | Example Values |\n|-|-|-|\n| `PEPR_RECONCILE_STRATEGY` | How Pepr should order resource updates being Reconcile()'d. | default: `\"kindNsName\"` |\n\n| Available Options ||\n|-|-|\n| `kind`  | separate queues of events for Reconcile()'d resources of a kind |\n| `kindNs` | separate queues of events for Reconcile()'d resources of a kind, within a namespace |\n| `kindNsName` | separate queues of events for Reconcile()'d resources of a kind, within a namespace, per name |\n| `global` | a single queue of events for all Reconcile()'d resources |\n\n## Customizing with Helm\n\nBelow are the available Helm override configurations after you have built your Pepr module that you can put in the `values.yaml`.\n\n### Helm Overrides Table\n\n| Parameter                       | Description                               | Example Values                                 |\n|---------------------------------|-------------------------------------------|------------------------------------------------|\n| `additionalIgnoredNamespaces`              | Namespaces to ignore in addition to alwaysIgnore.namespaces from Pepr config in `package.json`.                    | `- pepr-playground`     |\n| `secrets.apiToken`              | Kube API-Server Token.                    | `Buffer.from(apiToken).toString(\"base64\")`     |\n| `hash`                          | Unique hash for deployment. Do not change.| `\u003Cyour_hash>`                                  |\n| `namespace.annotations`         | Namespace annotations                     | `{}`                                           |\n| `namespace.labels`              | Namespace labels                          | `{\"pepr.dev\": \"\"}`                             |\n| `uuid`                          | Unique identifier for the module          | `hub-operator`                                 |\n| `admission.*`                   | Admission controller configurations       | Various, see subparameters below               |\n| `watcher.*`                     | Watcher configurations                    | Various, see subparameters below               |\n\n### Admission and Watcher Subparameters\n\n| Subparameter                                 | Description                                                         |\n|----------------------------------------------|---------------------------------------------------------------------|\n| `failurePolicy`                              | Webhook failure policy [Ignore, Fail]                               |\n| `webhookTimeout`                             | Timeout seconds for webhooks [1 - 30]                               |\n| `env`                                        | Container environment variables                                     |\n| `image`                                      | Container image                                                     |\n| `annotations`                                | Deployment annotations                                              |\n| `labels`                                     | Deployment labels                                                   |\n| `securityContext`                            | Pod security context                                                |\n| `readinessProbe`                             | Pod readiness probe definition                                      |\n| `livenessProbe`                              | Pod liveness probe definition                                       |\n| `resources`                                  | Resource limits                                                     |\n| `containerSecurityContext`                   | Container's security context                                        |\n| `nodeSelector`                               | Node selection constraints                                          |\n| `tolerations`                                | Tolerations to taints                                               |\n| `affinity`                                   | Node scheduling options                                             |\n| `terminationGracePeriodSeconds`              | Optional duration in seconds the pod needs to terminate gracefully  |\n\nNote: Replace `*` within `admission.*` or `watcher.*` to apply settings specific to the desired subparameter (e.g. `admission.failurePolicy`).\n\n## Customizing with package.json\n\nBelow are the available configurations through `package.json`.\n\n### package.json Configurations Table\n\n| Field            | Description                            | Example Values                      |\n|------------------|----------------------------------------|-------------------------------------|\n| `uuid`           | Unique identifier for the module       | `hub-operator`                      |\n| `onError`        | Behavior of the webhook failure policy | `audit`, `ignore`, `reject`         |\n| `webhookTimeout` | Webhook timeout in seconds             | `1` - `30`                          |\n| `customLabels`   | Custom labels for namespaces           | `{namespace: {}}`                   |\n| `alwaysIgnore`   | Conditions to always ignore            | `{namespaces: []}`                  |\n| `admission`      | admission namespaces to always ignore  | `{alwaysIgnore: {namespaces: []}}`  |\n| `watch`          | watcher namespaces to always ignore    | `{alwaysIgnore: {namespaces: []}}`  |\n| `includedFiles`  | For working with WebAssembly           | [\"main.wasm\", \"wasm_exec.js\"]       |\n| `env`            | Environment variables for the container| `{LOG_LEVEL: \"warn\"}`               |\n| `rbac`           | Custom RBAC rules (requires building with `rbacMode: scoped`)                | `[{\"apiGroups\": [\"\u003CapiGroups>\"], \"resources\": [\"\u003Cresources>\"], \"verbs\": [\"\u003Cverbs>\"]}]` |\n| `rbacMode`       | Configures module to build binding RBAC with principal of least privilege | `scoped`, `admin` |\n| `additionalWebhooks` | Additional webhooks configuration | `[{\"failurePolicy\": \"Fail\", \"namespace\": \"example-namespace\"}]` |\n\n**admission.alwaysIgnore && watcher.alwaysIgnore**: These configurations cannot be used with the global `alwaysIgnore` field. They are used to specify namespaces that should always be ignored by the admission controller or watcher, respectively.\n**uuid**: An identifier for the module in the `pepr-system` namespace. If not provided, a UUID will be generated. It can be any [kubernetes acceptable name](https://kubernetes.io/docs/concepts/overview/working-with-objects/names/) that is under 36 characters.\n\nThese tables provide a comprehensive overview of the fields available for customization within the Helm overrides and the `package.json` file. Modify these according to your deployment requirements.\n\n### Example Custom RBAC Rules\n\nThe following example demonstrates how to add custom RBAC rules to the Pepr module.\n\n```json\n{\n  \"pepr\": {\n    \"rbac\": [\n      {\n        \"apiGroups\": [\"pepr.dev\"],\n        \"resources\": [\"customresources\"],\n        \"verbs\": [\"get\", \"list\"]\n      },\n      {\n        \"apiGroups\": [\"apps\"],\n        \"resources\": [\"deployments\"],\n        \"verbs\": [\"create\", \"delete\"]\n      }\n    ]\n  }\n}\n```","src/content/docs/user-guide/customization.md","93fe5a5c4acdbc7c",{"html":1032,"metadata":1033},"\u003Cp>This document outlines how to customize the build output through Helm overrides and \u003Ccode dir=\"auto\">package.json\u003C/code> configurations.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"redact-store-values-from-logs\">Redact Store Values from Logs\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#redact-store-values-from-logs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Redact Store Values from Logs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By default, the store values are displayed in logs, to redact them you can set the \u003Ccode dir=\"auto\">PEPR_STORE_REDACT_VALUES\u003C/code> environment variable to \u003Ccode dir=\"auto\">true\u003C/code> in the \u003Ccode dir=\"auto\">package.json\u003C/code> file or directly on the Watcher or Admission \u003Ccode dir=\"auto\">Deployment\u003C/code>. The default value is \u003Ccode dir=\"auto\">undefined\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_STORE_REDACT_VALUES\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;env&#x22;: {    &#x22;PEPR_STORE_REDACT_VALUES&#x22;: &#x22;true&#x22;  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"display-node-warnings\">Display Node Warnings\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#display-node-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Display Node Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can display warnings in the logs by setting the \u003Ccode dir=\"auto\">PEPR_NODE_WARNINGS\u003C/code> environment variable to \u003Ccode dir=\"auto\">true\u003C/code> in the \u003Ccode dir=\"auto\">package.json\u003C/code> file or directly on the Watcher or Admission \u003Ccode dir=\"auto\">Deployment\u003C/code>. The default value is \u003Ccode dir=\"auto\">undefined\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_NODE_WARNINGS\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;env&#x22;: {    &#x22;PEPR_NODE_WARNINGS&#x22;: &#x22;true&#x22;  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-log-format\">Customizing Log Format\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-log-format\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing Log Format”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The log format can be customized by setting the \u003Ccode dir=\"auto\">PINO_TIME_STAMP\u003C/code> environment variable in the \u003Ccode dir=\"auto\">package.json\u003C/code> file or directly on the Watcher or Admission \u003Ccode dir=\"auto\">Deployment\u003C/code>. The default value is a partial JSON timestamp string representation of the time. If set to \u003Ccode dir=\"auto\">iso\u003C/code>, the timestamp is displayed in an ISO format.\u003C/p>\n\u003Cp>\u003Cstrong>Caution\u003C/strong>: attempting to format time in-process will significantly impact logging performance.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PINO_TIME_STAMP\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">iso\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;env&#x22;: {    &#x22;PINO_TIME_STAMP&#x22;: &#x22;iso&#x22;  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>With ISO:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"level\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">30\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"time\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">2024-05-14T14:26:03.788Z\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">16\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">pepr-static-test-7f4d54b6cc-9lxm6\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"method\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">GET\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"url\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">/healthz\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"status\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">200\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"duration\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">1 ms\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:&#x22;2024-05-14T14:26:03.788Z&#x22;,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-7f4d54b6cc-9lxm6&#x22;,&#x22;method&#x22;:&#x22;GET&#x22;,&#x22;url&#x22;:&#x22;/healthz&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;1 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Default (without):\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"level\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">30\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"time\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">1715696764106\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">16\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">pepr-static-test-watcher-559d94447f-xkq2h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"method\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">GET\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"url\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">/healthz\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"status\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">200\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"duration\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">1 ms\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:&#x22;1715696764106&#x22;,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-559d94447f-xkq2h&#x22;,&#x22;method&#x22;:&#x22;GET&#x22;,&#x22;url&#x22;:&#x22;/healthz&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;1 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-watch-configuration\">Customizing Watch Configuration\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-watch-configuration\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing Watch Configuration”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The Watch configuration is a part of the Pepr module that allows you to watch for specific resources in the Kubernetes cluster. The Watch configuration can be customized by specific environment variables of the Watcher Deployment and can be set in the field in the \u003Ccode dir=\"auto\">package.json\u003C/code> or in the helm \u003Ccode dir=\"auto\">values.yaml\u003C/code> file.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Field\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RESYNC_FAILURE_MAX\u003C/code>\u003C/td>\u003Ctd>The maximum number of times to fail on a resync interval before re-establishing the watch URL and doing a relist.\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"5\"\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RETRY_DELAY_SECONDS\u003C/code>\u003C/td>\u003Ctd>The delay between retries in seconds.\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"10\"\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_LAST_SEEN_LIMIT_SECONDS\u003C/code>\u003C/td>\u003Ctd>Max seconds to go without receiving a watch event before re-establishing the watch\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"300\"\u003C/code> (5 mins)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RELIST_INTERVAL_SECONDS\u003C/code>\u003C/td>\u003Ctd>Amount of seconds to wait before a relist of the watched resources\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"600\"\u003C/code> (10 mins)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"configuring-reconcile\">Configuring Reconcile\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#configuring-reconcile\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Configuring Reconcile”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The \u003Ca href=\"/actions/reconcile\">Reconcile Action\u003C/a> allows you to maintain ordering of resource updates processed by a Pepr controller. The Reconcile configuration can be customized via environment variable on the Watcher Deployment, which can be set in the \u003Ccode dir=\"auto\">package.json\u003C/code> or in the helm \u003Ccode dir=\"auto\">values.yaml\u003C/code> file.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Field\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RECONCILE_STRATEGY\u003C/code>\u003C/td>\u003Ctd>How Pepr should order resource updates being Reconcile()‘d.\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"kindNsName\"\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Available Options\u003C/th>\u003Cth>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kind\u003C/code>\u003C/td>\u003Ctd>separate queues of events for Reconcile()‘d resources of a kind\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNs\u003C/code>\u003C/td>\u003Ctd>separate queues of events for Reconcile()‘d resources of a kind, within a namespace\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNsName\u003C/code>\u003C/td>\u003Ctd>separate queues of events for Reconcile()‘d resources of a kind, within a namespace, per name\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">global\u003C/code>\u003C/td>\u003Ctd>a single queue of events for all Reconcile()‘d resources\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-with-helm\">Customizing with Helm\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-with-helm\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing with Helm”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Below are the available Helm override configurations after you have built your Pepr module that you can put in the \u003Ccode dir=\"auto\">values.yaml\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"helm-overrides-table\">Helm Overrides Table\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#helm-overrides-table\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Helm Overrides Table”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parameter\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">additionalIgnoredNamespaces\u003C/code>\u003C/td>\u003Ctd>Namespaces to ignore in addition to alwaysIgnore.namespaces from Pepr config in \u003Ccode dir=\"auto\">package.json\u003C/code>.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">- pepr-playground\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">secrets.apiToken\u003C/code>\u003C/td>\u003Ctd>Kube API-Server Token.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">Buffer.from(apiToken).toString(\"base64\")\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">hash\u003C/code>\u003C/td>\u003Ctd>Unique hash for deployment. Do not change.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">&#x3C;your_hash>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">namespace.annotations\u003C/code>\u003C/td>\u003Ctd>Namespace annotations\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">namespace.labels\u003C/code>\u003C/td>\u003Ctd>Namespace labels\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{\"pepr.dev\": \"\"}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">uuid\u003C/code>\u003C/td>\u003Ctd>Unique identifier for the module\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">hub-operator\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">admission.*\u003C/code>\u003C/td>\u003Ctd>Admission controller configurations\u003C/td>\u003Ctd>Various, see subparameters below\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">watcher.*\u003C/code>\u003C/td>\u003Ctd>Watcher configurations\u003C/td>\u003Ctd>Various, see subparameters below\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"admission-and-watcher-subparameters\">Admission and Watcher Subparameters\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#admission-and-watcher-subparameters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Admission and Watcher Subparameters”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Subparameter\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">failurePolicy\u003C/code>\u003C/td>\u003Ctd>Webhook failure policy [Ignore, Fail]\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">webhookTimeout\u003C/code>\u003C/td>\u003Ctd>Timeout seconds for webhooks [1 - 30]\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">env\u003C/code>\u003C/td>\u003Ctd>Container environment variables\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">image\u003C/code>\u003C/td>\u003Ctd>Container image\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">annotations\u003C/code>\u003C/td>\u003Ctd>Deployment annotations\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">labels\u003C/code>\u003C/td>\u003Ctd>Deployment labels\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">securityContext\u003C/code>\u003C/td>\u003Ctd>Pod security context\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">readinessProbe\u003C/code>\u003C/td>\u003Ctd>Pod readiness probe definition\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">livenessProbe\u003C/code>\u003C/td>\u003Ctd>Pod liveness probe definition\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">resources\u003C/code>\u003C/td>\u003Ctd>Resource limits\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">containerSecurityContext\u003C/code>\u003C/td>\u003Ctd>Container’s security context\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">nodeSelector\u003C/code>\u003C/td>\u003Ctd>Node selection constraints\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">tolerations\u003C/code>\u003C/td>\u003Ctd>Tolerations to taints\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">affinity\u003C/code>\u003C/td>\u003Ctd>Node scheduling options\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">terminationGracePeriodSeconds\u003C/code>\u003C/td>\u003Ctd>Optional duration in seconds the pod needs to terminate gracefully\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Note: Replace \u003Ccode dir=\"auto\">*\u003C/code> within \u003Ccode dir=\"auto\">admission.*\u003C/code> or \u003Ccode dir=\"auto\">watcher.*\u003C/code> to apply settings specific to the desired subparameter (e.g. \u003Ccode dir=\"auto\">admission.failurePolicy\u003C/code>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-with-packagejson\">Customizing with package.json\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-with-packagejson\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing with package.json”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Below are the available configurations through \u003Ccode dir=\"auto\">package.json\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"packagejson-configurations-table\">package.json Configurations Table\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#packagejson-configurations-table\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “package.json Configurations Table”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Field\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">uuid\u003C/code>\u003C/td>\u003Ctd>Unique identifier for the module\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">hub-operator\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">onError\u003C/code>\u003C/td>\u003Ctd>Behavior of the webhook failure policy\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">audit\u003C/code>, \u003Ccode dir=\"auto\">ignore\u003C/code>, \u003Ccode dir=\"auto\">reject\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">webhookTimeout\u003C/code>\u003C/td>\u003Ctd>Webhook timeout in seconds\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">1\u003C/code> - \u003Ccode dir=\"auto\">30\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">customLabels\u003C/code>\u003C/td>\u003Ctd>Custom labels for namespaces\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{namespace: {}}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">alwaysIgnore\u003C/code>\u003C/td>\u003Ctd>Conditions to always ignore\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{namespaces: []}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">admission\u003C/code>\u003C/td>\u003Ctd>admission namespaces to always ignore\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{alwaysIgnore: {namespaces: []}}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">watch\u003C/code>\u003C/td>\u003Ctd>watcher namespaces to always ignore\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{alwaysIgnore: {namespaces: []}}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includedFiles\u003C/code>\u003C/td>\u003Ctd>For working with WebAssembly\u003C/td>\u003Ctd>[“main.wasm”, “wasm_exec.js”]\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">env\u003C/code>\u003C/td>\u003Ctd>Environment variables for the container\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{LOG_LEVEL: \"warn\"}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">rbac\u003C/code>\u003C/td>\u003Ctd>Custom RBAC rules (requires building with \u003Ccode dir=\"auto\">rbacMode: scoped\u003C/code>)\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">[{\"apiGroups\": [\"&#x3C;apiGroups>\"], \"resources\": [\"&#x3C;resources>\"], \"verbs\": [\"&#x3C;verbs>\"]}]\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">rbacMode\u003C/code>\u003C/td>\u003Ctd>Configures module to build binding RBAC with principal of least privilege\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">scoped\u003C/code>, \u003Ccode dir=\"auto\">admin\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">additionalWebhooks\u003C/code>\u003C/td>\u003Ctd>Additional webhooks configuration\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">[{\"failurePolicy\": \"Fail\", \"namespace\": \"example-namespace\"}]\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>admission.alwaysIgnore &#x26;&#x26; watcher.alwaysIgnore\u003C/strong>: These configurations cannot be used with the global \u003Ccode dir=\"auto\">alwaysIgnore\u003C/code> field. They are used to specify namespaces that should always be ignored by the admission controller or watcher, respectively.\n\u003Cstrong>uuid\u003C/strong>: An identifier for the module in the \u003Ccode dir=\"auto\">pepr-system\u003C/code> namespace. If not provided, a UUID will be generated. It can be any \u003Ca href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/names/\">kubernetes acceptable name\u003C/a> that is under 36 characters.\u003C/p>\n\u003Cp>These tables provide a comprehensive overview of the fields available for customization within the Helm overrides and the \u003Ccode dir=\"auto\">package.json\u003C/code> file. Modify these according to your deployment requirements.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"example-custom-rbac-rules\">Example Custom RBAC Rules\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#example-custom-rbac-rules\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Example Custom RBAC Rules”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The following example demonstrates how to add custom RBAC rules to the Pepr module.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"pepr\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"rbac\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"apiGroups\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"resources\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">customresources\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"verbs\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">get\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">list\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"apiGroups\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">apps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"resources\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">deployments\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"verbs\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">create\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">delete\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;pepr&#x22;: {    &#x22;rbac&#x22;: [      {        &#x22;apiGroups&#x22;: [&#x22;pepr.dev&#x22;],        &#x22;resources&#x22;: [&#x22;customresources&#x22;],        &#x22;verbs&#x22;: [&#x22;get&#x22;, &#x22;list&#x22;]      },      {        &#x22;apiGroups&#x22;: [&#x22;apps&#x22;],        &#x22;resources&#x22;: [&#x22;deployments&#x22;],        &#x22;verbs&#x22;: [&#x22;create&#x22;, &#x22;delete&#x22;]      }    ]  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1034,"localImagePaths":1068,"remoteImagePaths":1069,"frontmatter":1070,"imagePaths":1071},[1035,1038,1041,1044,1047,1050,1053,1056,1059,1062,1065],{"depth":80,"slug":1036,"text":1037},"redact-store-values-from-logs","Redact Store Values from Logs",{"depth":80,"slug":1039,"text":1040},"display-node-warnings","Display Node Warnings",{"depth":80,"slug":1042,"text":1043},"customizing-log-format","Customizing Log Format",{"depth":80,"slug":1045,"text":1046},"customizing-watch-configuration","Customizing Watch Configuration",{"depth":80,"slug":1048,"text":1049},"configuring-reconcile","Configuring Reconcile",{"depth":80,"slug":1051,"text":1052},"customizing-with-helm","Customizing with Helm",{"depth":131,"slug":1054,"text":1055},"helm-overrides-table","Helm Overrides Table",{"depth":131,"slug":1057,"text":1058},"admission-and-watcher-subparameters","Admission and Watcher Subparameters",{"depth":80,"slug":1060,"text":1061},"customizing-with-packagejson","Customizing with package.json",{"depth":131,"slug":1063,"text":1064},"packagejson-configurations-table","package.json Configurations Table",{"depth":131,"slug":1066,"text":1067},"example-custom-rbac-rules","Example Custom RBAC Rules",[],[],{"title":1024,"description":1024},[],"user-guide/filters",{"id":1072,"data":1074,"body":1079,"filePath":1080,"digest":1081,"rendered":1082},{"title":1075,"description":1075,"editUrl":66,"head":1076,"template":68,"sidebar":1077,"pagefind":66,"draft":70},"Pepr Filters",[],{"hidden":70,"attrs":1078},{},"Filters are functions that take a `AdmissionReview` or Watch event and return a boolean. They are used to filter out resources that do not meet certain criteria. Filters are used in the package to filter out resources that are not relevant to the user-defined admission or watch process.\n\n```ts\nWhen(a.ConfigMap)\n  // This limits the action to only act on new resources.\n  .IsCreated()\n  // Namespace filter\n  .InNamespace(\"webapp\")\n  // Name filter\n  .WithName(\"example-1\")\n  // Label filter\n  .WithLabel(\"app\", \"webapp\")\n  .WithLabel(\"env\", \"prod\")\n  .Mutate(request => {\n    request\n      .SetLabel(\"pepr\", \"was-here\")\n      .SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n  });\n```\n\n## `Filters`\n\n- `.WithName(\"name\")`: Filters resources by name.\n- `.WithNameRegex(/^pepr/)`: Filters resources by name using a regex.\n- `.InNamespace(\"namespace\")`: Filters resources by namespace.\n- `.InNamespaceRegex(/(.*)-system/)`: Filters resources by namespace using a regex.\n- `.WithLabel(\"key\", \"value\")`: Filters resources by label. (Can be multiple)\n- `.WithDeletionTimestamp()`: Filters resources that have a deletion timestamp.\n\nNotes:\n\n- `WithDeletionTimestamp()` is does not work on Delete through the `Mutate` or `Validate` methods because the Kubernetes Admission Process does not fire the DELETE event with a deletion timestamp on the resource.\n- `WithDeletionTimestamp()` _will_ match on an Update event during Admission (`Mutate` or `Validate`) when pending-deletion permitted changes (like removing a finalizer) occur.","src/content/docs/user-guide/filters.md","b53d8d2aa6285938",{"html":1083,"metadata":1084},"\u003Cp>Filters are functions that take a \u003Ccode dir=\"auto\">AdmissionReview\u003C/code> or Watch event and return a boolean. They are used to filter out resources that do not meet certain criteria. Filters are used in the package to filter out resources that are not relevant to the user-defined admission or watch process.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// This limits the action to only act on new resources.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Namespace filter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">webapp\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Name filter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example-1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Label filter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">webapp\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">env\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">prod\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  // This limits the action to only act on new resources.  .IsCreated()  // Namespace filter  .InNamespace(&#x22;webapp&#x22;)  // Name filter  .WithName(&#x22;example-1&#x22;)  // Label filter  .WithLabel(&#x22;app&#x22;, &#x22;webapp&#x22;)  .WithLabel(&#x22;env&#x22;, &#x22;prod&#x22;)  .Mutate(request => {    request      .SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;)      .SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"filters\">\u003Ccode dir=\"auto\">Filters\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#filters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Filters”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">.WithName(\"name\")\u003C/code>: Filters resources by name.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.WithNameRegex(/^pepr/)\u003C/code>: Filters resources by name using a regex.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.InNamespace(\"namespace\")\u003C/code>: Filters resources by namespace.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.InNamespaceRegex(/(.*)-system/)\u003C/code>: Filters resources by namespace using a regex.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.WithLabel(\"key\", \"value\")\u003C/code>: Filters resources by label. (Can be multiple)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.WithDeletionTimestamp()\u003C/code>: Filters resources that have a deletion timestamp.\u003C/li>\n\u003C/ul>\n\u003Cp>Notes:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">WithDeletionTimestamp()\u003C/code> is does not work on Delete through the \u003Ccode dir=\"auto\">Mutate\u003C/code> or \u003Ccode dir=\"auto\">Validate\u003C/code> methods because the Kubernetes Admission Process does not fire the DELETE event with a deletion timestamp on the resource.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">WithDeletionTimestamp()\u003C/code> \u003Cem>will\u003C/em> match on an Update event during Admission (\u003Ccode dir=\"auto\">Mutate\u003C/code> or \u003Ccode dir=\"auto\">Validate\u003C/code>) when pending-deletion permitted changes (like removing a finalizer) occur.\u003C/li>\n\u003C/ul>",{"headings":1085,"localImagePaths":1089,"remoteImagePaths":1090,"frontmatter":1091,"imagePaths":1092},[1086],{"depth":80,"slug":1087,"text":1088},"filters","Filters",[],[],{"title":1075,"description":1075},[],"user-guide/generating-crds",{"id":1093,"data":1095,"body":1100,"filePath":1101,"digest":1102,"rendered":1103},{"title":1096,"description":1096,"editUrl":66,"head":1097,"template":68,"sidebar":1098,"pagefind":66,"draft":70},"Generating CRDs",[],{"hidden":70,"attrs":1099},{},"Pepr comes with the ability to generate Kubernetes Custom Resource Definitions (CRDs) from TypeScript types. This feature is particularly useful for operator developers who are creating Operators that utilize CRDs.\n\nTo generate a TypeScript types for a CRD, you can use the `pepr crd create` command. This command allows you to specify the group, version, kind, short name, plural name, and scope of the CRD.\n\n```bash\nnpx pepr crd create \\\n  --group cache \\\n  --version v1alpha1 \\\n  --kind Memcache \\\n  --short-name mc \\\n  --plural memcaches \\\n  --scope Namespaced\n```\n\nThis command will create a TypeScript file in the `crds` directory with the generated types for the specified CRD. The generated file will include the necessary type definitions for the CRD.\n\n:::note\nThe comments in the interface spec and condition type become descriptions for the CRD properties, so you can add comments to your properties to provide additional context or documentation for the generated types.\n:::\n\nAfter adding the required types for your CRD, you can then generate the CRD YAML file using the `pepr crd generate` command. This command will create a YAML file that defines the CRD in Kubernetes format.\n\n```bash\nnpx pepr crd generate\n```\n\nYou can control the output directory for the generated CRD YAML file by using the `--output` option. If not, it will be generated in the crds directory by default.\n\nAt this point, you can apply the generated CRD to your Kubernetes cluster using `kubectl apply -f crds/your-crd-file.yaml`.\n\n```bash\n> kubectl apply -f crds\ncustomresourcedefinition.apiextensions.k8s.io/memcaches.cache.pepr.dev created\n```","src/content/docs/user-guide/generating-crds.md","6639cff096998c27",{"html":1104,"metadata":1105},"\u003Cp>Pepr comes with the ability to generate Kubernetes Custom Resource Definitions (CRDs) from TypeScript types. This feature is particularly useful for operator developers who are creating Operators that utilize CRDs.\u003C/p>\n\u003Cp>To generate a TypeScript types for a CRD, you can use the \u003Ccode dir=\"auto\">pepr crd create\u003C/code> command. This command allows you to specify the group, version, kind, short name, plural name, and scope of the CRD.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--group\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cache\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--version\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">v1alpha1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Memcache\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--short-name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mc\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--plural\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">memcaches\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--scope\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Namespaced\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr crd create \\  --group cache \\  --version v1alpha1 \\  --kind Memcache \\  --short-name mc \\  --plural memcaches \\  --scope Namespaced\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>This command will create a TypeScript file in the \u003Ccode dir=\"auto\">crds\u003C/code> directory with the generated types for the specified CRD. The generated file will include the necessary type definitions for the CRD.\u003C/p>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>The comments in the interface spec and condition type become descriptions for the CRD properties, so you can add comments to your properties to provide additional context or documentation for the generated types.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cp>After adding the required types for your CRD, you can then generate the CRD YAML file using the \u003Ccode dir=\"auto\">pepr crd generate\u003C/code> command. This command will create a YAML file that defines the CRD in Kubernetes format.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">generate\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr crd generate\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You can control the output directory for the generated CRD YAML file by using the \u003Ccode dir=\"auto\">--output\u003C/code> option. If not, it will be generated in the crds directory by default.\u003C/p>\n\u003Cp>At this point, you can apply the generated CRD to your Kubernetes cluster using \u003Ccode dir=\"auto\">kubectl apply -f crds/your-crd-file.yaml\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> kubectl apply -f crds\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">customresourcedefinition.apiextensions.k8s.io/memcaches.cache.pepr.dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">created\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"> kubectl apply -f crdscustomresourcedefinition.apiextensions.k8s.io/memcaches.cache.pepr.dev created\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1106,"localImagePaths":1107,"remoteImagePaths":1108,"frontmatter":1109,"imagePaths":1110},[],[],[],{"title":1096,"description":1096},[],"user-guide/generating-custom-metrics",{"id":1111,"data":1113,"body":1118,"filePath":1119,"digest":1120,"rendered":1121},{"title":1114,"description":1114,"editUrl":66,"head":1115,"template":68,"sidebar":1116,"pagefind":66,"draft":70},"Generating Custom Metrics",[],{"hidden":70,"attrs":1117},{},"Pepr provides a `metricCollector` utility that lets you define custom metrics such as counters and gauges for your module.\n\nFor example, to track how often a specific event occurs, you can create a custom counter and gauge like this:\n\n```typescript\nimport { Capability, a, metricsCollector } from \"pepr\";\n\nexport const HelloPepr = new Capability({\n  name: \"hello-pepr\",\n  description: \"An example using the metric collector.\",\n});\n\n// Register a metric collector to count the number of times the hello-pepr label has been applied\nmetricsCollector.addCounter(\n  \"label_counter\",\n  \"example counter for counting number of times hello-pepr label has been applied\",\n);\n\n// Register a gauge to count how many times a given label has been applied\nmetricsCollector.addGauge(\n  \"label_gauge\",\n  \"example gauge for counting how times times a given label has been applied\",\n  [\"label\"],\n);\n\nconst { When } = HelloPepr;\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Mutate(po => {\n    po.SetLabel(\"hello-pepr\", \"true\");\n    po.SetLabel(\"blue\", \"true\");\n    po.SetLabel(\"green\", \"true\");\n    metricsCollector.incCounter(\"label_counter\");\n    metricsCollector.incGauge(\"label_gauge\", { label: \"blue\" }, 1);\n    metricsCollector.incGauge(\"label_gauge\", { label: \"green\" }, 1);\n    metricsCollector.incGauge(\"label_gauge\", { label: \"hello-pepr\" }, 1);\n  });\n```\n\nYou can access these metrics through the `/metrics` endpoint of your module. For example, if you are running `npx pepr dev --yes`, you can create some pods and then query the metrics like this:\n\n```bash\nterminal_a > npx pepr dev --yes\nterminal_b > curl -k http://localhost:3000/metrics\n...\n# HELP pepr_label_counter example counter for counting number of times hello-pepr label has been applied\n# TYPE pepr_label_counter counter\npepr_label_counter 0\n\n# HELP pepr_label_gauge example gauge for counting how times times a given label has been applied\n# TYPE pepr_label_gauge gauge\nterminal_b > kubectl run a --image=nginx \nterminal_b > kubectl run b --image=nginx\nterminal_b > kubectl run c --image=nginx\nterminal_b > curl -k http://localhost:3000/metrics\n...\n# TYPE pepr_label_counter counter\npepr_label_counter 3\n\n# HELP pepr_label_gauge example gauge for counting how times times a given label has been applied\n# TYPE pepr_label_gauge gauge\npepr_label_gauge{label=\"blue\"} 3\npepr_label_gauge{label=\"green\"} 3\npepr_label_gauge{label=\"hello-pepr\"} 3\n```","src/content/docs/user-guide/generating-custom-metrics.md","75f0249cfb30a4b4",{"html":1122,"metadata":1123},"\u003Cp>Pepr provides a \u003Ccode dir=\"auto\">metricCollector\u003C/code> utility that lets you define custom metrics such as counters and gauges for your module.\u003C/p>\n\u003Cp>For example, to track how often a specific event occurs, you can create a custom counter and gauge like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { Capability, a, metricsCollector } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HelloPepr\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Capability\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">description: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">An example using the metric collector.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Register a metric collector to count the number of times the hello-pepr label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">addCounter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_counter\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example counter for counting number of times hello-pepr label has been applied\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Register a gauge to count how many times a given label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">addGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_gauge\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example gauge for counting how times times a given label has been applied\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">HelloPepr;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">blue\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">green\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incCounter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_counter\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_gauge\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, { label: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">blue\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> }, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_gauge\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, { label: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">green\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> }, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_gauge\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, { label: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> }, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { Capability, a, metricsCollector } from &#x22;pepr&#x22;;export const HelloPepr = new Capability({  name: &#x22;hello-pepr&#x22;,  description: &#x22;An example using the metric collector.&#x22;,});// Register a metric collector to count the number of times the hello-pepr label has been appliedmetricsCollector.addCounter(  &#x22;label_counter&#x22;,  &#x22;example counter for counting number of times hello-pepr label has been applied&#x22;,);// Register a gauge to count how many times a given label has been appliedmetricsCollector.addGauge(  &#x22;label_gauge&#x22;,  &#x22;example gauge for counting how times times a given label has been applied&#x22;,  [&#x22;label&#x22;],);const { When } = HelloPepr;When(a.Pod)  .IsCreatedOrUpdated()  .Mutate(po => {    po.SetLabel(&#x22;hello-pepr&#x22;, &#x22;true&#x22;);    po.SetLabel(&#x22;blue&#x22;, &#x22;true&#x22;);    po.SetLabel(&#x22;green&#x22;, &#x22;true&#x22;);    metricsCollector.incCounter(&#x22;label_counter&#x22;);    metricsCollector.incGauge(&#x22;label_gauge&#x22;, { label: &#x22;blue&#x22; }, 1);    metricsCollector.incGauge(&#x22;label_gauge&#x22;, { label: &#x22;green&#x22; }, 1);    metricsCollector.incGauge(&#x22;label_gauge&#x22;, { label: &#x22;hello-pepr&#x22; }, 1);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You can access these metrics through the \u003Ccode dir=\"auto\">/metrics\u003C/code> endpoint of your module. For example, if you are running \u003Ccode dir=\"auto\">npx pepr dev --yes\u003C/code>, you can create some pods and then query the metrics like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_a\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--yes\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-k\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">http://localhost:3000/metrics\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># HELP pepr_label_counter example counter for counting number of times hello-pepr label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_counter counter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_counter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">0\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># HELP pepr_label_gauge example gauge for counting how times times a given label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_gauge gauge\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">a\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--image=nginx\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--image=nginx\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">c\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--image=nginx\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-k\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">http://localhost:3000/metrics\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_counter counter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_counter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># HELP pepr_label_gauge example gauge for counting how times times a given label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_gauge gauge\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_gauge\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">{label=\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\"blue\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_gauge\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">{label=\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\"green\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_gauge\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">{label=\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\"hello-pepr\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"terminal_a > npx pepr dev --yesterminal_b > curl -k http://localhost:3000/metrics...pepr_label_counter 0terminal_b > kubectl run a --image=nginxterminal_b > kubectl run b --image=nginxterminal_b > kubectl run c --image=nginxterminal_b > curl -k http://localhost:3000/metrics...pepr_label_counter 3pepr_label_gauge{label=&#x22;blue&#x22;} 3pepr_label_gauge{label=&#x22;green&#x22;} 3pepr_label_gauge{label=&#x22;hello-pepr&#x22;} 3\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1124,"localImagePaths":1125,"remoteImagePaths":1126,"frontmatter":1127,"imagePaths":1128},[],[],[],{"title":1114,"description":1114},[],{"id":18,"data":1130,"body":1134,"filePath":1135,"digest":1136,"rendered":1137},{"title":16,"description":16,"editUrl":66,"head":1131,"template":68,"sidebar":1132,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1133},{},"In this section you can find detailed information about Pepr and how to use it.\n\n# Sections\n\nYou can find the following information in this section:\n\n### [Pepr CLI](/user-guide/pepr-cli)\n\n### [SDK](/user-guide/sdk)\n\n### [Pepr Modules](/user-guide/pepr-modules)\n\n### [Pepr Capabilities](/user-guide/capabilities)\n\n### [Custom Resources](/user-guide/custom-resources)\n\n### [Customization](/user-guide/customization)\n\n### [Feature Flags](/user-guide/feature-flags)\n\n### [Filters](/user-guide/filters)\n\n### [Custom Metrics](/user-guide/generating-custom-metrics)\n\n### [Generating CRDs](/user-guide/generating-crds)\n\n### [Metrics](/user-guide/metrics-endpoints)\n\n### [OnSchedule](/user-guide/onschedule)\n\n### [RBAC](/user-guide/rbac)\n\n### [Pepr Store](/user-guide/store)","src/content/docs/user-guide/index.md","5f9de8e8bfae2982",{"html":1138,"metadata":1139},"\u003Cp>In this section you can find detailed information about Pepr and how to use it.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h1\">\u003Ch1 id=\"sections\">Sections\u003C/h1>\u003Ca class=\"sl-anchor-link\" href=\"#sections\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Sections”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can find the following information in this section:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-cli\">\u003Ca href=\"/user-guide/pepr-cli\">Pepr CLI\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-cli\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr CLI”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"sdk\">\u003Ca href=\"/user-guide/sdk\">SDK\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#sdk\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “SDK”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-modules\">\u003Ca href=\"/user-guide/pepr-modules\">Pepr Modules\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-modules\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Modules”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-capabilities\">\u003Ca href=\"/user-guide/capabilities\">Pepr Capabilities\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-capabilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Capabilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"custom-resources\">\u003Ca href=\"/user-guide/custom-resources\">Custom Resources\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#custom-resources\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Custom Resources”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"customization\">\u003Ca href=\"/user-guide/customization\">Customization\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#customization\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customization”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"feature-flags\">\u003Ca href=\"/user-guide/feature-flags\">Feature Flags\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"filters\">\u003Ca href=\"/user-guide/filters\">Filters\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#filters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Filters”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"custom-metrics\">\u003Ca href=\"/user-guide/generating-custom-metrics\">Custom Metrics\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#custom-metrics\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Custom Metrics”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"generating-crds\">\u003Ca href=\"/user-guide/generating-crds\">Generating CRDs\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#generating-crds\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Generating CRDs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"metrics\">\u003Ca href=\"/user-guide/metrics-endpoints\">Metrics\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#metrics\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Metrics”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"onschedule\">\u003Ca href=\"/user-guide/onschedule\">OnSchedule\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#onschedule\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “OnSchedule”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"rbac\">\u003Ca href=\"/user-guide/rbac\">RBAC\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#rbac\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “RBAC”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-store\">\u003Ca href=\"/user-guide/store\">Pepr Store\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-store\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Store”\u003C/span>\u003C/a>\u003C/div>",{"headings":1140,"localImagePaths":1175,"remoteImagePaths":1176,"frontmatter":1177,"imagePaths":1178},[1141,1144,1147,1150,1153,1155,1157,1159,1161,1162,1165,1167,1170,1171,1174],{"depth":523,"slug":1142,"text":1143},"sections","Sections",{"depth":131,"slug":1145,"text":1146},"pepr-cli","Pepr CLI",{"depth":131,"slug":1148,"text":1149},"sdk","SDK",{"depth":131,"slug":1151,"text":1152},"pepr-modules","Pepr Modules",{"depth":131,"slug":1154,"text":915},"pepr-capabilities",{"depth":131,"slug":1156,"text":939},"custom-resources",{"depth":131,"slug":1158,"text":1024},"customization",{"depth":131,"slug":1160,"text":966},"feature-flags",{"depth":131,"slug":1087,"text":1088},{"depth":131,"slug":1163,"text":1164},"custom-metrics","Custom Metrics",{"depth":131,"slug":1166,"text":1096},"generating-crds",{"depth":131,"slug":1168,"text":1169},"metrics","Metrics",{"depth":131,"slug":741,"text":742},{"depth":131,"slug":1172,"text":1173},"rbac","RBAC",{"depth":131,"slug":749,"text":750},[],[],{"title":16,"description":16},[],"user-guide/metrics-endpoints",{"id":1179,"data":1181,"body":1186,"filePath":1187,"digest":1188,"rendered":1189},{"title":1182,"description":1182,"editUrl":66,"head":1183,"template":68,"sidebar":1184,"pagefind":66,"draft":70},"Metrics Endpoints",[],{"hidden":70,"attrs":1185},{},"The `/metrics` endpoint provides metrics for the application that are collected via the `MetricsCollector` class. It uses the `prom-client` library and performance hooks from Node.js to gather and expose the metrics data in a format that can be scraped by Prometheus.\n\n## Metrics Exposed\n\nThe `MetricsCollector` exposes the following metrics:\n\n- `pepr_errors`: A counter that increments when an error event occurs in the application.\n- `pepr_alerts`: A counter that increments when an alert event is triggered in the application.\n- `pepr_mutate`: A summary that provides the observed durations of mutation events in the application.\n- `pepr_mutate_timeouts` : A counter that increments when a webhook timeout occurs during mutation.\n- `pepr_validate`: A summary that provides the observed durations of validation events in the application.\n- `pepr_validate_timeouts` : A counter that increments when a webhook timeout occurs during validation.\n- `pepr_cache_miss`: A gauge that provides the number of cache misses per window.\n- `pepr_resync_failure_count`: A gauge that provides the number of unsuccessful attempts at receiving an event within the last seen event limit before re-establishing a new connection.\n\n## Environment Variables\n\n| `PEPR_MAX_CACHE_MISS_WINDOWS` | Maximum number windows to emit `pepr_cache_miss` metrics for  | default: `Undefined`  |\n\n## API Details\n\n**Method:** GET\n\n**URL:** `/metrics`\n\n**Response Type:** text/plain\n\n**Status Codes:**\n\n- 200 OK: On success, returns the current metrics from the application.\n\n**Response Body:**\nThe response body is a plain text representation of the metrics data, according to the Prometheus exposition formats. It includes the metrics mentioned above.\n\n## Examples\n\n### Request\n\n```plaintext\nGET /metrics\n```\n\n### Response\n\n```plaintext\n  `# HELP pepr_errors Mutation/Validate errors encountered\n  # TYPE pepr_errors counter\n  pepr_errors 5\n\n  # HELP pepr_alerts Mutation/Validate bad api token received\n  # TYPE pepr_alerts counter\n  pepr_alerts 10\n\n  # HELP pepr_mutate Mutation operation summary\n  # TYPE pepr_mutate summary\n  pepr_mutate{quantile=\"0.01\"} 100.60707900021225\n  pepr_mutate{quantile=\"0.05\"} 100.60707900021225\n  pepr_mutate{quantile=\"0.5\"} 100.60707900021225\n  pepr_mutate{quantile=\"0.9\"} 100.60707900021225\n  pepr_mutate{quantile=\"0.95\"} 100.60707900021225\n  pepr_mutate{quantile=\"0.99\"} 100.60707900021225\n  pepr_mutate{quantile=\"0.999\"} 100.60707900021225\n  pepr_mutate_sum 100.60707900021225\n  pepr_mutate_count 1\n\n  # HELP pepr_validate Validation operation summary\n  # TYPE pepr_validate summary\n  pepr_validate{quantile=\"0.01\"} 201.19413900002837\n  pepr_validate{quantile=\"0.05\"} 201.19413900002837\n  pepr_validate{quantile=\"0.5\"} 201.2137690000236\n  pepr_validate{quantile=\"0.9\"} 201.23339900001884\n  pepr_validate{quantile=\"0.95\"} 201.23339900001884\n  pepr_validate{quantile=\"0.99\"} 201.23339900001884\n  pepr_validate{quantile=\"0.999\"} 201.23339900001884\n  pepr_validate_sum 402.4275380000472\n  pepr_validate_count 2\n\n  # HELP pepr_cache_miss Number of cache misses per window\n  # TYPE pepr_cache_miss gauge\n  pepr_cache_miss{window=\"2024-07-25T11:54:33.897Z\"} 18\n  pepr_cache_miss{window=\"2024-07-25T12:24:34.592Z\"} 0\n  pepr_cache_miss{window=\"2024-07-25T13:14:33.450Z\"} 22\n  pepr_cache_miss{window=\"2024-07-25T13:44:34.234Z\"} 19\n  pepr_cache_miss{window=\"2024-07-25T14:14:34.961Z\"} 0\n\n  # HELP pepr_resync_failure_count Number of retries per count\n  # TYPE pepr_resync_failure_count gauge\n  pepr_resync_failure_count{count=\"0\"} 5\n  pepr_resync_failure_count{count=\"1\"} 4\n```\n\n## Prometheus Operator\n\nIf using the Prometheus Operator, the following `ServiceMonitor` example manifests can be used to scrape the `/metrics` endpoint for the `admission` and `watcher` controllers.\n\n```yaml\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: admission\nspec:\n  selector:\n    matchLabels:\n      pepr.dev/controller: admission\n  namespaceSelector:\n    matchNames:\n    - pepr-system\n  endpoints:\n  - targetPort: 3000\n    scheme: https\n    tlsConfig:\n      insecureSkipVerify: true\n---\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: watcher\nspec:\n  selector:\n    matchLabels:\n      pepr.dev/controller: watcher\n  namespaceSelector:\n    matchNames:\n    - pepr-system\n  endpoints:\n  - targetPort: 3000\n    scheme: https\n    tlsConfig:\n      insecureSkipVerify: true\n```","src/content/docs/user-guide/metrics-endpoints.md","9fecb69acc183d24",{"html":1190,"metadata":1191},"\u003Cp>The \u003Ccode dir=\"auto\">/metrics\u003C/code> endpoint provides metrics for the application that are collected via the \u003Ccode dir=\"auto\">MetricsCollector\u003C/code> class. It uses the \u003Ccode dir=\"auto\">prom-client\u003C/code> library and performance hooks from Node.js to gather and expose the metrics data in a format that can be scraped by Prometheus.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"metrics-exposed\">Metrics Exposed\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#metrics-exposed\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Metrics Exposed”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">MetricsCollector\u003C/code> exposes the following metrics:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_errors\u003C/code>: A counter that increments when an error event occurs in the application.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_alerts\u003C/code>: A counter that increments when an alert event is triggered in the application.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_mutate\u003C/code>: A summary that provides the observed durations of mutation events in the application.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_mutate_timeouts\u003C/code> : A counter that increments when a webhook timeout occurs during mutation.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_validate\u003C/code>: A summary that provides the observed durations of validation events in the application.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_validate_timeouts\u003C/code> : A counter that increments when a webhook timeout occurs during validation.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_cache_miss\u003C/code>: A gauge that provides the number of cache misses per window.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">pepr_resync_failure_count\u003C/code>: A gauge that provides the number of unsuccessful attempts at receiving an event within the last seen event limit before re-establishing a new connection.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"environment-variables\">Environment Variables\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#environment-variables\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Environment Variables”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>| \u003Ccode dir=\"auto\">PEPR_MAX_CACHE_MISS_WINDOWS\u003C/code> | Maximum number windows to emit \u003Ccode dir=\"auto\">pepr_cache_miss\u003C/code> metrics for  | default: \u003Ccode dir=\"auto\">Undefined\u003C/code>  |\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"api-details\">API Details\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#api-details\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “API Details”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Method:\u003C/strong> GET\u003C/p>\n\u003Cp>\u003Cstrong>URL:\u003C/strong> \u003Ccode dir=\"auto\">/metrics\u003C/code>\u003C/p>\n\u003Cp>\u003Cstrong>Response Type:\u003C/strong> text/plain\u003C/p>\n\u003Cp>\u003Cstrong>Status Codes:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>200 OK: On success, returns the current metrics from the application.\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Response Body:\u003C/strong>\nThe response body is a plain text representation of the metrics data, according to the Prometheus exposition formats. It includes the metrics mentioned above.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"examples\">Examples\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#examples\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Examples”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"request\">Request\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#request\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Request”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">GET /metrics\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"GET /metrics\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"response\">Response\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#response\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Response”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">`# HELP pepr_errors Mutation/Validate errors encountered\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># TYPE pepr_errors counter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_errors 5\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># HELP pepr_alerts Mutation/Validate bad api token received\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># TYPE pepr_alerts counter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_alerts 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># HELP pepr_mutate Mutation operation summary\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># TYPE pepr_mutate summary\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.01\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.05\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.5\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.9\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.95\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.99\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate{quantile=\"0.999\"} 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate_sum 100.60707900021225\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_mutate_count 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># HELP pepr_validate Validation operation summary\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># TYPE pepr_validate summary\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.01\"} 201.19413900002837\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.05\"} 201.19413900002837\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.5\"} 201.2137690000236\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.9\"} 201.23339900001884\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.95\"} 201.23339900001884\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.99\"} 201.23339900001884\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate{quantile=\"0.999\"} 201.23339900001884\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate_sum 402.4275380000472\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_validate_count 2\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># HELP pepr_cache_miss Number of cache misses per window\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># TYPE pepr_cache_miss gauge\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_cache_miss{window=\"2024-07-25T11:54:33.897Z\"} 18\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_cache_miss{window=\"2024-07-25T12:24:34.592Z\"} 0\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_cache_miss{window=\"2024-07-25T13:14:33.450Z\"} 22\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_cache_miss{window=\"2024-07-25T13:44:34.234Z\"} 19\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_cache_miss{window=\"2024-07-25T14:14:34.961Z\"} 0\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># HELP pepr_resync_failure_count Number of retries per count\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\"># TYPE pepr_resync_failure_count gauge\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_resync_failure_count{count=\"0\"} 5\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">pepr_resync_failure_count{count=\"1\"} 4\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x60;# HELP pepr_errors Mutation/Validate errors encountered  # TYPE pepr_errors counter  pepr_errors 5  # HELP pepr_alerts Mutation/Validate bad api token received  # TYPE pepr_alerts counter  pepr_alerts 10  # HELP pepr_mutate Mutation operation summary  # TYPE pepr_mutate summary  pepr_mutate{quantile=&#x22;0.01&#x22;} 100.60707900021225  pepr_mutate{quantile=&#x22;0.05&#x22;} 100.60707900021225  pepr_mutate{quantile=&#x22;0.5&#x22;} 100.60707900021225  pepr_mutate{quantile=&#x22;0.9&#x22;} 100.60707900021225  pepr_mutate{quantile=&#x22;0.95&#x22;} 100.60707900021225  pepr_mutate{quantile=&#x22;0.99&#x22;} 100.60707900021225  pepr_mutate{quantile=&#x22;0.999&#x22;} 100.60707900021225  pepr_mutate_sum 100.60707900021225  pepr_mutate_count 1  # HELP pepr_validate Validation operation summary  # TYPE pepr_validate summary  pepr_validate{quantile=&#x22;0.01&#x22;} 201.19413900002837  pepr_validate{quantile=&#x22;0.05&#x22;} 201.19413900002837  pepr_validate{quantile=&#x22;0.5&#x22;} 201.2137690000236  pepr_validate{quantile=&#x22;0.9&#x22;} 201.23339900001884  pepr_validate{quantile=&#x22;0.95&#x22;} 201.23339900001884  pepr_validate{quantile=&#x22;0.99&#x22;} 201.23339900001884  pepr_validate{quantile=&#x22;0.999&#x22;} 201.23339900001884  pepr_validate_sum 402.4275380000472  pepr_validate_count 2  # HELP pepr_cache_miss Number of cache misses per window  # TYPE pepr_cache_miss gauge  pepr_cache_miss{window=&#x22;2024-07-25T11:54:33.897Z&#x22;} 18  pepr_cache_miss{window=&#x22;2024-07-25T12:24:34.592Z&#x22;} 0  pepr_cache_miss{window=&#x22;2024-07-25T13:14:33.450Z&#x22;} 22  pepr_cache_miss{window=&#x22;2024-07-25T13:44:34.234Z&#x22;} 19  pepr_cache_miss{window=&#x22;2024-07-25T14:14:34.961Z&#x22;} 0  # HELP pepr_resync_failure_count Number of retries per count  # TYPE pepr_resync_failure_count gauge  pepr_resync_failure_count{count=&#x22;0&#x22;} 5  pepr_resync_failure_count{count=&#x22;1&#x22;} 4\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prometheus-operator\">Prometheus Operator\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prometheus-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prometheus Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If using the Prometheus Operator, the following \u003Ccode dir=\"auto\">ServiceMonitor\u003C/code> example manifests can be used to scrape the \u003Ccode dir=\"auto\">/metrics\u003C/code> endpoint for the \u003Ccode dir=\"auto\">admission\u003C/code> and \u003Ccode dir=\"auto\">watcher\u003C/code> controllers.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitoring.coreos.com/v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ServiceMonitor\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admission\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">spec\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchLabels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr.dev/controller\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admission\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespaceSelector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchNames\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">endpoints\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">targetPort\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3000\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">scheme\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">tlsConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">insecureSkipVerify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">---\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitoring.coreos.com/v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ServiceMonitor\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watcher\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">spec\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchLabels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr.dev/controller\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watcher\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespaceSelector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchNames\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">endpoints\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">targetPort\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3000\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">scheme\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">tlsConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">insecureSkipVerify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"apiVersion: monitoring.coreos.com/v1kind: ServiceMonitormetadata:  name: admissionspec:  selector:    matchLabels:      pepr.dev/controller: admission  namespaceSelector:    matchNames:    - pepr-system  endpoints:  - targetPort: 3000    scheme: https    tlsConfig:      insecureSkipVerify: true---apiVersion: monitoring.coreos.com/v1kind: ServiceMonitormetadata:  name: watcherspec:  selector:    matchLabels:      pepr.dev/controller: watcher  namespaceSelector:    matchNames:    - pepr-system  endpoints:  - targetPort: 3000    scheme: https    tlsConfig:      insecureSkipVerify: true\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1192,"localImagePaths":1214,"remoteImagePaths":1215,"frontmatter":1216,"imagePaths":1217},[1193,1196,1199,1202,1205,1208,1211],{"depth":80,"slug":1194,"text":1195},"metrics-exposed","Metrics Exposed",{"depth":80,"slug":1197,"text":1198},"environment-variables","Environment Variables",{"depth":80,"slug":1200,"text":1201},"api-details","API Details",{"depth":80,"slug":1203,"text":1204},"examples","Examples",{"depth":131,"slug":1206,"text":1207},"request","Request",{"depth":131,"slug":1209,"text":1210},"response","Response",{"depth":80,"slug":1212,"text":1213},"prometheus-operator","Prometheus Operator",[],[],{"title":1182,"description":1182},[],"user-guide/onschedule",{"id":1218,"data":1220,"body":1224,"filePath":1225,"digest":1226,"rendered":1227},{"title":742,"description":742,"editUrl":66,"head":1221,"template":68,"sidebar":1222,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1223},{},"The `OnSchedule` feature allows you to schedule and automate the execution of specific code at predefined intervals or schedules. This feature is designed to simplify recurring tasks and can serve as an alternative to traditional CronJobs. This code is designed to be run at the top level on a Capability, not within a function like `When`.\n\n## Best Practices\n\n`OnSchedule` is designed for targeting intervals equal to or larger than 30 seconds due to the storage mechanism used to archive schedule info.\n\n## Usage\n\nCreate a recurring task execution by calling the OnSchedule function with the following parameters:\n\n**name** - The unique name of the schedule.\n\n**every** - An integer that represents the frequency of the schedule in number of _units_.\n\n**unit** - A string specifying the time unit for the schedule (e.g., `seconds`, `minute`, `minutes`, `hour`, `hours`).\n\n**startTime** - (Optional) A UTC timestamp indicating when the schedule should start. All date times must be provided in GMT. If not specified the schedule will start when the schedule store reports ready.\n\n**run** - A function that contains the code you want to execute on the defined schedule.\n\n**completions** - (Optional) An integer indicating the maximum number of times the schedule should run to completion. If not specified the schedule will run indefinitely.\n\n## Examples\n\nUpdate a ConfigMap every 30 seconds:\n\n```typescript\nOnSchedule({\n    name: \"hello-interval\",\n    every: 30,\n    unit: \"seconds\",\n    run: async () => {\n      Log.info(\"Wait 30 seconds and create/update a ConfigMap\");\n\n      try {\n        await K8s(kind.ConfigMap).Apply({\n          metadata: {\n            name: \"last-updated\",\n            namespace: \"default\",\n          },\n          data: {\n            count: `${new Date()}`,\n          },\n        });\n\n      } catch (error) {\n        Log.error(error, \"Failed to apply ConfigMap using server-side apply.\");\n      }\n    },\n  });\n```\n\nRefresh an AWSToken every 24 hours, with a delayed start of 30 seconds, running a total of 3 times:\n\n```typescript\n\nOnSchedule({\n  name: \"refresh-aws-token\",\n  every: 24,\n  unit: \"hours\",\n  startTime: new Date(new Date().getTime() + 1000 * 30),\n  run: async () => {\n    await RefreshAWSToken();\n  },\n  completions: 3,\n});\n```\n\n## Advantages\n\n- Simplifies scheduling recurring tasks without the need for complex CronJob configurations.\n- Provides flexibility to define schedules in a human-readable format.\n- Allows you to execute code with precision at specified intervals.\n- Supports limiting the number of schedule completions for finite tasks.","src/content/docs/user-guide/onschedule.md","00b56db745fb6b54",{"html":1228,"metadata":1229},"\u003Cp>The \u003Ccode dir=\"auto\">OnSchedule\u003C/code> feature allows you to schedule and automate the execution of specific code at predefined intervals or schedules. This feature is designed to simplify recurring tasks and can serve as an alternative to traditional CronJobs. This code is designed to be run at the top level on a Capability, not within a function like \u003Ccode dir=\"auto\">When\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"best-practices\">Best Practices\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#best-practices\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Best Practices”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">OnSchedule\u003C/code> is designed for targeting intervals equal to or larger than 30 seconds due to the storage mechanism used to archive schedule info.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"usage\">Usage\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#usage\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Usage”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a recurring task execution by calling the OnSchedule function with the following parameters:\u003C/p>\n\u003Cp>\u003Cstrong>name\u003C/strong> - The unique name of the schedule.\u003C/p>\n\u003Cp>\u003Cstrong>every\u003C/strong> - An integer that represents the frequency of the schedule in number of \u003Cem>units\u003C/em>.\u003C/p>\n\u003Cp>\u003Cstrong>unit\u003C/strong> - A string specifying the time unit for the schedule (e.g., \u003Ccode dir=\"auto\">seconds\u003C/code>, \u003Ccode dir=\"auto\">minute\u003C/code>, \u003Ccode dir=\"auto\">minutes\u003C/code>, \u003Ccode dir=\"auto\">hour\u003C/code>, \u003Ccode dir=\"auto\">hours\u003C/code>).\u003C/p>\n\u003Cp>\u003Cstrong>startTime\u003C/strong> - (Optional) A UTC timestamp indicating when the schedule should start. All date times must be provided in GMT. If not specified the schedule will start when the schedule store reports ready.\u003C/p>\n\u003Cp>\u003Cstrong>run\u003C/strong> - A function that contains the code you want to execute on the defined schedule.\u003C/p>\n\u003Cp>\u003Cstrong>completions\u003C/strong> - (Optional) An integer indicating the maximum number of times the schedule should run to completion. If not specified the schedule will run indefinitely.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"examples\">Examples\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#examples\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Examples”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Update a ConfigMap every 30 seconds:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">OnSchedule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-interval\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">every: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">30\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">unit: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">seconds\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">()\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Wait 30 seconds and create/update a ConfigMap\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">K8s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kind\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">last-updated\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">data: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">count: \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Date\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (error) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(error, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Failed to apply ConfigMap using server-side apply.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"OnSchedule({    name: &#x22;hello-interval&#x22;,    every: 30,    unit: &#x22;seconds&#x22;,    run: async () => {      Log.info(&#x22;Wait 30 seconds and create/update a ConfigMap&#x22;);      try {        await K8s(kind.ConfigMap).Apply({          metadata: {            name: &#x22;last-updated&#x22;,            namespace: &#x22;default&#x22;,          },          data: {            count: &#x60;${new Date()}&#x60;,          },        });      } catch (error) {        Log.error(error, &#x22;Failed to apply ConfigMap using server-side apply.&#x22;);      }    },  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Refresh an AWSToken every 24 hours, with a delayed start of 30 seconds, running a total of 3 times:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">OnSchedule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">refresh-aws-token\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">every: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">24\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">unit: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hours\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">startTime: \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Date\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Date\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getTime\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">() \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">+\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1000\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">*\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">30\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">),\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">()\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">RefreshAWSToken\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">completions: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"OnSchedule({  name: &#x22;refresh-aws-token&#x22;,  every: 24,  unit: &#x22;hours&#x22;,  startTime: new Date(new Date().getTime() + 1000 * 30),  run: async () => {    await RefreshAWSToken();  },  completions: 3,});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"advantages\">Advantages\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#advantages\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Advantages”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Simplifies scheduling recurring tasks without the need for complex CronJob configurations.\u003C/li>\n\u003Cli>Provides flexibility to define schedules in a human-readable format.\u003C/li>\n\u003Cli>Allows you to execute code with precision at specified intervals.\u003C/li>\n\u003Cli>Supports limiting the number of schedule completions for finite tasks.\u003C/li>\n\u003C/ul>",{"headings":1230,"localImagePaths":1239,"remoteImagePaths":1240,"frontmatter":1241,"imagePaths":1242},[1231,1232,1235,1236],{"depth":80,"slug":978,"text":979},{"depth":80,"slug":1233,"text":1234},"usage","Usage",{"depth":80,"slug":1203,"text":1204},{"depth":80,"slug":1237,"text":1238},"advantages","Advantages",[],[],{"title":742,"description":742},[],"user-guide/pepr-modules",{"id":1243,"data":1245,"body":1249,"filePath":1250,"digest":1251,"rendered":1252},{"title":1152,"description":1152,"editUrl":66,"head":1246,"template":68,"sidebar":1247,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1248},{},"## What is a Pepr Module?\n\nA Pepr Module is a collection of [capabilities](https://docs.pepr.dev/main/user-guide/capabilities/), config and scaffolding in a Pepr Project. To create a module use the `npx pepr init` command.","src/content/docs/user-guide/pepr-modules.md","8949cdbe336e7eab",{"html":1253,"metadata":1254},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-is-a-pepr-module\">What is a Pepr Module?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-is-a-pepr-module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What is a Pepr Module?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A Pepr Module is a collection of \u003Ca href=\"https://docs.pepr.dev/main/user-guide/capabilities/\">capabilities\u003C/a>, config and scaffolding in a Pepr Project. To create a module use the \u003Ccode dir=\"auto\">npx pepr init\u003C/code> command.\u003C/p>",{"headings":1255,"localImagePaths":1259,"remoteImagePaths":1260,"frontmatter":1261,"imagePaths":1262},[1256],{"depth":80,"slug":1257,"text":1258},"what-is-a-pepr-module","What is a Pepr Module?",[],[],{"title":1152,"description":1152},[],"user-guide/pepr-cli",{"id":1263,"data":1265,"body":1269,"filePath":1270,"digest":1271,"rendered":1272},{"title":1146,"description":1146,"editUrl":66,"head":1266,"template":68,"sidebar":1267,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1268},{},"## `npx pepr`\n\nType safe K8s middleware for humans\n\n**Options:**\n\n- `-V, --version` - output the version number\n- `--features \u003Cfeatures>` - Comma-separated feature flags (feature=value,feature2=value2)\n- `-h, --help` - display help for command\n\n**Commands:**\n\n  crd                      Scaffold and generate Kubernetes CRDs from structured TypeScript definitions\n  init [options]           Initialize a new Pepr Module\n  build [options]          Build a Pepr Module for deployment\n  deploy [options]         Deploy a Pepr Module\n  dev [options]            Setup a local webhook development environment\n  update [options]         Update this Pepr module. Not recommended for prod as it may change files.\n  format [options]         Lint and format this Pepr module\n  monitor [module-uuid]    Monitor a Pepr Module\n  uuid [uuid]              Module UUID(s) currently deployed in the cluster\n  kfc [options] [args...]  Execute Kubernetes Fluent Client commands\n\n## `npx pepr build`\n\nBuild a Pepr Module for deployment.\n\n**Options:**\n\n- `-M, --rbac-mode \u003Cmode>` - Override module config and set RBAC mode. (choices: \"admin\", \"scoped\")\n- `-I, --registry-info \u003Cregistry/username>` - Provide the image registry and username for building and pushing a custom WASM container. Requires authentication. Conflicts with --custom-image and --registry. Builds and pushes `'\u003Cregistry/username>/custom-pepr-controller:\u003Ccurrent-version>'`.\n- `-P, --with-pull-secret \u003Cname>` - Use image pull secret for controller Deployment. (default: \"\")\n- `-c, --custom-name \u003Cname>` - Set name for zarf component and service monitors in helm charts.\n- `-e, --entry-point \u003Cfile>` - Specify the entry point file to build with. (default: pepr.ts)\n- `-i, --custom-image \u003Cimage>` - Specify a custom image with version for deployments. Conflicts with --registry-info and --registry. Example: 'docker.io/username/custom-pepr-controller:v1.0.0'\n- `-n, --no-embed` - Disable embedding of deployment files into output module. Useful when creating library modules intended solely for reuse/distribution via NPM.\n- `-o, --output \u003Cdirectory>` - Set output directory. (default: \"dist\")\n- `-r, --registry \u003Cregistry>` - Container registry: Choose container registry for deployment manifests. Conflicts with --custom-image and --registry-info. (choices: \"GitHub\", \"Iron Bank\")\n- `-t, --timeout \u003Cseconds>` - How long the API server should wait for a webhook to respond before treating the call as a failure.\n- `-z, --zarf \u003Cmanifest|chart>` - Set Zarf package type (choices: \"manifest\", \"chart\", default: \"manifest\")\n- `-h, --help` - display help for command\n\nCreate a [zarf.yaml](https://zarf.dev) and K8s manifest for the current module. This includes everything needed to deploy Pepr and the current module into production environments.\n\n## `npx pepr crd`\n\nScaffold and generate Kubernetes CRDs from structured TypeScript definitions.\n\n**Options:**\n\n- `-h, --help` - display help for command\n\n**Commands:**\n\n  create [options]    Create a new CRD TypeScript definition\n  generate [options]  Generate CRD manifests from TypeScript definitions stored in 'api/' of the current directory.\n  help [command]      display help for command\n\n## `npx pepr crd create`\n\nCreate a new CRD TypeScript definition.\n\n**Options:**\n\n- `-S, --scope \u003Cscope>` - Whether the resulting custom resource is cluster- or namespace-scoped (choices: \"Namespaced\", \"Cluster\", default: \"Namespaced\")\n- `-d, --domain \u003Cdomain>` - Optional domain for CRD (e.g. pepr.dev) (default: \"pepr.dev\")\n- `-g, --group \u003Cgroup>` - API group (e.g. cache)\n- `-k, --kind \u003Ckind>` - Kind name (e.g. memcached)\n- `-p, --plural \u003Cplural>` - Plural name for CRD (e.g. memcacheds)\n- `-s, --short-name \u003Cname>` - Short name for CRD (e.g. mc)\n- `-v, --version \u003Cversion>` - API version (e.g. v1alpha1)\n- `-h, --help` - display help for command\n\n## `npx pepr crd generate`\n\nGenerate CRD manifests from TypeScript definitions stored in 'api/' of the current directory.\n\n**Options:**\n\n- `-o, --output \u003Cdirectory>` - Output directory for generated CRDs (default: \"./crds\")\n- `-h, --help` - display help for command\n\n## `npx pepr deploy`\n\nDeploy the current module into a Kubernetes cluster, useful for CI systems. Not recommended for production use.\n\n**Options:**\n\n- `-E, --docker-email \u003Cemail>` - Email for Docker registry.\n- `-P, --docker-password \u003Cpassword>` - Password for Docker registry.\n- `-S, --docker-server \u003Cserver>` - Docker server address.\n- `-U, --docker-username \u003Cusername>` - Docker registry username.\n- `-f, --force` - Force deploy the module, override manager field.\n- `-i, --image \u003Cimage>` - Override the image tag.\n- `-p, --pull-secret \u003Cname>` - Deploy imagePullSecret for Controller private registry.\n- `-y, --yes` - Skip confirmation prompts.\n- `-h, --help` - display help for command\n\n## `npx pepr dev`\n\nSetup a local webhook development environment\n\n**Options:**\n\n- `-H, --host \u003Chost>` - Host to listen on (default: \"host.k3d.internal\")\n- `-y, --yes` - Skip confirmation prompt\n- `-h, --help` - display help for command\n\nConnect a local cluster to a local version of the Pepr Controller to do real-time debugging of your module. Note the `npx pepr dev` assumes a K3d cluster is running by default. If you are working with Kind or another docker-based K8s distro, you will need to pass the `--host host.docker.internal` option to `npx pepr dev`. If working with a remote cluster you will have to give Pepr a host path to your machine that is reachable from the K8s cluster.\n\n:::note\nThis command, by necessity, installs resources into the cluster you run it against.  Generally, these resources are removed once the `pepr dev` session ends but there are two notable exceptions:\n:::\n\n- the `pepr-system` namespace, and\n- the `PeprStore` CRD.\n\nThese can't be auto-removed because they're global in scope & doing so would risk wrecking any other Pepr deployments that are already running in-cluster.  If (for some strange reason) you're _not_ `pepr dev`-ing against an ephemeral dev cluster and need to keep the cluster clean, you'll have to remove these hold-overs yourself (or not)!\n\n## `npx pepr format`\n\nLint and format this Pepr module.\n\n**Options:**\n\n- `-v, --validate-only` - Do not modify files, only validate formatting.\n- `-h, --help` - display help for command\n\n## `npx pepr init`\n\nInitialize a new Pepr Module.\n\n**Options:**\n\n- `-d, --description \u003Cstring>` - Explain the purpose of the new module.\n- `-e, --error-behavior \u003Cbehavior>` - Set an error behavior. (choices: \"audit\", \"ignore\", \"reject\")\n- `-n, --name \u003Cstring>` - Set the name of the new module.\n- `-s, --skip-post-init` - Skip npm install, git init, and VSCode launch.\n- `-u, --uuid \u003Cstring>` - Unique identifier for your module with a max length of 36 characters.\n- `-y, --yes` - Skip verification prompt when creating a new module.\n- `-h, --help` - display help for command\n\n## `npx pepr kfc`\n\nExecute a `kubernetes-fluent-client` command. This command is a wrapper around `kubernetes-fluent-client`.\n\n**Options:**\n\n- `-y, --yes` - Skip confirmation prompt.\n- `-h, --help` - display help for command\n\nUsage:\n\n```bash\nnpx pepr kfc [options] [command]\n```\n\nIf you are unsure of what commands are available, you can run `npx pepr kfc` to see the available commands.\n\nFor example, to generate usable types from a Kubernetes CRD, you can run `npx pepr kfc crd [source] [directory]`. This will generate the types for the `[source]` CRD and output the generated types to the `[directory]`.\n\nYou can [learn more about the `kubernetes-fluent-client` here](https://github.com/defenseunicorns/kubernetes-fluent-client).\n\n## `npx pepr monitor`\n\nMonitor Validations for a given Pepr Module or all Pepr Modules.\n\n**Options:**\n\n- `-h, --help` - display help for command\n\nUsage:\n\n```bash\nnpx pepr monitor [options] [module-uuid]\n```\n\n**Options:**\n\n- `-h, --help` - display help for command\n\n## `npx pepr update`\n\nUpdate the current Pepr Module to the latest SDK version. This command is not recommended for production use, instead, we recommend Renovate or Dependabot for automated updates.\n\n**Options:**\n\n- `-s, --skip-template-update` - Do not update template files\n- `-y, --yes` - Skip confirmation prompt\n- `-h, --help` - display help for command\n\n## `npx pepr uuid`\n\nModule UUID(s) currently deployed in the cluster with their descriptions. `[uuid]` represents a specific module uuid in the cluster.\n\n**Options:**\n\n- `-h, --help` - display help for command","src/content/docs/user-guide/pepr-cli.md","78b05226a328d90b",{"html":1273,"metadata":1274},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr\">\u003Ccode dir=\"auto\">npx pepr\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Type safe K8s middleware for humans\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-V, --version\u003C/code> - output the version number\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">--features &#x3C;features>\u003C/code> - Comma-separated feature flags (feature=value,feature2=value2)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Commands:\u003C/strong>\u003C/p>\n\u003Cp>crd                      Scaffold and generate Kubernetes CRDs from structured TypeScript definitions\ninit [options]           Initialize a new Pepr Module\nbuild [options]          Build a Pepr Module for deployment\ndeploy [options]         Deploy a Pepr Module\ndev [options]            Setup a local webhook development environment\nupdate [options]         Update this Pepr module. Not recommended for prod as it may change files.\nformat [options]         Lint and format this Pepr module\nmonitor [module-uuid]    Monitor a Pepr Module\nuuid [uuid]              Module UUID(s) currently deployed in the cluster\nkfc [options] [args…]  Execute Kubernetes Fluent Client commands\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-build\">\u003Ccode dir=\"auto\">npx pepr build\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-build\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr build”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Build a Pepr Module for deployment.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-M, --rbac-mode &#x3C;mode>\u003C/code> - Override module config and set RBAC mode. (choices: “admin”, “scoped”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-I, --registry-info &#x3C;registry/username>\u003C/code> - Provide the image registry and username for building and pushing a custom WASM container. Requires authentication. Conflicts with —custom-image and —registry. Builds and pushes \u003Ccode dir=\"auto\">'&#x3C;registry/username>/custom-pepr-controller:&#x3C;current-version>'\u003C/code>.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-P, --with-pull-secret &#x3C;name>\u003C/code> - Use image pull secret for controller Deployment. (default: \"\")\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-c, --custom-name &#x3C;name>\u003C/code> - Set name for zarf component and service monitors in helm charts.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-e, --entry-point &#x3C;file>\u003C/code> - Specify the entry point file to build with. (default: pepr.ts)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-i, --custom-image &#x3C;image>\u003C/code> - Specify a custom image with version for deployments. Conflicts with —registry-info and —registry. Example: ‘docker.io/username/custom-pepr-controller:v1.0.0’\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-n, --no-embed\u003C/code> - Disable embedding of deployment files into output module. Useful when creating library modules intended solely for reuse/distribution via NPM.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-o, --output &#x3C;directory>\u003C/code> - Set output directory. (default: “dist”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-r, --registry &#x3C;registry>\u003C/code> - Container registry: Choose container registry for deployment manifests. Conflicts with —custom-image and —registry-info. (choices: “GitHub”, “Iron Bank”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-t, --timeout &#x3C;seconds>\u003C/code> - How long the API server should wait for a webhook to respond before treating the call as a failure.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-z, --zarf &#x3C;manifest|chart>\u003C/code> - Set Zarf package type (choices: “manifest”, “chart”, default: “manifest”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Create a \u003Ca href=\"https://zarf.dev\">zarf.yaml\u003C/a> and K8s manifest for the current module. This includes everything needed to deploy Pepr and the current module into production environments.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-crd\">\u003Ccode dir=\"auto\">npx pepr crd\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-crd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr crd”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Scaffold and generate Kubernetes CRDs from structured TypeScript definitions.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Commands:\u003C/strong>\u003C/p>\n\u003Cp>create [options]    Create a new CRD TypeScript definition\ngenerate [options]  Generate CRD manifests from TypeScript definitions stored in ‘api/’ of the current directory.\nhelp [command]      display help for command\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-crd-create\">\u003Ccode dir=\"auto\">npx pepr crd create\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-crd-create\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr crd create”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a new CRD TypeScript definition.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-S, --scope &#x3C;scope>\u003C/code> - Whether the resulting custom resource is cluster- or namespace-scoped (choices: “Namespaced”, “Cluster”, default: “Namespaced”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-d, --domain &#x3C;domain>\u003C/code> - Optional domain for CRD (e.g. pepr.dev) (default: “pepr.dev”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-g, --group &#x3C;group>\u003C/code> - API group (e.g. cache)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-k, --kind &#x3C;kind>\u003C/code> - Kind name (e.g. memcached)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-p, --plural &#x3C;plural>\u003C/code> - Plural name for CRD (e.g. memcacheds)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-s, --short-name &#x3C;name>\u003C/code> - Short name for CRD (e.g. mc)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-v, --version &#x3C;version>\u003C/code> - API version (e.g. v1alpha1)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-crd-generate\">\u003Ccode dir=\"auto\">npx pepr crd generate\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-crd-generate\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr crd generate”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Generate CRD manifests from TypeScript definitions stored in ‘api/’ of the current directory.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-o, --output &#x3C;directory>\u003C/code> - Output directory for generated CRDs (default: ”./crds”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-deploy\">\u003Ccode dir=\"auto\">npx pepr deploy\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-deploy\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr deploy”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Deploy the current module into a Kubernetes cluster, useful for CI systems. Not recommended for production use.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-E, --docker-email &#x3C;email>\u003C/code> - Email for Docker registry.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-P, --docker-password &#x3C;password>\u003C/code> - Password for Docker registry.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-S, --docker-server &#x3C;server>\u003C/code> - Docker server address.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-U, --docker-username &#x3C;username>\u003C/code> - Docker registry username.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-f, --force\u003C/code> - Force deploy the module, override manager field.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-i, --image &#x3C;image>\u003C/code> - Override the image tag.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-p, --pull-secret &#x3C;name>\u003C/code> - Deploy imagePullSecret for Controller private registry.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompts.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-dev\">\u003Ccode dir=\"auto\">npx pepr dev\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-dev\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr dev”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Setup a local webhook development environment\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-H, --host &#x3C;host>\u003C/code> - Host to listen on (default: “host.k3d.internal”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompt\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Connect a local cluster to a local version of the Pepr Controller to do real-time debugging of your module. Note the \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> assumes a K3d cluster is running by default. If you are working with Kind or another docker-based K8s distro, you will need to pass the \u003Ccode dir=\"auto\">--host host.docker.internal\u003C/code> option to \u003Ccode dir=\"auto\">npx pepr dev\u003C/code>. If working with a remote cluster you will have to give Pepr a host path to your machine that is reachable from the K8s cluster.\u003C/p>\n\u003Caside aria-label=\"Note\" class=\"starlight-aside starlight-aside--note\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath d=\"M12 11C11.7348 11 11.4804 11.1054 11.2929 11.2929C11.1054 11.4804 11 11.7348 11 12V16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17C12.2652 17 12.5196 16.8946 12.7071 16.7071C12.8946 16.5196 13 16.2652 13 16V12C13 11.7348 12.8946 11.4804 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM12.38 7.08C12.1365 6.97998 11.8635 6.97998 11.62 7.08C11.4973 7.12759 11.3851 7.19896 11.29 7.29C11.2017 7.3872 11.1306 7.49882 11.08 7.62C11.024 7.73868 10.9966 7.86882 11 8C10.9992 8.13161 11.0245 8.26207 11.0742 8.38391C11.124 8.50574 11.1973 8.61656 11.29 8.71C11.3872 8.79833 11.4988 8.86936 11.62 8.92C11.7715 8.98224 11.936 9.00632 12.099 8.99011C12.2619 8.97391 12.4184 8.91792 12.5547 8.82707C12.691 8.73622 12.8029 8.61328 12.8805 8.46907C12.9582 8.32486 12.9992 8.16378 13 8C12.9963 7.73523 12.8927 7.48163 12.71 7.29C12.6149 7.19896 12.5028 7.12759 12.38 7.08ZM12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20Z\">\u003C/path>\u003C/svg>Note\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>This command, by necessity, installs resources into the cluster you run it against.  Generally, these resources are removed once the \u003Ccode dir=\"auto\">pepr dev\u003C/code> session ends but there are two notable exceptions:\u003C/p>\u003C/div>\u003C/aside>\n\u003Cul>\n\u003Cli>the \u003Ccode dir=\"auto\">pepr-system\u003C/code> namespace, and\u003C/li>\n\u003Cli>the \u003Ccode dir=\"auto\">PeprStore\u003C/code> CRD.\u003C/li>\n\u003C/ul>\n\u003Cp>These can’t be auto-removed because they’re global in scope &#x26; doing so would risk wrecking any other Pepr deployments that are already running in-cluster.  If (for some strange reason) you’re \u003Cem>not\u003C/em> \u003Ccode dir=\"auto\">pepr dev\u003C/code>-ing against an ephemeral dev cluster and need to keep the cluster clean, you’ll have to remove these hold-overs yourself (or not)!\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-format\">\u003Ccode dir=\"auto\">npx pepr format\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-format\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr format”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Lint and format this Pepr module.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-v, --validate-only\u003C/code> - Do not modify files, only validate formatting.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-init\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr init”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Initialize a new Pepr Module.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-d, --description &#x3C;string>\u003C/code> - Explain the purpose of the new module.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-e, --error-behavior &#x3C;behavior>\u003C/code> - Set an error behavior. (choices: “audit”, “ignore”, “reject”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-n, --name &#x3C;string>\u003C/code> - Set the name of the new module.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-s, --skip-post-init\u003C/code> - Skip npm install, git init, and VSCode launch.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-u, --uuid &#x3C;string>\u003C/code> - Unique identifier for your module with a max length of 36 characters.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip verification prompt when creating a new module.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-kfc\">\u003Ccode dir=\"auto\">npx pepr kfc\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-kfc\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr kfc”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Execute a \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> command. This command is a wrapper around \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompt.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Usage:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kfc\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [options] [command]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr kfc [options] [command]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If you are unsure of what commands are available, you can run \u003Ccode dir=\"auto\">npx pepr kfc\u003C/code> to see the available commands.\u003C/p>\n\u003Cp>For example, to generate usable types from a Kubernetes CRD, you can run \u003Ccode dir=\"auto\">npx pepr kfc crd [source] [directory]\u003C/code>. This will generate the types for the \u003Ccode dir=\"auto\">[source]\u003C/code> CRD and output the generated types to the \u003Ccode dir=\"auto\">[directory]\u003C/code>.\u003C/p>\n\u003Cp>You can \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">learn more about the \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> here\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-monitor\">\u003Ccode dir=\"auto\">npx pepr monitor\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-monitor\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr monitor”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Monitor Validations for a given Pepr Module or all Pepr Modules.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Usage:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitor\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [options] [module-uuid]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr monitor [options] [module-uuid]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-update\">\u003Ccode dir=\"auto\">npx pepr update\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-update\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr update”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Update the current Pepr Module to the latest SDK version. This command is not recommended for production use, instead, we recommend Renovate or Dependabot for automated updates.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-s, --skip-template-update\u003C/code> - Do not update template files\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompt\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-uuid\">\u003Ccode dir=\"auto\">npx pepr uuid\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-uuid\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr uuid”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Module UUID(s) currently deployed in the cluster with their descriptions. \u003Ccode dir=\"auto\">[uuid]\u003C/code> represents a specific module uuid in the cluster.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>",{"headings":1275,"localImagePaths":1315,"remoteImagePaths":1316,"frontmatter":1317,"imagePaths":1318},[1276,1279,1282,1285,1288,1291,1294,1297,1300,1303,1306,1309,1312],{"depth":80,"slug":1277,"text":1278},"npx-pepr","npx pepr",{"depth":80,"slug":1280,"text":1281},"npx-pepr-build","npx pepr build",{"depth":80,"slug":1283,"text":1284},"npx-pepr-crd","npx pepr crd",{"depth":80,"slug":1286,"text":1287},"npx-pepr-crd-create","npx pepr crd create",{"depth":80,"slug":1289,"text":1290},"npx-pepr-crd-generate","npx pepr crd generate",{"depth":80,"slug":1292,"text":1293},"npx-pepr-deploy","npx pepr deploy",{"depth":80,"slug":1295,"text":1296},"npx-pepr-dev","npx pepr dev",{"depth":80,"slug":1298,"text":1299},"npx-pepr-format","npx pepr format",{"depth":80,"slug":1301,"text":1302},"npx-pepr-init","npx pepr init",{"depth":80,"slug":1304,"text":1305},"npx-pepr-kfc","npx pepr kfc",{"depth":80,"slug":1307,"text":1308},"npx-pepr-monitor","npx pepr monitor",{"depth":80,"slug":1310,"text":1311},"npx-pepr-update","npx pepr update",{"depth":80,"slug":1313,"text":1314},"npx-pepr-uuid","npx pepr uuid",[],[],{"title":1146,"description":1146},[],"user-guide/rbac",{"id":1319,"data":1321,"body":1326,"filePath":1327,"digest":1328,"rendered":1329},{"title":1322,"description":1322,"editUrl":66,"head":1323,"template":68,"sidebar":1324,"pagefind":66,"draft":70},"RBAC Modes",[],{"hidden":70,"attrs":1325},{},"During the build phase of Pepr (`npx pepr build --rbac-mode [admin|scoped]`), you have the option to specify the desired RBAC mode through specific flags. This allows fine-tuning the level of access granted based on requirements and preferences.\n\n## Modes\n\n### admin\n\n```bash\nnpx pepr build --rbac-mode admin\n```\n\n**Description:** The service account is given cluster-admin permissions, granting it full, unrestricted access across the entire cluster. This can be useful for administrative tasks where broad permissions are necessary. However, use this mode with caution, as it can pose security risks if misused. This is the default mode.\n\n### scoped\n\n```bash\nnpx pepr build --rbac-mode scoped\n```\n\n**Description:** The service account is provided just enough permissions to perform its required tasks, and no more. This mode is recommended for most use cases as it limits potential attack vectors and aligns with best practices in security. _The admission controller's primary mutating or validating action doesn't require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller's logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole. See how in [Updating the ClusterRole](#updating-the-clusterrole)._\n\n## Debugging RBAC Issues\n\nIf encountering unexpected behaviors in Pepr while running in scoped mode, check to see if they are related to RBAC.\n\n1. Check Deployment logs for RBAC errors:\n\n```bash\nkubectl logs -n pepr-system  -l app | jq\n\n# example output\n{\n  \"level\": 50,\n  \"time\": 1697983053758,\n  \"pid\": 16,\n  \"hostname\": \"pepr-static-test-watcher-745d65857d-pndg7\",\n  \"data\": {\n    \"kind\": \"Status\",\n    \"apiVersion\": \"v1\",\n    \"metadata\": {},\n    \"status\": \"Failure\",\n    \"message\": \"configmaps \\\"pepr-ssa-demo\\\" is forbidden: User \\\"system:serviceaccount:pepr-system:pepr-static-test\\\" cannot patch resource \\\"configmaps\\\" in API group \\\"\\\" in the namespace \\\"pepr-demo-2\\\"\",\n    \"reason\": \"Forbidden\",\n    \"details\": {\n      \"name\": \"pepr-ssa-demo\",\n      \"kind\": \"configmaps\"\n    },\n    \"code\": 403\n  },\n  \"ok\": false,\n  \"status\": 403,\n  \"statusText\": \"Forbidden\",\n  \"msg\": \"Does the ServiceAccount have permissions to CREATE and PATCH this ConfigMap?\"\n}\n```\n\n1. Verify ServiceAccount Permissions with `kubectl auth can-i`\n\n```bash\nSA=$(kubectl get deploy -n pepr-system -o=jsonpath='{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}')\n\n# Can i create configmaps as the service account in pepr-demo-2?\nkubectl auth can-i create cm --as=system:serviceaccount:pepr-system:$SA -n pepr-demo-2\n\n# example output: no\n```\n\n1. Describe the ClusterRole\n\n```bash\nSA=$(kubectl get deploy -n pepr-system -o=jsonpath='{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}')\n\nkubectl describe clusterrole $SA\n\n# example output:\nName:         pepr-static-test\nLabels:       \u003Cnone>\nAnnotations:  \u003Cnone>\nPolicyRule:\n  Resources            Non-Resource URLs  Resource Names  Verbs\n  ---------            -----------------  --------------  -----\n  peprstores.pepr.dev  []                 []              [create delete get list patch update watch]\n  configmaps           []                 []              [watch]\n  namespaces           []                 []              [watch]\n```\n\n## Updating the ClusterRole\n\nAs discussed in the [Modes](#modes) section, the admission controller's primary mutating or validating action doesn't require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller's logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole.\n\nStep 1: Figure out the desired permissions. (`kubectl create clusterrole --help` is a good place to start figuring out the syntax)\n\n```bash\n kubectl create clusterrole configMapApplier --verb=create,patch --resource=configmap --dry-run=client -oyaml\n\n # example output\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  creationTimestamp: null\n  name: configMapApplier\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - create\n  - patch\n```\n\nStep 2: Update the ClusterRole in the `dist` folder.\n\n```yaml\n...\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: pepr-static-test\nrules:\n  - apiGroups:\n      - pepr.dev\n    resources:\n      - peprstores\n    verbs:\n      - create\n      - get\n      - patch\n      - watch\n  - apiGroups:\n      - ''\n    resources:\n      - namespaces\n    verbs:\n      - watch\n  - apiGroups:\n      - ''\n    resources:\n      - configmaps\n    verbs:\n      - watch\n      - create # New\n      - patch  # New\n...\n```\n\nStep 3: Apply the updated configuration","src/content/docs/user-guide/rbac.md","e5706a46185a643a",{"html":1330,"metadata":1331},"\u003Cp>During the build phase of Pepr (\u003Ccode dir=\"auto\">npx pepr build --rbac-mode [admin|scoped]\u003C/code>), you have the option to specify the desired RBAC mode through specific flags. This allows fine-tuning the level of access granted based on requirements and preferences.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"modes\">Modes\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#modes\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Modes”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"admin\">admin\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#admin\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “admin”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--rbac-mode\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admin\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr build --rbac-mode admin\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Description:\u003C/strong> The service account is given cluster-admin permissions, granting it full, unrestricted access across the entire cluster. This can be useful for administrative tasks where broad permissions are necessary. However, use this mode with caution, as it can pose security risks if misused. This is the default mode.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"scoped\">scoped\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#scoped\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “scoped”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--rbac-mode\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">scoped\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr build --rbac-mode scoped\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Description:\u003C/strong> The service account is provided just enough permissions to perform its required tasks, and no more. This mode is recommended for most use cases as it limits potential attack vectors and aligns with best practices in security. \u003Cem>The admission controller’s primary mutating or validating action doesn’t require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller’s logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole. See how in \u003Ca href=\"#updating-the-clusterrole\">Updating the ClusterRole\u003C/a>.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"debugging-rbac-issues\">Debugging RBAC Issues\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#debugging-rbac-issues\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Debugging RBAC Issues”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If encountering unexpected behaviors in Pepr while running in scoped mode, check to see if they are related to RBAC.\u003C/p>\n\u003Col>\n\u003Cli>Check Deployment logs for RBAC errors:\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">jq\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">50,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">1697983053758,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-static-test-watcher-745d65857d-pndg7\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"data\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"kind\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Status\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"apiVersion\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">v1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"metadata\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"status\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Failure\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"message\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">configmaps \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> is forbidden: User \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">system:serviceaccount:pepr-system:pepr-static-test\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> cannot patch resource \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">configmaps\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> in API group \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> in the namespace \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reason\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Forbidden\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"details\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"name\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"kind\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">configmaps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"code\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">403\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"ok\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#82AAFF\">false\u003C/span>\u003Cspan style=\"--0:#ECC48D\">,\u003C/span>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"status\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">403,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"statusText\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Forbidden\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Does the ServiceAccount have permissions to CREATE and PATCH this ConfigMap?\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -n pepr-system  -l app | jq{  &#x22;level&#x22;: 50,  &#x22;time&#x22;: 1697983053758,  &#x22;pid&#x22;: 16,  &#x22;hostname&#x22;: &#x22;pepr-static-test-watcher-745d65857d-pndg7&#x22;,  &#x22;data&#x22;: {    &#x22;kind&#x22;: &#x22;Status&#x22;,    &#x22;apiVersion&#x22;: &#x22;v1&#x22;,    &#x22;metadata&#x22;: {},    &#x22;status&#x22;: &#x22;Failure&#x22;,    &#x22;message&#x22;: &#x22;configmaps \\&#x22;pepr-ssa-demo\\&#x22; is forbidden: User \\&#x22;system:serviceaccount:pepr-system:pepr-static-test\\&#x22; cannot patch resource \\&#x22;configmaps\\&#x22; in API group \\&#x22;\\&#x22; in the namespace \\&#x22;pepr-demo-2\\&#x22;&#x22;,    &#x22;reason&#x22;: &#x22;Forbidden&#x22;,    &#x22;details&#x22;: {      &#x22;name&#x22;: &#x22;pepr-ssa-demo&#x22;,      &#x22;kind&#x22;: &#x22;configmaps&#x22;    },    &#x22;code&#x22;: 403  },  &#x22;ok&#x22;: false,  &#x22;status&#x22;: 403,  &#x22;statusText&#x22;: &#x22;Forbidden&#x22;,  &#x22;msg&#x22;: &#x22;Does the ServiceAccount have permissions to CREATE and PATCH this ConfigMap?&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Col>\n\u003Cli>Verify ServiceAccount Permissions with \u003Ccode dir=\"auto\">kubectl auth can-i\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">SA\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">$(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o=jsonpath=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Can i create configmaps as the service account in pepr-demo-2?\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">auth\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">can-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#82AAFF\">--as=system:serviceaccount:pepr-system:\u003C/span>\u003Cspan style=\"--0:#C5E478\">$SA\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo-2\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output: no\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"SA=$(kubectl get deploy -n pepr-system -o=jsonpath=&#x27;{range .items[0]}{.spec.template.spec.serviceAccountName}{&#x22;\\n&#x22;}{end}&#x27;)kubectl auth can-i create cm --as=system:serviceaccount:pepr-system:$SA -n pepr-demo-2\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Col>\n\u003Cli>Describe the ClusterRole\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">SA\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">$(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o=jsonpath=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">describe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">clusterrole\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$SA\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Name:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">         \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Labels:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Annotations:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PolicyRule:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Non-Resource\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">URLs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Resource\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Names\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Verbs\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">---------\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-----------------\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--------------\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-----\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">peprstores.pepr.dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  []                 []              [create delete get list patch update watch]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">configmaps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">           []                 []              [watch]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">namespaces\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">           []                 []              [watch]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"SA=$(kubectl get deploy -n pepr-system -o=jsonpath=&#x27;{range .items[0]}{.spec.template.spec.serviceAccountName}{&#x22;\\n&#x22;}{end}&#x27;)kubectl describe clusterrole $SAName:         pepr-static-testLabels:       \u003Cnone>Annotations:  \u003Cnone>PolicyRule:  Resources            Non-Resource URLs  Resource Names  Verbs  ---------            -----------------  --------------  -----  peprstores.pepr.dev  []                 []              [create delete get list patch update watch]  configmaps           []                 []              [watch]  namespaces           []                 []              [watch]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"updating-the-clusterrole\">Updating the ClusterRole\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#updating-the-clusterrole\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Updating the ClusterRole”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>As discussed in the \u003Ca href=\"#modes\">Modes\u003C/a> section, the admission controller’s primary mutating or validating action doesn’t require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller’s logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole.\u003C/p>\n\u003Cp>Step 1: Figure out the desired permissions. (\u003Ccode dir=\"auto\">kubectl create clusterrole --help\u003C/code> is a good place to start figuring out the syntax)\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">clusterrole\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configMapApplier\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--verb=create,patch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--resource=configmap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--dry-run=client\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-oyaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">apiVersion:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rbac.authorization.k8s.io/v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kind:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterRole\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">metadata:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">creationTimestamp:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">name:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configMapApplier\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">rules:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apiGroups:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">resources:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configmaps\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">verbs:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">patch\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl create clusterrole configMapApplier --verb=create,patch --resource=configmap --dry-run=client -oyamlapiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata:  creationTimestamp: null  name: configMapApplierrules:- apiGroups:  - &#x22;&#x22;  resources:  - configmaps  verbs:  - create  - patch\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Step 2: Update the ClusterRole in the \u003Ccode dir=\"auto\">dist\u003C/code> folder.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rbac.authorization.k8s.io/v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterRole\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">rules\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroups\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">peprstores\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">verbs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">patch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroups\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespaces\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">verbs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroups\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configmaps\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">verbs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># New\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">patch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># New\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">...\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"...apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata:  name: pepr-static-testrules:  - apiGroups:      - pepr.dev    resources:      - peprstores    verbs:      - create      - get      - patch      - watch  - apiGroups:      - &#x27;&#x27;    resources:      - namespaces    verbs:      - watch  - apiGroups:      - &#x27;&#x27;    resources:      - configmaps    verbs:      - watch      - create # New      - patch  # New...\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Step 3: Apply the updated configuration\u003C/p>",{"headings":1332,"localImagePaths":1346,"remoteImagePaths":1347,"frontmatter":1348,"imagePaths":1349},[1333,1336,1338,1340,1343],{"depth":80,"slug":1334,"text":1335},"modes","Modes",{"depth":131,"slug":1337,"text":1337},"admin",{"depth":131,"slug":1339,"text":1339},"scoped",{"depth":80,"slug":1341,"text":1342},"debugging-rbac-issues","Debugging RBAC Issues",{"depth":80,"slug":1344,"text":1345},"updating-the-clusterrole","Updating the ClusterRole",[],[],{"title":1322,"description":1322},[],"user-guide/sdk",{"id":1350,"data":1352,"body":1357,"filePath":1358,"digest":1359,"rendered":1360},{"title":1353,"description":1353,"editUrl":66,"head":1354,"template":68,"sidebar":1355,"pagefind":66,"draft":70},"Pepr SDK",[],{"hidden":70,"attrs":1356},{},"To use, import the `sdk` from the `pepr` package:\n\n```typescript\nimport { sdk } from \"pepr\";\n```\n\n## `containers`\n\nReturns list of all containers in a pod. Accepts the following parameters:\n\n- **\\@param peprValidationRequest** The request/pod to get the containers from\n- **\\@param containerType** The type of container to get\n\n**Usage:**\n\n**_Get all containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest)\n```\n\n**_Get only the standard containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest, \"containers\")\n```\n\n**_Get only the init containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest, \"initContainers\")\n```\n\n**_Get only the ephemeral containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest, \"ephemeralContainers\")\n```\n\n---\n\n## `getOwnerRefFrom`\n\nReturns the owner reference for a Kubernetes resource as an array. Accepts the following parameters:\n\n- **\\@param kubernetesResource: GenericKind** The Kubernetes resource to get the owner reference for\n- **\\@param blockOwnerDeletion: boolean** If true, AND if the owner has the \"foregroundDeletion\" finalizer, then the owner cannot be deleted from the key-value store until this reference is removed.\n- **\\@param controller: boolean** If true, this reference points to the managing controller.\n\n**Usage:**\n\n```typescript\nconst { getOwnerRefFrom } = sdk;\nconst ownerRef = getOwnerRefFrom(kubernetesResource);\n```\n\n---\n\n## `writeEvent`\n\nWrite a K8s event for a CRD. Accepts the following parameters:\n\n- **\\@param kubernetesResource: GenericKind** The Kubernetes resource to write the event for\n- **\\@param event** The event to write, should contain a human-readable message for the event\n- **\\@param options** Configuration options for the event.\n  - eventType: string – The type of event to write, for example \"Warning\"\n  - eventReason: string – The reason for the event, for example \"ReconciliationFailed\"\n  - reportingComponent: string – The component that is reporting the event, for example \"uds.dev/operator\"\n  - reportingInstance: string – The instance of the component that is reporting the event, for example process.env.HOSTNAME\n\n**Usage:**\n\n```typescript\nconst { writeEvent } = sdk;\nconst event = { message: \"Resource was created.\" };\nwriteEvent(kubernetesResource, event, {\n  eventType: \"Info\",\n  eventReason: \"ReconciliationSuccess\",\n  reportingComponent: \"uds.dev/operator\",\n  reportingInstance: process.env.HOSTNAME,\n});\n```\n\n---\n\n## `sanitizeResourceName`\n\nReturns a sanitized resource name to make the given name a valid Kubernetes resource name. Accepts the following parameter:\n\n- **\\@param resourceName** The name of the resource to sanitize\n\n**Usage:**\n\n```typescript\nconst { sanitizeResourceName } = sdk;\nconst sanitizedResourceName = sanitizeResourceName(resourceName)\n```\n\n---\n\n## See Also\n\nLooking for information on the Pepr mutate helpers? See [Mutate Helpers](/actions/mutate#mutate-helpers) for information on those.","src/content/docs/user-guide/sdk.md","ed8dc024ad9bf57a",{"html":1361,"metadata":1362},"\u003Cp>To use, import the \u003Ccode dir=\"auto\">sdk\u003C/code> from the \u003Ccode dir=\"auto\">pepr\u003C/code> package:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { sdk } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { sdk } from &#x22;pepr&#x22;;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"containers\">\u003Ccode dir=\"auto\">containers\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#containers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “containers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Returns list of all containers in a pod. Accepts the following parameters:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param peprValidationRequest\u003C/strong> The request/pod to get the containers from\u003C/li>\n\u003Cli>\u003Cstrong>@param containerType\u003C/strong> The type of container to get\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cp>\u003Cstrong>\u003Cem>Get all containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>\u003Cem>Get only the standard containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">containers\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest, &#x22;containers&#x22;)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>\u003Cem>Get only the init containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">initContainers\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest, &#x22;initContainers&#x22;)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>\u003Cem>Get only the ephemeral containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ephemeralContainers\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest, &#x22;ephemeralContainers&#x22;)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"getownerreffrom\">\u003Ccode dir=\"auto\">getOwnerRefFrom\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#getownerreffrom\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “getOwnerRefFrom”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Returns the owner reference for a Kubernetes resource as an array. Accepts the following parameters:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param kubernetesResource: GenericKind\u003C/strong> The Kubernetes resource to get the owner reference for\u003C/li>\n\u003Cli>\u003Cstrong>@param blockOwnerDeletion: boolean\u003C/strong> If true, AND if the owner has the “foregroundDeletion” finalizer, then the owner cannot be deleted from the key-value store until this reference is removed.\u003C/li>\n\u003Cli>\u003Cstrong>@param controller: boolean\u003C/strong> If true, this reference points to the managing controller.\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getOwnerRefFrom\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">ownerRef\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getOwnerRefFrom\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kubernetesResource);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { getOwnerRefFrom } = sdk;const ownerRef = getOwnerRefFrom(kubernetesResource);\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"writeevent\">\u003Ccode dir=\"auto\">writeEvent\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#writeevent\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “writeEvent”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Write a K8s event for a CRD. Accepts the following parameters:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param kubernetesResource: GenericKind\u003C/strong> The Kubernetes resource to write the event for\u003C/li>\n\u003Cli>\u003Cstrong>@param event\u003C/strong> The event to write, should contain a human-readable message for the event\u003C/li>\n\u003Cli>\u003Cstrong>@param options\u003C/strong> Configuration options for the event.\n\u003Cul>\n\u003Cli>eventType: string – The type of event to write, for example “Warning”\u003C/li>\n\u003Cli>eventReason: string – The reason for the event, for example “ReconciliationFailed”\u003C/li>\n\u003Cli>reportingComponent: string – The component that is reporting the event, for example “uds.dev/operator”\u003C/li>\n\u003Cli>reportingInstance: string – The instance of the component that is reporting the event, for example process.env.HOSTNAME\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">writeEvent\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">event\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = { message: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Resource was created.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> }\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">writeEvent\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kubernetesResource, event, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">eventType: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Info\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">eventReason: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ReconciliationSuccess\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">reportingComponent: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">uds.dev/operator\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">reportingInstance: process\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">env\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HOSTNAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { writeEvent } = sdk;const event = { message: &#x22;Resource was created.&#x22; };writeEvent(kubernetesResource, event, {  eventType: &#x22;Info&#x22;,  eventReason: &#x22;ReconciliationSuccess&#x22;,  reportingComponent: &#x22;uds.dev/operator&#x22;,  reportingInstance: process.env.HOSTNAME,});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"sanitizeresourcename\">\u003Ccode dir=\"auto\">sanitizeResourceName\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#sanitizeresourcename\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “sanitizeResourceName”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Returns a sanitized resource name to make the given name a valid Kubernetes resource name. Accepts the following parameter:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param resourceName\u003C/strong> The name of the resource to sanitize\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sanitizeResourceName\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sanitizedResourceName\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sanitizeResourceName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(resourceName)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { sanitizeResourceName } = sdk;const sanitizedResourceName = sanitizeResourceName(resourceName)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"see-also\">See Also\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#see-also\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “See Also”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Looking for information on the Pepr mutate helpers? See \u003Ca href=\"/actions/mutate#mutate-helpers\">Mutate Helpers\u003C/a> for information on those.\u003C/p>",{"headings":1363,"localImagePaths":1376,"remoteImagePaths":1377,"frontmatter":1378,"imagePaths":1379},[1364,1366,1369,1372,1375],{"depth":80,"slug":1365,"text":1365},"containers",{"depth":80,"slug":1367,"text":1368},"getownerreffrom","getOwnerRefFrom",{"depth":80,"slug":1370,"text":1371},"writeevent","writeEvent",{"depth":80,"slug":1373,"text":1374},"sanitizeresourcename","sanitizeResourceName",{"depth":80,"slug":539,"text":540},[],[],{"title":1353,"description":1353},[],"user-guide/store",{"id":1380,"data":1382,"body":1386,"filePath":1387,"digest":1388,"rendered":1389},{"title":750,"description":750,"editUrl":66,"head":1383,"template":68,"sidebar":1384,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1385},{},"## A Lightweight Key-Value Store for Pepr Modules\n\nThe nature of admission controllers and general watch operations (the `Mutate`, `Validate` and `Watch` actions in Pepr) make some types of complex and long-running operations difficult. There are also times when you need to share data between different actions. While you could manually create your own K8s resources and manage their cleanup, this can be very hard to track and keep performant at scale.\n\nThe Pepr Store solves this by exposing a simple, [Web Storage API](https://developer.mozilla.org/en-US/docs/Web/API/Storage)-compatible mechanism for use within capabilities. Additionally, as Pepr runs multiple replicas of the admission controller along with a watch controller, the Pepr Store provides a unique way to share data between these different instances automatically.\n\nEach Pepr Capability has a `Store` instance that can be used to get, set and delete data as well as subscribe to any changes to the Store. Behind the scenes, all capability store instances in a single Pepr Module are stored within a single CRD in the cluster. This CRD is automatically created when the Pepr Module is deployed. Care is taken to make the read and write operations as efficient as possible by using K8s watches, batch processing and patch operations for writes.\n\n## Key Features\n\n- **Asynchronous Key-Value Store**: Provides an asynchronous interface for storing small amounts of data, making it ideal for sharing information between various actions and capabilities.\n- **Web Storage API Compatibility**: The store's API is aligned with the standard [Web Storage API](https://developer.mozilla.org/en-US/docs/Web/API/Storage), simplifying the learning curve.\n- **Real-time Updates**: The `.subscribe()` and `onReady()` methods enable real-time updates, allowing you to react to changes in the data store instantaneously.\n- **Automatic CRD Management**: Each Pepr Module has its data stored within a single Custom Resource Definition (CRD) that is automatically created upon deployment.\n- **Efficient Operations**: Pepr Store uses Kubernetes watches, batch processing, and patch operations to make read and write operations as efficient as possible.\n\n## Quick Start\n\n```typescript\n// Example usage for Pepr Store\nStore.setItem(\"example-1\", \"was-here\");\nStore.setItem(\"example-1-data\", JSON.stringify(request.Raw.data));\nStore.onReady(data => {\n  Log.info(data, \"Pepr Store Ready\");\n});\nconst unsubscribe = Store.subscribe(data => {\n  Log.info(data, \"Pepr Store Updated\");\n  unsubscribe();\n});\n```\n\n## API Reference\n\n### Methods\n\n- `getItem(key: string)`: Retrieves a value by its key. Returns `null` if the key doesn't exist.\n- `setItem(key: string, value: string)`: Sets a value for a given key. Creates a new key-value pair if the key doesn't exist.\n- `setItemAndWait(key: string, value: string)`: Sets a value for a given key. Creates a new key-value pair if the key doesn't exist. Resolves a promise when the new key and value show up in the store. Note - Async operations in Mutate and Validate are susceptible to [timeouts](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts).\n- `removeItem(key: string)`: Deletes a key-value pair by its key.\n- `removeItemAndWait(key: string)`: Deletes a key-value pair by its key and resolves a promise when the key and value do not show up in the store. Note - Async operations in Mutate and Validate are susceptible to [timeouts](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts).\n- `clear()`: Clears all key-value pairs from the store.\n- `subscribe(listener: DataReceiver)`: Subscribes to store updates.\n- `onReady(callback: DataReceiver)`: Executes a callback when the store is ready.","src/content/docs/user-guide/store.md","f213f7f04b9c6dfd",{"html":1390,"metadata":1391},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"a-lightweight-key-value-store-for-pepr-modules\">A Lightweight Key-Value Store for Pepr Modules\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#a-lightweight-key-value-store-for-pepr-modules\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “A Lightweight Key-Value Store for Pepr Modules”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The nature of admission controllers and general watch operations (the \u003Ccode dir=\"auto\">Mutate\u003C/code>, \u003Ccode dir=\"auto\">Validate\u003C/code> and \u003Ccode dir=\"auto\">Watch\u003C/code> actions in Pepr) make some types of complex and long-running operations difficult. There are also times when you need to share data between different actions. While you could manually create your own K8s resources and manage their cleanup, this can be very hard to track and keep performant at scale.\u003C/p>\n\u003Cp>The Pepr Store solves this by exposing a simple, \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Storage\">Web Storage API\u003C/a>-compatible mechanism for use within capabilities. Additionally, as Pepr runs multiple replicas of the admission controller along with a watch controller, the Pepr Store provides a unique way to share data between these different instances automatically.\u003C/p>\n\u003Cp>Each Pepr Capability has a \u003Ccode dir=\"auto\">Store\u003C/code> instance that can be used to get, set and delete data as well as subscribe to any changes to the Store. Behind the scenes, all capability store instances in a single Pepr Module are stored within a single CRD in the cluster. This CRD is automatically created when the Pepr Module is deployed. Care is taken to make the read and write operations as efficient as possible by using K8s watches, batch processing and patch operations for writes.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"key-features\">Key Features\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#key-features\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Key Features”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Asynchronous Key-Value Store\u003C/strong>: Provides an asynchronous interface for storing small amounts of data, making it ideal for sharing information between various actions and capabilities.\u003C/li>\n\u003Cli>\u003Cstrong>Web Storage API Compatibility\u003C/strong>: The store’s API is aligned with the standard \u003Ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Storage\">Web Storage API\u003C/a>, simplifying the learning curve.\u003C/li>\n\u003Cli>\u003Cstrong>Real-time Updates\u003C/strong>: The \u003Ccode dir=\"auto\">.subscribe()\u003C/code> and \u003Ccode dir=\"auto\">onReady()\u003C/code> methods enable real-time updates, allowing you to react to changes in the data store instantaneously.\u003C/li>\n\u003Cli>\u003Cstrong>Automatic CRD Management\u003C/strong>: Each Pepr Module has its data stored within a single Custom Resource Definition (CRD) that is automatically created upon deployment.\u003C/li>\n\u003Cli>\u003Cstrong>Efficient Operations\u003C/strong>: Pepr Store uses Kubernetes watches, batch processing, and patch operations to make read and write operations as efficient as possible.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"quick-start\">Quick Start\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#quick-start\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Quick Start”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Example usage for Pepr Store\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example-1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example-1-data\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">JSON\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">stringify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">));\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">onReady\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(data, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Pepr Store Ready\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">unsubscribe\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">subscribe\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">data\u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> => {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(data\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Pepr Store Updated\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">unsubscribe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"// Example usage for Pepr StoreStore.setItem(&#x22;example-1&#x22;, &#x22;was-here&#x22;);Store.setItem(&#x22;example-1-data&#x22;, JSON.stringify(request.Raw.data));Store.onReady(data => {  Log.info(data, &#x22;Pepr Store Ready&#x22;);});const unsubscribe = Store.subscribe(data => {  Log.info(data, &#x22;Pepr Store Updated&#x22;);  unsubscribe();});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"api-reference\">API Reference\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#api-reference\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “API Reference”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"methods\">Methods\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#methods\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Methods”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">getItem(key: string)\u003C/code>: Retrieves a value by its key. Returns \u003Ccode dir=\"auto\">null\u003C/code> if the key doesn’t exist.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">setItem(key: string, value: string)\u003C/code>: Sets a value for a given key. Creates a new key-value pair if the key doesn’t exist.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">setItemAndWait(key: string, value: string)\u003C/code>: Sets a value for a given key. Creates a new key-value pair if the key doesn’t exist. Resolves a promise when the new key and value show up in the store. Note - Async operations in Mutate and Validate are susceptible to \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">timeouts\u003C/a>.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">removeItem(key: string)\u003C/code>: Deletes a key-value pair by its key.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">removeItemAndWait(key: string)\u003C/code>: Deletes a key-value pair by its key and resolves a promise when the key and value do not show up in the store. Note - Async operations in Mutate and Validate are susceptible to \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">timeouts\u003C/a>.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">clear()\u003C/code>: Clears all key-value pairs from the store.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">subscribe(listener: DataReceiver)\u003C/code>: Subscribes to store updates.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">onReady(callback: DataReceiver)\u003C/code>: Executes a callback when the store is ready.\u003C/li>\n\u003C/ul>",{"headings":1392,"localImagePaths":1408,"remoteImagePaths":1409,"frontmatter":1410,"imagePaths":1411},[1393,1396,1399,1402,1405],{"depth":80,"slug":1394,"text":1395},"a-lightweight-key-value-store-for-pepr-modules","A Lightweight Key-Value Store for Pepr Modules",{"depth":80,"slug":1397,"text":1398},"key-features","Key Features",{"depth":80,"slug":1400,"text":1401},"quick-start","Quick Start",{"depth":80,"slug":1403,"text":1404},"api-reference","API Reference",{"depth":131,"slug":1406,"text":1407},"methods","Methods",[],[],{"title":750,"description":750},[],"v0.54",{"id":1412,"data":1414,"body":1419,"filePath":1420,"digest":1421,"rendered":1422},{"title":389,"description":1415,"editUrl":66,"head":1416,"template":68,"sidebar":1417,"pagefind":66,"draft":70},"Pepr Documentation - v0.54.0",[],{"hidden":70,"attrs":1418},{},"[![Pepr Documentation](https://img.shields.io/badge/docs--d25ba1)](https://docs.pepr.dev)\n[![Npm package license](https://badgen.net/npm/license/pepr)](https://npmjs.com/package/pepr)\n[![Known Vulnerabilities](https://snyk.io/test/npm/pepr/badge.svg)](https://snyk.io/advisor/npm-package/pepr)\n[![Npm package version](https://badgen.net/npm/v/pepr)](https://npmjs.com/package/pepr)\n[![Npm package total downloads](https://badgen.net/npm/dt/pepr)](https://npmjs.com/package/pepr)\n[![OpenSSF Scorecard](https://api.securityscorecards.dev/projects/github.com/defenseunicorns/pepr/badge)](https://securityscorecards.dev/viewer/?uri=github.com/defenseunicorns/pepr)\n[![codecov](https://codecov.io/github/defenseunicorns/pepr/graph/badge.svg?token=7679Y9K1HB)](https://codecov.io/github/defenseunicorns/pepr)\n[![Contributor Covenant](https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg)](code_of_conduct/\n\n## What happened to Pepr's stars?\n\nIn February 2025, an accidental change to the repository's visibility reset the star count.\nThe visibility issue was quickly resolved, but the stars were unfortunately lost.\n\nPepr had over 200 stars, demonstrating its recognition and value within the Kubernetes community.\nWe're working to rebuild that recognition.\n\nIf you've previously starred Pepr, or if you find it a useful project, we would greatly appreciate it if you could re-star the repository.\nWe really appreciate your support! :star:\n\n## **_Type safe Kubernetes middleware for humans_**\n\n\n\u003Cimg alt=\"The Pepr Logo\" align=\"right\" width=\"40%\" src=\"/assets/pepr.png\" />\n\nPepr simplifies Kubernetes management by providing an alternative to complex YAML configurations, custom scripts, and ad-hoc solutions.\nAs a Kubernetes controller, Pepr enables you to define Kubernetes transformations using TypeScript, accessible through straightforward configurations even without extensive development expertise.\nPepr transforms disparate implementation approaches into a cohesive, well-structured, and maintainable system.\nWith Pepr, you can efficiently convert organizational knowledge into code, improving documentation, testing, validation, and change management for more predictable outcomes.\n\n## Features\n\n- Zero-config K8s Mutating and Validating Webhooks plus Controller generation\n- Automatic leader-elected K8s resource watching\n- Lightweight async key-value store backed by K8s for stateful operations with the [Pepr Store](./user-guide/store/\n- Human-readable fluent API for generating [Pepr Capabilities](#capability)\n- A fluent API for creating/modifying/watching and server-side applying K8s resources via [Kubernetes Fluent Client](https://github.com/defenseunicorns/kubernetes-fluent-client)\n- Generate new K8s resources based off of cluster resource changes\n- Perform other exec/API calls based off of cluster resources changes or any other arbitrary schedule\n- Out of the box airgap support with [Zarf](https://zarf.dev)\n- Entire NPM ecosystem available for advanced operations\n- Realtime K8s debugging system for testing/reacting to cluster changes\n- Controller network isolation and tamper-resistant module execution\n- Least-privilege [RBAC](./user-guide/rbac/ generation\n- AMD64 and ARM64 support\n\n## Example Pepr Action\n\nThis quick sample shows how to react to a ConfigMap being created or updated in the cluster.\nIt adds a label and annotation to the ConfigMap and adds some data to the ConfigMap.\nIt also creates a Validating Webhook to make sure the \"pepr\" label still exists.\nFinally, after the ConfigMap is created, it logs a message to the Pepr controller and creates or updates a separate ConfigMap with the [kubernetes-fluent-client](https://github.com/defenseunicorns/kubernetes-fluent-client) using server-side apply.\nFor more details see [actions](./user-guide/actions/) section.\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreatedOrUpdated()\n  .InNamespace(\"pepr-demo\")\n  .WithLabel(\"example\", \"value\")\n  // Create a Mutate Action for the ConfigMap\n  .Mutate(request => {\n    // Add a label and annotation to the ConfigMap\n    request.SetLabel(\"pepr\", \"was-here\").SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n\n    // Add some data to the ConfigMap\n    request.Raw.data[\"doug-says\"] = \"Pepr is awesome!\";\n\n    // Log a message to the Pepr controller logs\n    Log.info(\"A ConfigMap was created or updated:\");\n  })\n  // Create a Validate Action for the ConfigMap\n  .Validate(request => {\n    // Validate the ConfigMap has a specific label\n    if (request.HasLabel(\"pepr\")) {\n      return request.Approve();\n    }\n\n    // Reject the ConfigMap if it doesn't have the label\n    return request.Deny(\"ConfigMap must have the required pepr label\");\n  })\n  // Watch behaves like controller-runtime's Manager.Watch()\n  .Watch(async (cm, phase) => {\n    Log.info(cm, `ConfigMap was ${phase}.`);\n\n    // Apply a ConfigMap using K8s server-side apply (will create or update)\n    await K8s(kind.ConfigMap).Apply({\n      metadata: {\n        name: \"pepr-ssa-demo\",\n        namespace: \"pepr-demo-2\",\n      },\n      data: {\n        uid: cm.metadata.uid,\n      },\n    });\n  });\n```\n\n## Prerequisites\n\n- [Node.js](https://nodejs.org/en/) v20.0.0+ (even-numbered releases only)\n  - To ensure compatability and optimal performance, it is recommended to use even-numbered releases of Node.js as they are stable releases and receive long-term support for three years.\n    Odd-numbered releases are experimental and may not be supported by certain libraries utilized in Pepr.\n\n- [npm](https://www.npmjs.com/) v10.1.0+\n\n- Recommended (optional) tools:\n  - [Visual Studio Code](https://code.visualstudio.com/) for inline debugging and [Pepr Capabilities](#capability) creation.\n  - A Kubernetes cluster for `npx pepr dev`. Pepr modules include `npm run k3d-setup` if you want to test locally with [K3d](https://k3d.io/) and [Docker](https://www.docker.com/).\n\n## Quick Start Guide\n\n```bash\n# Create a new Pepr Module\nnpx pepr init\n\n# If you already have a K3d cluster you want to use, skip this step\nnpm run k3d-setup\n\n# Start playing with Pepr now!\n# If using Kind, or another local k8s distro instead,\n# run `npx pepr dev --host \u003Cyour_hostname>`\nnpx pepr dev\nkubectl apply -f capabilities/hello-pepr.samples.yaml\n```\n\n:::tip\nDon't use IP as your `--host`, it's not supported. Make sure to check your\nlocal k8s distro documentation how to reach your localhost, which is where\n`pepr dev` is serving the code from.\n:::\n\u003C\u003Cvideo class=\"td-content\" controls src=\"https://user-images.githubusercontent.com/882485/230895880-c5623077-f811-4870-bb9f-9bb8e5edc118.mp4\">\u003C/video>>\n\n## Concepts\n\n### Module\n\nA module is the top-level collection of capabilities.\nIt is a single, complete TypeScript project that includes an entry point to load all the configuration and capabilities, along with their actions.\nDuring the Pepr build process, each module produces a unique Kubernetes MutatingWebhookConfiguration and ValidatingWebhookConfiguration, along with a secret containing the transpiled and compressed TypeScript code.\nThe webhooks and secret are deployed into the Kubernetes cluster with their own isolated controller.\n\nSee [Module](./user-guide/pepr-modules/ for more details.\n\n### Capability\n\nA capability is set of related actions that work together to achieve a specific transformation or operation on Kubernetes resources.\nCapabilities are user-defined and can include one or more actions.\nThey are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations.\nA Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\n\nSee [Capabilities](./user-guide/capabilities/ for more details.\n\n### Action\n\nAction is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in from Kubernetes.\nActions are the atomic operations that are performed on Kubernetes resources by Pepr.\n\nFor example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource's metadata.\nActions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\n\nThere are both `Mutate()` and `Validate()` Actions that can be used to modify or validate Kubernetes resources within the admission controller lifecycle.\nThere are also `Watch()` and `Reconcile()` actions that can be used to watch for changes to Kubernetes resources that already exist.\nFinally, the `Finalize()` can be used after `Watch()` or `Reconcile()` to perform cleanup operations when the resource is deleted.\n\nSee [actions](./user-guide/actions) for more details.\n\n## Logical Pepr Flow\n\n![Arch Diagram](/assets/pepr-arch.png)\n[Source Diagram](/assets/pepr-arch.png)\n\n## TypeScript\n\n[TypeScript](https://www.typescriptlang.org/) is a strongly typed, object-oriented programming language built on top of JavaScript.\nIt provides optional static typing and a rich type system, allowing developers to write more robust code.\nTypeScript is transpiled to JavaScript, enabling it to run in any environment that supports JavaScript.\nPepr allows you to use JavaScript or TypeScript to write capabilities, but TypeScript is recommended for its type safety and rich type system.\nSee the [Typescript docs](https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html) to learn more.\n\n## Community\n\nTo join our channel go to [Kubernetes Slack](https://communityinviter.com/apps/kubernetes/community) and join the `#pepr` channel.\n\n[contributors]: https://contrib.rocks/image?repo=defenseunicorns/pepr\n[![Contributor Chart][contributors]](https://github.com/defenseunicorns/pepr/graphs/contributors)\n\nMade with [contrib.rocks](https://contrib.rocks).","src/content/docs/v0.54/index.md","cfa84360aa8401d9",{"html":1423,"metadata":1424},"\u003Cp>\u003Ca href=\"https://docs.pepr.dev\">\u003Cimg src=\"https://img.shields.io/badge/docs--d25ba1\" alt=\"Pepr Documentation\">\u003C/a>\n\u003Ca href=\"https://npmjs.com/package/pepr\">\u003Cimg src=\"https://badgen.net/npm/license/pepr\" alt=\"Npm package license\">\u003C/a>\n\u003Ca href=\"https://snyk.io/advisor/npm-package/pepr\">\u003Cimg src=\"https://snyk.io/test/npm/pepr/badge.svg\" alt=\"Known Vulnerabilities\">\u003C/a>\n\u003Ca href=\"https://npmjs.com/package/pepr\">\u003Cimg src=\"https://badgen.net/npm/v/pepr\" alt=\"Npm package version\">\u003C/a>\n\u003Ca href=\"https://npmjs.com/package/pepr\">\u003Cimg src=\"https://badgen.net/npm/dt/pepr\" alt=\"Npm package total downloads\">\u003C/a>\n\u003Ca href=\"https://securityscorecards.dev/viewer/?uri=github.com/defenseunicorns/pepr\">\u003Cimg src=\"https://api.securityscorecards.dev/projects/github.com/defenseunicorns/pepr/badge\" alt=\"OpenSSF Scorecard\">\u003C/a>\n\u003Ca href=\"https://codecov.io/github/defenseunicorns/pepr\">\u003Cimg src=\"https://codecov.io/github/defenseunicorns/pepr/graph/badge.svg?token=7679Y9K1HB\" alt=\"codecov\">\u003C/a>\n[\u003Cimg src=\"https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg\" alt=\"Contributor Covenant\">](code_of_conduct/\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-happened-to-peprs-stars\">What happened to Pepr’s stars?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-happened-to-peprs-stars\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What happened to Pepr’s stars?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>In February 2025, an accidental change to the repository’s visibility reset the star count.\nThe visibility issue was quickly resolved, but the stars were unfortunately lost.\u003C/p>\n\u003Cp>Pepr had over 200 stars, demonstrating its recognition and value within the Kubernetes community.\nWe’re working to rebuild that recognition.\u003C/p>\n\u003Cp>If you’ve previously starred Pepr, or if you find it a useful project, we would greatly appreciate it if you could re-star the repository.\nWe really appreciate your support! :star:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"type-safe-kubernetes-middleware-for-humans\">\u003Cstrong>\u003Cem>Type safe Kubernetes middleware for humans\u003C/em>\u003C/strong>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#type-safe-kubernetes-middleware-for-humans\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Type safe Kubernetes middleware for humans”\u003C/span>\u003C/a>\u003C/div>\n\u003Cimg alt=\"The Pepr Logo\" align=\"right\" width=\"40%\" src=\"/assets/pepr.png\">\n\u003Cp>Pepr simplifies Kubernetes management by providing an alternative to complex YAML configurations, custom scripts, and ad-hoc solutions.\nAs a Kubernetes controller, Pepr enables you to define Kubernetes transformations using TypeScript, accessible through straightforward configurations even without extensive development expertise.\nPepr transforms disparate implementation approaches into a cohesive, well-structured, and maintainable system.\nWith Pepr, you can efficiently convert organizational knowledge into code, improving documentation, testing, validation, and change management for more predictable outcomes.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"features\">Features\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#features\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Features”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Zero-config K8s Mutating and Validating Webhooks plus Controller generation\u003C/li>\n\u003Cli>Automatic leader-elected K8s resource watching\u003C/li>\n\u003Cli>Lightweight async key-value store backed by K8s for stateful operations with the [Pepr Store](./user-guide/store/\u003C/li>\n\u003Cli>Human-readable fluent API for generating \u003Ca href=\"#capability\">Pepr Capabilities\u003C/a>\u003C/li>\n\u003Cli>A fluent API for creating/modifying/watching and server-side applying K8s resources via \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes Fluent Client\u003C/a>\u003C/li>\n\u003Cli>Generate new K8s resources based off of cluster resource changes\u003C/li>\n\u003Cli>Perform other exec/API calls based off of cluster resources changes or any other arbitrary schedule\u003C/li>\n\u003Cli>Out of the box airgap support with \u003Ca href=\"https://zarf.dev\">Zarf\u003C/a>\u003C/li>\n\u003Cli>Entire NPM ecosystem available for advanced operations\u003C/li>\n\u003Cli>Realtime K8s debugging system for testing/reacting to cluster changes\u003C/li>\n\u003Cli>Controller network isolation and tamper-resistant module execution\u003C/li>\n\u003Cli>Least-privilege [RBAC](./user-guide/rbac/ generation\u003C/li>\n\u003Cli>AMD64 and ARM64 support\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"example-pepr-action\">Example Pepr Action\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#example-pepr-action\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Example Pepr Action”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This quick sample shows how to react to a ConfigMap being created or updated in the cluster.\nIt adds a label and annotation to the ConfigMap and adds some data to the ConfigMap.\nIt also creates a Validating Webhook to make sure the “pepr” label still exists.\nFinally, after the ConfigMap is created, it logs a message to the Pepr controller and creates or updates a separate ConfigMap with the \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">kubernetes-fluent-client\u003C/a> using server-side apply.\nFor more details see \u003Ca href=\"./user-guide/actions/\">actions\u003C/a> section.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">value\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Create a Mutate Action for the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Add a label and annotation to the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Add some data to the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">doug-says\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Pepr is awesome!\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Log a message to the Pepr controller logs\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">A ConfigMap was created or updated:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Create a Validate Action for the ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Validate the ConfigMap has a specific label\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HasLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Reject the ConfigMap if it doesn't have the label\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ConfigMap must have the required pepr label\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Watch behaves like controller-runtime's Manager.Watch()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">phase\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cm, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ConfigMap was \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">.\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Apply a ConfigMap using K8s server-side apply (will create or update)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">K8s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kind\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">data: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid: cm\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">uid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreatedOrUpdated()  .InNamespace(&#x22;pepr-demo&#x22;)  .WithLabel(&#x22;example&#x22;, &#x22;value&#x22;)  // Create a Mutate Action for the ConfigMap  .Mutate(request => {    // Add a label and annotation to the ConfigMap    request.SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;).SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);    // Add some data to the ConfigMap    request.Raw.data[&#x22;doug-says&#x22;] = &#x22;Pepr is awesome!&#x22;;    // Log a message to the Pepr controller logs    Log.info(&#x22;A ConfigMap was created or updated:&#x22;);  })  // Create a Validate Action for the ConfigMap  .Validate(request => {    // Validate the ConfigMap has a specific label    if (request.HasLabel(&#x22;pepr&#x22;)) {      return request.Approve();    }    // Reject the ConfigMap if it doesn&#x27;t have the label    return request.Deny(&#x22;ConfigMap must have the required pepr label&#x22;);  })  // Watch behaves like controller-runtime&#x27;s Manager.Watch()  .Watch(async (cm, phase) => {    Log.info(cm, &#x60;ConfigMap was ${phase}.&#x60;);    // Apply a ConfigMap using K8s server-side apply (will create or update)    await K8s(kind.ConfigMap).Apply({      metadata: {        name: &#x22;pepr-ssa-demo&#x22;,        namespace: &#x22;pepr-demo-2&#x22;,      },      data: {        uid: cm.metadata.uid,      },    });  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prerequisites\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prerequisites”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\n\u003Cp>\u003Ca href=\"https://nodejs.org/en/\">Node.js\u003C/a> v20.0.0+ (even-numbered releases only)\u003C/p>\n\u003Cul>\n\u003Cli>To ensure compatability and optimal performance, it is recommended to use even-numbered releases of Node.js as they are stable releases and receive long-term support for three years.\nOdd-numbered releases are experimental and may not be supported by certain libraries utilized in Pepr.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ca href=\"https://www.npmjs.com/\">npm\u003C/a> v10.1.0+\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Recommended (optional) tools:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://code.visualstudio.com/\">Visual Studio Code\u003C/a> for inline debugging and \u003Ca href=\"#capability\">Pepr Capabilities\u003C/a> creation.\u003C/li>\n\u003Cli>A Kubernetes cluster for \u003Ccode dir=\"auto\">npx pepr dev\u003C/code>. Pepr modules include \u003Ccode dir=\"auto\">npm run k3d-setup\u003C/code> if you want to test locally with \u003Ca href=\"https://k3d.io/\">K3d\u003C/a> and \u003Ca href=\"https://www.docker.com/\">Docker\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"quick-start-guide\">Quick Start Guide\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#quick-start-guide\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Quick Start Guide”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Create a new Pepr Module\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If you already have a K3d cluster you want to use, skip this step\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">k3d-setup\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Start playing with Pepr now!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If using Kind, or another local k8s distro instead,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># run `npx pepr dev --host &#x3C;your_hostname>`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/hello-pepr.samples.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr initnpm run k3d-setupnpx pepr devkubectl apply -f capabilities/hello-pepr.samples.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Caside aria-label=\"Tip\" class=\"starlight-aside starlight-aside--tip\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z\">\u003C/path>\u003Cpath d=\"M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z\">\u003C/path>\u003C/svg>Tip\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>Don’t use IP as your \u003Ccode dir=\"auto\">--host\u003C/code>, it’s not supported. Make sure to check your\nlocal k8s distro documentation how to reach your localhost, which is where\n\u003Ccode dir=\"auto\">pepr dev\u003C/code> is serving the code from.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cp>&#x3C;\u003Cvideo class=\"td-content\" controls src=\"https://user-images.githubusercontent.com/882485/230895880-c5623077-f811-4870-bb9f-9bb8e5edc118.mp4\">\u003C/video>>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"concepts\">Concepts\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#concepts\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Concepts”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"module\">Module\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Module”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A module is the top-level collection of capabilities.\nIt is a single, complete TypeScript project that includes an entry point to load all the configuration and capabilities, along with their actions.\nDuring the Pepr build process, each module produces a unique Kubernetes MutatingWebhookConfiguration and ValidatingWebhookConfiguration, along with a secret containing the transpiled and compressed TypeScript code.\nThe webhooks and secret are deployed into the Kubernetes cluster with their own isolated controller.\u003C/p>\n\u003Cp>See [Module](./user-guide/pepr-modules/ for more details.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"capability\">Capability\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#capability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Capability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A capability is set of related actions that work together to achieve a specific transformation or operation on Kubernetes resources.\nCapabilities are user-defined and can include one or more actions.\nThey are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations.\nA Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\u003C/p>\n\u003Cp>See [Capabilities](./user-guide/capabilities/ for more details.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"action\">Action\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#action\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Action”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in from Kubernetes.\nActions are the atomic operations that are performed on Kubernetes resources by Pepr.\u003C/p>\n\u003Cp>For example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource’s metadata.\nActions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\u003C/p>\n\u003Cp>There are both \u003Ccode dir=\"auto\">Mutate()\u003C/code> and \u003Ccode dir=\"auto\">Validate()\u003C/code> Actions that can be used to modify or validate Kubernetes resources within the admission controller lifecycle.\nThere are also \u003Ccode dir=\"auto\">Watch()\u003C/code> and \u003Ccode dir=\"auto\">Reconcile()\u003C/code> actions that can be used to watch for changes to Kubernetes resources that already exist.\nFinally, the \u003Ccode dir=\"auto\">Finalize()\u003C/code> can be used after \u003Ccode dir=\"auto\">Watch()\u003C/code> or \u003Ccode dir=\"auto\">Reconcile()\u003C/code> to perform cleanup operations when the resource is deleted.\u003C/p>\n\u003Cp>See \u003Ca href=\"./user-guide/actions\">actions\u003C/a> for more details.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"logical-pepr-flow\">Logical Pepr Flow\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#logical-pepr-flow\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Logical Pepr Flow”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cimg src=\"/assets/pepr-arch.png\" alt=\"Arch Diagram\">\n\u003Ca href=\"/assets/pepr-arch.png\">Source Diagram\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"typescript\">TypeScript\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#typescript\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “TypeScript”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"https://www.typescriptlang.org/\">TypeScript\u003C/a> is a strongly typed, object-oriented programming language built on top of JavaScript.\nIt provides optional static typing and a rich type system, allowing developers to write more robust code.\nTypeScript is transpiled to JavaScript, enabling it to run in any environment that supports JavaScript.\nPepr allows you to use JavaScript or TypeScript to write capabilities, but TypeScript is recommended for its type safety and rich type system.\nSee the \u003Ca href=\"https://www.typescriptlang.org/docs/handbook/typescript-from-scratch.html\">Typescript docs\u003C/a> to learn more.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"community\">Community\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#community\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Community”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To join our channel go to \u003Ca href=\"https://communityinviter.com/apps/kubernetes/community\">Kubernetes Slack\u003C/a> and join the \u003Ccode dir=\"auto\">#pepr\u003C/code> channel.\u003C/p>\n\u003Cp>\u003Ca href=\"https://github.com/defenseunicorns/pepr/graphs/contributors\">\u003Cimg src=\"https://contrib.rocks/image?repo=defenseunicorns/pepr\" alt=\"Contributor Chart\">\u003C/a>\u003C/p>\n\u003Cp>Made with \u003Ca href=\"https://contrib.rocks\">contrib.rocks\u003C/a>.\u003C/p>",{"headings":1425,"localImagePaths":1439,"remoteImagePaths":1440,"frontmatter":1441,"imagePaths":1442},[1426,1427,1428,1429,1430,1431,1432,1433,1434,1435,1436,1437,1438],{"depth":80,"slug":402,"text":403},{"depth":80,"slug":405,"text":406},{"depth":80,"slug":408,"text":409},{"depth":80,"slug":411,"text":412},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":417,"text":418},{"depth":80,"slug":420,"text":421},{"depth":131,"slug":423,"text":424},{"depth":131,"slug":426,"text":427},{"depth":131,"slug":429,"text":430},{"depth":80,"slug":432,"text":433},{"depth":80,"slug":435,"text":436},{"depth":80,"slug":34,"text":438},[],[],{"title":389,"description":1415,"slug":1412},[],"v0.54/roadmap",{"id":1443,"data":1445,"body":1449,"filePath":1450,"digest":1451,"rendered":1452},{"title":40,"description":40,"editUrl":66,"head":1446,"template":68,"sidebar":1447,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1448},{},"_2025 Roadmap_  \n\n## Phase 1: Code Quality - Experimentation\n\n- **Q1**:\n  - **Turn on eslint enforcement and configure settings and see no warnings**:\n    - Eliminate circular dependencies, complexity, return statements, etc.\n  - **Metric and Performance Baselining**:\n    - Establish a baseline for performance and resource utilization metrics. Use this data to make informed decisions about the direction of the project in terms of Deno2\n  - **Nightly Release**:\n    - Establish a nightly release process. This will help us to catch bugs early and ensure that the project is always in a releasable state.\n\n## Phase 2: Test Reliability & CRD generation\n\n- **Q2**:\n  - **Professional Dashboard displaying metrics and performance tests originating from CI**\n  - **Improve integration testing with Pepr, UDS Core, and Kubernetes Fluent Client**\n    - This focused on a more reliable release process to reduce the frequency of regressions.\n  - **Migrate old `journey/` style tests to Pepr-Excellent-Examples or newer CLI integration tests. See [pepr/#1597](https://github.com/defenseunicorns/pepr/issues/1597).\n  - **Define Governance with Pepr**\n    - Add support for compliance/governance validation within Pepr. See [pepr/#1823](https://github.com/defenseunicorns/pepr/issues/1823).\n  - As an alpha feature, support the generation of CRDs within Pepr. See [pepr/#1062](https://github.com/defenseunicorns/pepr/issues/1062).\n\n## Phase 3: TBD\n\n- **Q3**:\n  - **Support Governance with Pepr**\n    - Improve initial support added in Q2.\n  - **Transactional PeprStore Implementation**:\n    - Begin integrating transactional functionality into PeprStore. The implementation will emphasize robust testing and clear documentation to support fast and reliable data operations in a transactional manner.\n\n## Phase 4: TBD\n\n- **Q4**:\n  - **Prepare for Project Donation**\n    - Consider Pepr project donation after resolving the open topics of Governance and performance at scale\n  - **Experimentation with Deno2**:\n    - Experiment with Deno2 through Dash Days and see if it can be used in the project. Look into the performance improvements and new features that Deno2 brings to the table.\n\n## Deferred or Unprioritized Work\n\nThis section contains work we've considered, but have not slotted in to the roadmap or have had to deprioritize.\n\n- **Pepr v1.0.0**\n  - Determine if Pepr is stable enough to be at `v1.0.0` and release it!\n- **OTEL Preparation**:\n  - Come up with a plan to implement Open Telemetry. Specifically distributed tracing, metrics, logs and events. Use this data to make debugging easier from a UDS Core prespective. There will be documentation work on how to use an OTEL collector with a Pepr Module.\n- **Deno2 Implementation**:\n  - If determined to be advisable, move forward with migrating the project to Deno2 (starting with the kubernetes-fluent-client..?). This phase will focus on adapting the codebase, conducting extensive testing, and creating comprehensive documentation to ensure a seamless transition.\n- **Determine if a Transactional PeprStore makes sense**:\n  - Sus out details involved with having a transactional Pepr Store. What are the implications of this? What are the benefits? What are the drawbacks? What are the use-cases? What are the technologies that can be used to implement this?\n\n_2024 Roadmap_  \n\n## Phase 1: Preparation - Testing and Docs\n\n- **Q1**:\n  - **Establish Medium for Communication with Community**:\n    - Establish communication channel for community members and contributors. Easy/discoverable \"how to contribute\" guide.\n  - **Site/Documentation**:\n    - Improve information architecture, nail killer use-cases, and make it obvious how to get started and find your way around.\n  - **Automated Testing**:\n    - Focus on stories that increase confidence in protection of features and functionality. Simplify hello-pepr and bring e2e test against external repo with examples. Make sure that contributions are well-tested.\n\n## Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development\n\n- **Q2**:\n  - **Community Engagement**:\n    - Begin engaging with potential contributors and users through social media, Kubernetes/Cloud Native Computing Foundation (CNCF) meetups, and other channels. Monitor and participate in our Slack channel.\n  - **Feature Development**:\n    - Based on company feedback, continuously improve and add features. Add feature parity with other tools in the Kubernetes ecosystem where it makes sense. Chip away at the backlog.\n  - **Documentation Improvements**:\n    - Continue to improve documentation and add more examples like Doom, find scaling limitations\n  - **Competitive Analysis**:\n    - Understand the competitive landscape and how/where Pepr can/does differentiate itself. Have it in the docs.\n  - **Instrumentation**:\n    - Outfit Pepr with the necessary instrumentation to collect metrics and logs. Use this data to make informed about the watch direction.\n\n## Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features\n\n- **Q3**:\n  - **Informer Iterations**:\n    - Tune informer based on feedback from UDS Core and delivery so events will be reconciled through eventual consistency.\n    - [Evaluate](https://github.com/defenseunicorns/pepr/blob/main/adr/0015-kfc-watch-undici/) other underlying technologies for informer.\n  - **Feature Development**:\n    - `.WithNameRegex()/.InNamespaceRegex()` for Kubernetes Controller development against resources that could match a variety of names or namespaces.\n    - `.WithDeletionTimestamp()` for Kubernetes Controller Development against resources that are pending deletion\n    - Create a sharded queue that enables the Module Author to define queueing strategies based on `kind`, `kind/namespace`, `kind/namespace/name`, `global`.\n  - **Community Building**:\n    - Grow the contributor base, establish a governance model, and encourage community-led initiatives. Look to drive conversation in our Slack Channel.\n    - Based on community feedback, continuously improve and add features. Rigoursly test and document and review code.\n  - **Project Advocation**:\n    - Publicly advocate for the project and encourage adoption.\n  - **Stability**:\n    - Ensure that the project is stable and reliable. Make sure that the project is well-tested and documented.\n    - Identify new areas of project improvement and work on them.\n\n## Phase 4: Feature Development, Stablization, Code and Testing Quality Improvements\n\n- **Q4**:\n  - **Features**:\n    - Improve DevEx overrides in Pepr section of package.json for customized builds of Modules\n    - `.Finalize()` for Kubernetes Controller Development to controlling downstream resources through finalizers\n    - Scaffolding to validate images from a registry through cosign/sigstore\n    - Replace node-fetch with Undici in the KFC project for performance improvements\n  - **Removal of Circular Dependencies**:\n    Identify and remove circular dependencies in the codebase.\n  - **Strong Typings**:\n    - Identify where we can make Pepr/KFC stronger by adding typings.\n  - **Work to reduce code complexity**\n    - Monitor code complexity through eslint, work to drive down complexity\n  - **Robust E2E Tests in KFC**:\n    - Create a strong e2e suite in KFC, ensure tests are robust and cover all the features of KFC.\n  - **Documentation**:\n    - Ensure that the documentation is up-to-date and accurate. Add more examples and use-cases.\n    - Onboarding and contribution guides should be clear and easy to follow.\n  - **Load/Stress Testing**:\n    - Load test Pepr/KFC to identify bottlenecks and areas of improvement.\n    - Ensure that Pepr/KFC can handle a large number of resources and events over a sustained period of time (nightly).","src/content/docs/v0.54/roadmap.md","4cb88ae60bae7fb5",{"html":1453,"metadata":1454},"\u003Cp>\u003Cem>2025 Roadmap\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-1-code-quality---experimentation\">Phase 1: Code Quality - Experimentation\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-1-code-quality---experimentation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 1: Code Quality - Experimentation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q1\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Turn on eslint enforcement and configure settings and see no warnings\u003C/strong>:\n\u003Cul>\n\u003Cli>Eliminate circular dependencies, complexity, return statements, etc.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Metric and Performance Baselining\u003C/strong>:\n\u003Cul>\n\u003Cli>Establish a baseline for performance and resource utilization metrics. Use this data to make informed decisions about the direction of the project in terms of Deno2\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Nightly Release\u003C/strong>:\n\u003Cul>\n\u003Cli>Establish a nightly release process. This will help us to catch bugs early and ensure that the project is always in a releasable state.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-2-test-reliability--crd-generation\">Phase 2: Test Reliability &#x26; CRD generation\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-2-test-reliability--crd-generation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 2: Test Reliability &#x26; CRD generation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q2\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Professional Dashboard displaying metrics and performance tests originating from CI\u003C/strong>\u003C/li>\n\u003Cli>\u003Cstrong>Improve integration testing with Pepr, UDS Core, and Kubernetes Fluent Client\u003C/strong>\n\u003Cul>\n\u003Cli>This focused on a more reliable release process to reduce the frequency of regressions.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>**Migrate old \u003Ccode dir=\"auto\">journey/\u003C/code> style tests to Pepr-Excellent-Examples or newer CLI integration tests. See \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues/1597\">pepr/#1597\u003C/a>.\u003C/li>\n\u003Cli>\u003Cstrong>Define Governance with Pepr\u003C/strong>\n\u003Cul>\n\u003Cli>Add support for compliance/governance validation within Pepr. See \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues/1823\">pepr/#1823\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>As an alpha feature, support the generation of CRDs within Pepr. See \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues/1062\">pepr/#1062\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-3-tbd\">Phase 3: TBD\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-3-tbd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 3: TBD”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q3\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Support Governance with Pepr\u003C/strong>\n\u003Cul>\n\u003Cli>Improve initial support added in Q2.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Transactional PeprStore Implementation\u003C/strong>:\n\u003Cul>\n\u003Cli>Begin integrating transactional functionality into PeprStore. The implementation will emphasize robust testing and clear documentation to support fast and reliable data operations in a transactional manner.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-4-tbd\">Phase 4: TBD\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-4-tbd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 4: TBD”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q4\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Prepare for Project Donation\u003C/strong>\n\u003Cul>\n\u003Cli>Consider Pepr project donation after resolving the open topics of Governance and performance at scale\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Experimentation with Deno2\u003C/strong>:\n\u003Cul>\n\u003Cli>Experiment with Deno2 through Dash Days and see if it can be used in the project. Look into the performance improvements and new features that Deno2 brings to the table.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"deferred-or-unprioritized-work\">Deferred or Unprioritized Work\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#deferred-or-unprioritized-work\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Deferred or Unprioritized Work”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This section contains work we’ve considered, but have not slotted in to the roadmap or have had to deprioritize.\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Pepr v1.0.0\u003C/strong>\n\u003Cul>\n\u003Cli>Determine if Pepr is stable enough to be at \u003Ccode dir=\"auto\">v1.0.0\u003C/code> and release it!\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>OTEL Preparation\u003C/strong>:\n\u003Cul>\n\u003Cli>Come up with a plan to implement Open Telemetry. Specifically distributed tracing, metrics, logs and events. Use this data to make debugging easier from a UDS Core prespective. There will be documentation work on how to use an OTEL collector with a Pepr Module.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Deno2 Implementation\u003C/strong>:\n\u003Cul>\n\u003Cli>If determined to be advisable, move forward with migrating the project to Deno2 (starting with the kubernetes-fluent-client..?). This phase will focus on adapting the codebase, conducting extensive testing, and creating comprehensive documentation to ensure a seamless transition.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Determine if a Transactional PeprStore makes sense\u003C/strong>:\n\u003Cul>\n\u003Cli>Sus out details involved with having a transactional Pepr Store. What are the implications of this? What are the benefits? What are the drawbacks? What are the use-cases? What are the technologies that can be used to implement this?\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cem>2024 Roadmap\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-1-preparation---testing-and-docs\">Phase 1: Preparation - Testing and Docs\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-1-preparation---testing-and-docs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 1: Preparation - Testing and Docs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q1\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Establish Medium for Communication with Community\u003C/strong>:\n\u003Cul>\n\u003Cli>Establish communication channel for community members and contributors. Easy/discoverable “how to contribute” guide.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Site/Documentation\u003C/strong>:\n\u003Cul>\n\u003Cli>Improve information architecture, nail killer use-cases, and make it obvious how to get started and find your way around.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Automated Testing\u003C/strong>:\n\u003Cul>\n\u003Cli>Focus on stories that increase confidence in protection of features and functionality. Simplify hello-pepr and bring e2e test against external repo with examples. Make sure that contributions are well-tested.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-2-community-building-competitive-analysis-instrumentation-and-feature-development\">Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-2-community-building-competitive-analysis-instrumentation-and-feature-development\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 2: Community Building, Competitive Analysis, Instrumentation and Feature Development”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q2\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Community Engagement\u003C/strong>:\n\u003Cul>\n\u003Cli>Begin engaging with potential contributors and users through social media, Kubernetes/Cloud Native Computing Foundation (CNCF) meetups, and other channels. Monitor and participate in our Slack channel.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Feature Development\u003C/strong>:\n\u003Cul>\n\u003Cli>Based on company feedback, continuously improve and add features. Add feature parity with other tools in the Kubernetes ecosystem where it makes sense. Chip away at the backlog.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Documentation Improvements\u003C/strong>:\n\u003Cul>\n\u003Cli>Continue to improve documentation and add more examples like Doom, find scaling limitations\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Competitive Analysis\u003C/strong>:\n\u003Cul>\n\u003Cli>Understand the competitive landscape and how/where Pepr can/does differentiate itself. Have it in the docs.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Instrumentation\u003C/strong>:\n\u003Cul>\n\u003Cli>Outfit Pepr with the necessary instrumentation to collect metrics and logs. Use this data to make informed about the watch direction.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-3-informer-iterations-watch-analysis-metric-collection-developmentstabilizationimprovement-of-new-features\">Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-3-informer-iterations-watch-analysis-metric-collection-developmentstabilizationimprovement-of-new-features\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 3: Informer Iterations, Watch Analysis, Metric Collection, Development/Stabilization/Improvement of New Features”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q3\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Informer Iterations\u003C/strong>:\n\u003Cul>\n\u003Cli>Tune informer based on feedback from UDS Core and delivery so events will be reconciled through eventual consistency.\u003C/li>\n\u003Cli>\u003Ca href=\"https://github.com/defenseunicorns/pepr/blob/main/adr/0015-kfc-watch-undici/\">Evaluate\u003C/a> other underlying technologies for informer.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Feature Development\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">.WithNameRegex()/.InNamespaceRegex()\u003C/code> for Kubernetes Controller development against resources that could match a variety of names or namespaces.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.WithDeletionTimestamp()\u003C/code> for Kubernetes Controller Development against resources that are pending deletion\u003C/li>\n\u003Cli>Create a sharded queue that enables the Module Author to define queueing strategies based on \u003Ccode dir=\"auto\">kind\u003C/code>, \u003Ccode dir=\"auto\">kind/namespace\u003C/code>, \u003Ccode dir=\"auto\">kind/namespace/name\u003C/code>, \u003Ccode dir=\"auto\">global\u003C/code>.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Community Building\u003C/strong>:\n\u003Cul>\n\u003Cli>Grow the contributor base, establish a governance model, and encourage community-led initiatives. Look to drive conversation in our Slack Channel.\u003C/li>\n\u003Cli>Based on community feedback, continuously improve and add features. Rigoursly test and document and review code.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Project Advocation\u003C/strong>:\n\u003Cul>\n\u003Cli>Publicly advocate for the project and encourage adoption.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Stability\u003C/strong>:\n\u003Cul>\n\u003Cli>Ensure that the project is stable and reliable. Make sure that the project is well-tested and documented.\u003C/li>\n\u003Cli>Identify new areas of project improvement and work on them.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"phase-4-feature-development-stablization-code-and-testing-quality-improvements\">Phase 4: Feature Development, Stablization, Code and Testing Quality Improvements\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#phase-4-feature-development-stablization-code-and-testing-quality-improvements\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Phase 4: Feature Development, Stablization, Code and Testing Quality Improvements”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Q4\u003C/strong>:\n\u003Cul>\n\u003Cli>\u003Cstrong>Features\u003C/strong>:\n\u003Cul>\n\u003Cli>Improve DevEx overrides in Pepr section of package.json for customized builds of Modules\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">.Finalize()\u003C/code> for Kubernetes Controller Development to controlling downstream resources through finalizers\u003C/li>\n\u003Cli>Scaffolding to validate images from a registry through cosign/sigstore\u003C/li>\n\u003Cli>Replace node-fetch with Undici in the KFC project for performance improvements\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Removal of Circular Dependencies\u003C/strong>:\nIdentify and remove circular dependencies in the codebase.\u003C/li>\n\u003Cli>\u003Cstrong>Strong Typings\u003C/strong>:\n\u003Cul>\n\u003Cli>Identify where we can make Pepr/KFC stronger by adding typings.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Work to reduce code complexity\u003C/strong>\n\u003Cul>\n\u003Cli>Monitor code complexity through eslint, work to drive down complexity\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Robust E2E Tests in KFC\u003C/strong>:\n\u003Cul>\n\u003Cli>Create a strong e2e suite in KFC, ensure tests are robust and cover all the features of KFC.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Documentation\u003C/strong>:\n\u003Cul>\n\u003Cli>Ensure that the documentation is up-to-date and accurate. Add more examples and use-cases.\u003C/li>\n\u003Cli>Onboarding and contribution guides should be clear and easy to follow.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Cstrong>Load/Stress Testing\u003C/strong>:\n\u003Cul>\n\u003Cli>Load test Pepr/KFC to identify bottlenecks and areas of improvement.\u003C/li>\n\u003Cli>Ensure that Pepr/KFC can handle a large number of resources and events over a sustained period of time (nightly).\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>",{"headings":1455,"localImagePaths":1467,"remoteImagePaths":1468,"frontmatter":1469,"imagePaths":1470},[1456,1457,1458,1459,1460,1461,1462,1463,1464],{"depth":80,"slug":81,"text":82},{"depth":80,"slug":84,"text":85},{"depth":80,"slug":87,"text":88},{"depth":80,"slug":90,"text":91},{"depth":80,"slug":93,"text":94},{"depth":80,"slug":96,"text":97},{"depth":80,"slug":99,"text":100},{"depth":80,"slug":102,"text":103},{"depth":80,"slug":1465,"text":1466},"phase-4-feature-development-stablization-code-and-testing-quality-improvements","Phase 4: Feature Development, Stablization, Code and Testing Quality Improvements",[],[],{"title":40,"description":40,"slug":1443},[],"v0.55",{"id":1471,"data":1473,"body":394,"filePath":1478,"digest":1479,"rendered":1480},{"title":389,"description":1474,"editUrl":66,"head":1475,"template":68,"sidebar":1476,"pagefind":66,"draft":70},"Pepr Documentation - v0.55.4",[],{"hidden":70,"attrs":1477},{},"src/content/docs/v0.55/index.md","78c4dc83bcb13bb9",{"html":398,"metadata":1481},{"headings":1482,"localImagePaths":1496,"remoteImagePaths":1497,"frontmatter":1498,"imagePaths":1499},[1483,1484,1485,1486,1487,1488,1489,1490,1491,1492,1493,1494,1495],{"depth":80,"slug":402,"text":403},{"depth":80,"slug":405,"text":406},{"depth":80,"slug":408,"text":409},{"depth":80,"slug":411,"text":412},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":417,"text":418},{"depth":80,"slug":420,"text":421},{"depth":131,"slug":423,"text":424},{"depth":131,"slug":426,"text":427},{"depth":131,"slug":429,"text":430},{"depth":80,"slug":432,"text":433},{"depth":80,"slug":435,"text":436},{"depth":80,"slug":34,"text":438},[],[],{"title":389,"description":1474,"slug":1471},[],"v0.55/roadmap",{"id":1500,"data":1502,"body":72,"filePath":1506,"digest":1507,"rendered":1508},{"title":40,"description":40,"editUrl":66,"head":1503,"template":68,"sidebar":1504,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1505},{},"src/content/docs/v0.55/roadmap.md","efea559178e9d14b",{"html":76,"metadata":1509},{"headings":1510,"localImagePaths":1520,"remoteImagePaths":1521,"frontmatter":1522,"imagePaths":1523},[1511,1512,1513,1514,1515,1516,1517,1518,1519],{"depth":80,"slug":81,"text":82},{"depth":80,"slug":84,"text":85},{"depth":80,"slug":87,"text":88},{"depth":80,"slug":90,"text":91},{"depth":80,"slug":93,"text":94},{"depth":80,"slug":96,"text":97},{"depth":80,"slug":99,"text":100},{"depth":80,"slug":102,"text":103},{"depth":80,"slug":105,"text":106},[],[],{"title":40,"description":40,"slug":1500},[],"v0.54/actions",{"id":1524,"data":1526,"body":1530,"filePath":1531,"digest":1532,"rendered":1533},{"title":20,"description":20,"editUrl":66,"head":1527,"template":68,"sidebar":1528,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1529},{},"## Overview\n\nAn action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in during the admission controller lifecycle. Actions are the atomic operations that are performed on Kubernetes resources by Pepr.\n\nFor example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource's metadata. Actions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\n\nActions are `Mutate()`, `Validate()`, `Watch()`, `Reconcile()`, and `Finalize()`. Both Mutate and Validate actions run during the admission controller lifecycle, while Watch and Reconcile actions run in a separate controller that tracks changes to resources, including existing resource; the Finalize action spans both the admission & afterward.\n\nLet's look at some example actions that are included in the `HelloPepr` capability that is created for you when you [`npx pepr init`](./pepr-cli#pepr-init):\n\n---\n\nIn this first example, Pepr is adding a label and annotation to a ConfigMap with the name `example-1` when it is created. Comments are added to each line to explain in more detail what is happening.\n\n```ts\n// When(a.\u003CKind>) filters which GroupVersionKind (GVK) this action should act on.\nWhen(a.ConfigMap)\n  // This limits the action to only act on new resources.\n  .IsCreated()\n  // This limits the action to only act on resources with the name \"example-1\".\n  .WithName(\"example-1\")\n  // Mutate() is where we define the actual behavior of this action.\n  .Mutate(request => {\n    // The request object is a wrapper around the K8s resource that Pepr is acting on.\n    request\n      // Here we are adding a label to the ConfigMap.\n      .SetLabel(\"pepr\", \"was-here\")\n      // And here we are adding an annotation.\n      .SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n---\n\nIn this example, a Validate action rejects any ConfigMap in the `pepr-demo` namespace that has no data.\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreated()\n  .InNamespace(\"pepr-demo\")\n  // Validate() is where we define the actual behavior of this action.\n  .Validate(request => {\n    // If data exists, approve the request.\n    if (request.Raw.data) {\n      return request.Approve();\n    }\n\n    // Otherwise, reject the request with a message and optional code.\n    return request.Deny(\"ConfigMap must have data\");\n  });\n```\n\n---\n\nIn this example, a Watch action on the name and phase of any ConfigMap.Watch actions run in a separate controller that tracks changes to resources, including existing resources so that you can react to changes in real-time. It is important to note that Watch actions are not run during the admission controller lifecycle, so they cannot be used to modify or validate resources. They also may run multiple times for the same resource, so it is important to make sure that your Watch actions are idempotent. In a future release, Pepr will provide a better way to control when a Watch action is run to avoid this issue.\n\n```ts\nWhen(a.ConfigMap)\n  // Watch() is where we define the actual behavior of this action.\n  .Watch((cm, phase) => {\n    Log.info(cm, `ConfigMap ${cm.metadata.name} was ${phase}`);\n  });\n```\n\nThere are many more examples in the `HelloPepr` capability that you can use as a reference when creating your own actions. Note that each time you run [`npx pepr update`](./pepr-cli#pepr-update), Pepr will automatically update the `HelloPepr` capability with the latest examples and best practices for you to reference and test directly in your Pepr Module.\n\n---\n\nIn some scenarios involving Kubernetes Resource Controllers or Operator patterns, opting for a Reconcile action could be more fitting. Comparable to the Watch functionality, Reconcile is responsible for monitoring the name and phase of any Kubernetes Object. It operates within the Watch controller dedicated to observing modifications to resources, including those already existing, enabling responses to alterations as they occur. Unlike Watch, however, Reconcile employs a Queue to sequentially handle events once they are returned by the Kubernetes API. This allows the operator to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource.\n\n```ts\nWhen(WebApp)\n  .IsCreatedOrUpdated()\n  .Validate(validator)\n  .Reconcile(async instance => {\n\n    const { namespace, name, generation } = instance.metadata;\n\n    if (!instance.metadata?.namespace) {\n      Log.error(instance, `Invalid WebApp definition`);\n      return;\n    }\n\n    const isPending = instance.status?.phase === Phase.Pending;\n    const isCurrentGeneration = generation === instance.status?.observedGeneration;\n\n    if (isPending || isCurrentGeneration) {\n      Log.debug(instance, `Skipping pending or completed instance`);\n      return;\n    }\n\n    Log.debug(instance, `Processing instance ${namespace}/${name}`);\n\n\n    try {\n      // Set Status to pending\n      await updateStatus(instance, { phase: Phase.Pending });\n\n      // Deploy Deployment, ConfigMap, Service, ServiceAccount, and RBAC based on instance\n      await Deploy(instance);\n\n      // Set Status to ready\n      await updateStatus(instance, {\n        phase: Phase.Ready,\n        observedGeneration: instance.metadata.generation,\n      });\n    } catch (e) {\n      Log.error(e, `Error configuring for ${namespace}/${name}`);\n\n      // Set Status to failed\n      void updateStatus(instance, {\n        phase: Phase.Failed,\n        observedGeneration: instance.metadata.generation,\n      });\n    }\n  });\n```","src/content/docs/v0.54/actions/index.md","d8f8d29582fd1192",{"html":1534,"metadata":1535},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"overview\">Overview\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#overview\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Overview”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>An action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in during the admission controller lifecycle. Actions are the atomic operations that are performed on Kubernetes resources by Pepr.\u003C/p>\n\u003Cp>For example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource’s metadata. Actions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.\u003C/p>\n\u003Cp>Actions are \u003Ccode dir=\"auto\">Mutate()\u003C/code>, \u003Ccode dir=\"auto\">Validate()\u003C/code>, \u003Ccode dir=\"auto\">Watch()\u003C/code>, \u003Ccode dir=\"auto\">Reconcile()\u003C/code>, and \u003Ccode dir=\"auto\">Finalize()\u003C/code>. Both Mutate and Validate actions run during the admission controller lifecycle, while Watch and Reconcile actions run in a separate controller that tracks changes to resources, including existing resource; the Finalize action spans both the admission &#x26; afterward.\u003C/p>\n\u003Cp>Let’s look at some example actions that are included in the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability that is created for you when you \u003Ca href=\"./pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>:\u003C/p>\n\u003Chr>\n\u003Cp>In this first example, Pepr is adding a label and annotation to a ConfigMap with the name \u003Ccode dir=\"auto\">example-1\u003C/code> when it is created. Comments are added to each line to explain in more detail what is happening.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// When(a.&#x3C;Kind>) filters which GroupVersionKind (GVK) this action should act on.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// This limits the action to only act on new resources.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// This limits the action to only act on resources with the name \"example-1\".\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example-1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Mutate() is where we define the actual behavior of this action.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// The request object is a wrapper around the K8s resource that Pepr is acting on.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are adding a label to the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// And here we are adding an annotation.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"// When(a.\u003CKind>) filters which GroupVersionKind (GVK) this action should act on.When(a.ConfigMap)  // This limits the action to only act on new resources.  .IsCreated()  // This limits the action to only act on resources with the name &#x22;example-1&#x22;.  .WithName(&#x22;example-1&#x22;)  // Mutate() is where we define the actual behavior of this action.  .Mutate(request => {    // The request object is a wrapper around the K8s resource that Pepr is acting on.    request      // Here we are adding a label to the ConfigMap.      .SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;)      // And here we are adding an annotation.      .SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cp>In this example, a Validate action rejects any ConfigMap in the \u003Ccode dir=\"auto\">pepr-demo\u003C/code> namespace that has no data.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Validate() is where we define the actual behavior of this action.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// If data exists, approve the request.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Otherwise, reject the request with a message and optional code.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ConfigMap must have data\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .InNamespace(&#x22;pepr-demo&#x22;)  // Validate() is where we define the actual behavior of this action.  .Validate(request => {    // If data exists, approve the request.    if (request.Raw.data) {      return request.Approve();    }    // Otherwise, reject the request with a message and optional code.    return request.Deny(&#x22;ConfigMap must have data&#x22;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cp>In this example, a Watch action on the name and phase of any ConfigMap.Watch actions run in a separate controller that tracks changes to resources, including existing resources so that you can react to changes in real-time. It is important to note that Watch actions are not run during the admission controller lifecycle, so they cannot be used to modify or validate resources. They also may run multiple times for the same resource, so it is important to make sure that your Watch actions are idempotent. In a future release, Pepr will provide a better way to control when a Watch action is run to avoid this issue.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Watch() is where we define the actual behavior of this action.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">phase\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cm, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ConfigMap \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">cm\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\"> was \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  // Watch() is where we define the actual behavior of this action.  .Watch((cm, phase) => {    Log.info(cm, &#x60;ConfigMap ${cm.metadata.name} was ${phase}&#x60;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>There are many more examples in the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability that you can use as a reference when creating your own actions. Note that each time you run \u003Ca href=\"./pepr-cli#pepr-update\">\u003Ccode dir=\"auto\">npx pepr update\u003C/code>\u003C/a>, Pepr will automatically update the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability with the latest examples and best practices for you to reference and test directly in your Pepr Module.\u003C/p>\n\u003Chr>\n\u003Cp>In some scenarios involving Kubernetes Resource Controllers or Operator patterns, opting for a Reconcile action could be more fitting. Comparable to the Watch functionality, Reconcile is responsible for monitoring the name and phase of any Kubernetes Object. It operates within the Watch controller dedicated to observing modifications to resources, including those already existing, enabling responses to alterations as they occur. Unlike Watch, however, Reconcile employs a Queue to sequentially handle events once they are returned by the Kubernetes API. This allows the operator to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(WebApp)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(validator)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">generation\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Invalid WebApp definition\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">isPending\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">status\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> === \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pending\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">isCurrentGeneration\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">generation\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> === \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">status\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">observedGeneration\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (isPending \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">||\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> isCurrentGeneration) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Skipping pending or completed instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing instance \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set Status to pending\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">updateStatus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, { phase: Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pending\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> });\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Deploy Deployment, ConfigMap, Service, ServiceAccount, and RBAC based on instance\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set Status to ready\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">updateStatus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase: Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Ready\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">observedGeneration: instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">generation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (e) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(e, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Error configuring for \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set Status to failed\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">void\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">updateStatus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase: Phase\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Failed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">observedGeneration: instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">generation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(WebApp)  .IsCreatedOrUpdated()  .Validate(validator)  .Reconcile(async instance => {    const { namespace, name, generation } = instance.metadata;    if (!instance.metadata?.namespace) {      Log.error(instance, &#x60;Invalid WebApp definition&#x60;);      return;    }    const isPending = instance.status?.phase === Phase.Pending;    const isCurrentGeneration = generation === instance.status?.observedGeneration;    if (isPending || isCurrentGeneration) {      Log.debug(instance, &#x60;Skipping pending or completed instance&#x60;);      return;    }    Log.debug(instance, &#x60;Processing instance ${namespace}/${name}&#x60;);    try {      // Set Status to pending      await updateStatus(instance, { phase: Phase.Pending });      // Deploy Deployment, ConfigMap, Service, ServiceAccount, and RBAC based on instance      await Deploy(instance);      // Set Status to ready      await updateStatus(instance, {        phase: Phase.Ready,        observedGeneration: instance.metadata.generation,      });    } catch (e) {      Log.error(e, &#x60;Error configuring for ${namespace}/${name}&#x60;);      // Set Status to failed      void updateStatus(instance, {        phase: Phase.Failed,        observedGeneration: instance.metadata.generation,      });    }  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1536,"localImagePaths":1538,"remoteImagePaths":1539,"frontmatter":1540,"imagePaths":1541},[1537],{"depth":80,"slug":577,"text":578},[],[],{"title":20,"description":20,"slug":1524},[],"v0.54/actions/finalize",{"id":1542,"data":1544,"body":1548,"filePath":1549,"digest":1550,"rendered":1551},{"title":335,"description":335,"editUrl":66,"head":1545,"template":68,"sidebar":1546,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1547},{},"A specialized combination of Pepr's [Mutate](../mutate/) & [Watch](../watch/) functionalities that allow a module author to run logic while Kubernetes is [Finalizing](https://kubernetes.io/docs/concepts/overview/working-with-objects/finalizers/) a resource (i.e. cleaning up related resources _after_ a deletion request has been accepted). `Finalize()` can only be accessed after a `Watch()` or `Reconcile()`.\n\nThis method will:\n\n1. Inject a finalizer into the `metadata.finalizers` field of the requested resource during the mutation phase of the admission.\n\n1. Watch appropriate resource lifecycle events & invoke the given callback.\n\n1. Remove the injected finalizer from the `metadata.finalizers` field of the requested resource.\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreated()\n  .InNamespace(\"hello-pepr-finalize-create\")\n  .WithName(\"cm-reconcile-create\")\n  .Reconcile(function reconcileCreate(cm) {\n    Log.info(cm, \"external api call (create): reconcile/callback\")\n  })\n  .Finalize(function finalizeCreate(cm) {\n    Log.info(cm, \"external api call (create): reconcile/finalize\")\n  });\n```","src/content/docs/v0.54/actions/finalize.md","4c00cfc9d810360a",{"html":1552,"metadata":1553},"\u003Cp>A specialized combination of Pepr’s \u003Ca href=\"../mutate/\">Mutate\u003C/a> &#x26; \u003Ca href=\"../watch/\">Watch\u003C/a> functionalities that allow a module author to run logic while Kubernetes is \u003Ca href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/finalizers/\">Finalizing\u003C/a> a resource (i.e. cleaning up related resources \u003Cem>after\u003C/em> a deletion request has been accepted). \u003Ccode dir=\"auto\">Finalize()\u003C/code> can only be accessed after a \u003Ccode dir=\"auto\">Watch()\u003C/code> or \u003Ccode dir=\"auto\">Reconcile()\u003C/code>.\u003C/p>\n\u003Cp>This method will:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>Inject a finalizer into the \u003Ccode dir=\"auto\">metadata.finalizers\u003C/code> field of the requested resource during the mutation phase of the admission.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Watch appropriate resource lifecycle events &#x26; invoke the given callback.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Remove the injected finalizer from the \u003Ccode dir=\"auto\">metadata.finalizers\u003C/code> field of the requested resource.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr-finalize-create\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">cm-reconcile-create\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">function\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">reconcileCreate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">cm\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cm\u003C/span>\u003Cspan style=\"--0:#889FB2;--1:#4D667B\">,\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">external api call (create): reconcile/callback\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Finalize\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">function\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">finalizeCreate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">cm\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cm\u003C/span>\u003Cspan style=\"--0:#889FB2;--1:#4D667B\">,\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">external api call (create): reconcile/finalize\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .InNamespace(&#x22;hello-pepr-finalize-create&#x22;)  .WithName(&#x22;cm-reconcile-create&#x22;)  .Reconcile(function reconcileCreate(cm) {    Log.info(cm, &#x22;external api call (create): reconcile/callback&#x22;)  })  .Finalize(function finalizeCreate(cm) {    Log.info(cm, &#x22;external api call (create): reconcile/finalize&#x22;)  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1554,"localImagePaths":1555,"remoteImagePaths":1556,"frontmatter":1557,"imagePaths":1558},[],[],[],{"title":335,"description":335,"slug":1542},[],"v0.54/actions/mutate",{"id":1559,"data":1561,"body":1565,"filePath":1566,"digest":1567,"rendered":1568},{"title":511,"description":511,"editUrl":66,"head":1562,"template":68,"sidebar":1563,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1564},{},"Mutating admission webhooks are invoked first and can modify objects sent to the API server to enforce custom defaults. After an object is sent to Pepr's Mutating Admission Webhook, Pepr will [annotate the object](https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/mutate-processor.ts#L64) to indicate the status.\n\nAfter a successful mutation of an object in a module with UUID static-test, and capability name hello-pepr, expect to see this annotation: `static-test.pepr.dev/hello-pepr: succeeded`.\n\n# Helpers\n\n### `SetLabel`\n\n`SetLabel` is used to set a lable on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to add a label when a ConfigMap is created:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Mutate(request => {\n    request\n      // Here we are adding a label to the ConfigMap.\n      .SetLabel(\"pepr\", \"was-here\")\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n### `RemoveLabel`\n\n`RemoveLabel` is used to remove a label on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to remove a label when a ConfigMap is updated:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Mutate(request => {\n    request\n      // Here we are removing a label from the ConfigMap.\n      .RemoveLabel(\"remove-me\")\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n### `SetAnnotation`\n\n`SetAnnotation` is used to set an annotation on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to add an annotation when a ConfigMap is created:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Mutate(request => {\n    request\n      // Here we are adding an annotation to the ConfigMap.\n      .SetAnnotation(\"pepr.dev\", \"annotations-work-too\");\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n### `RemoveAnnotation`\n\n`RemoveAnnotation` is used to remove an annotation on a Kubernetes object as part of a Pepr Mutate action.\n\nFor example, to remove an annotation when a ConfigMap is updated:\n\n```typescript\nWhen(a.ConfigMap)\n  .IsUpdated()\n  .Mutate(request => {\n    request\n      // Here we are removing an annotation from the ConfigMap.\n      .RemoveAnnotation(\"remove-me\");\n\n    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\n  });\n```\n\n## See Also\n\nLooking for some more generic helpers? Check out the [Module Author SDK](../../sdk/) for information on other things that Pepr can help with.","src/content/docs/v0.54/actions/mutate.md","f2838d21f1254b86",{"html":1569,"metadata":1570},"\u003Cp>Mutating admission webhooks are invoked first and can modify objects sent to the API server to enforce custom defaults. After an object is sent to Pepr’s Mutating Admission Webhook, Pepr will \u003Ca href=\"https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/mutate-processor.ts#L64\">annotate the object\u003C/a> to indicate the status.\u003C/p>\n\u003Cp>After a successful mutation of an object in a module with UUID static-test, and capability name hello-pepr, expect to see this annotation: \u003Ccode dir=\"auto\">static-test.pepr.dev/hello-pepr: succeeded\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h1\">\u003Ch1 id=\"helpers\">Helpers\u003C/h1>\u003Ca class=\"sl-anchor-link\" href=\"#helpers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Helpers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"setlabel\">\u003Ccode dir=\"auto\">SetLabel\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#setlabel\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “SetLabel”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">SetLabel\u003C/code> is used to set a lable on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to add a label when a ConfigMap is created:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are adding a label to the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">was-here\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Mutate(request => {    request      // Here we are adding a label to the ConfigMap.      .SetLabel(&#x22;pepr&#x22;, &#x22;was-here&#x22;)    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"removelabel\">\u003Ccode dir=\"auto\">RemoveLabel\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#removelabel\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “RemoveLabel”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">RemoveLabel\u003C/code> is used to remove a label on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to remove a label when a ConfigMap is updated:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are removing a label from the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">RemoveLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">remove-me\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Mutate(request => {    request      // Here we are removing a label from the ConfigMap.      .RemoveLabel(&#x22;remove-me&#x22;)    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"setannotation\">\u003Ccode dir=\"auto\">SetAnnotation\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#setannotation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “SetAnnotation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">SetAnnotation\u003C/code> is used to set an annotation on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to add an annotation when a ConfigMap is created:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are adding an annotation to the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">annotations-work-too\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Mutate(request => {    request      // Here we are adding an annotation to the ConfigMap.      .SetAnnotation(&#x22;pepr.dev&#x22;, &#x22;annotations-work-too&#x22;);    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"removeannotation\">\u003Ccode dir=\"auto\">RemoveAnnotation\u003C/code>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#removeannotation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “RemoveAnnotation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">RemoveAnnotation\u003C/code> is used to remove an annotation on a Kubernetes object as part of a Pepr Mutate action.\u003C/p>\n\u003Cp>For example, to remove an annotation when a ConfigMap is updated:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Here we are removing an annotation from the ConfigMap.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">RemoveAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">remove-me\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsUpdated()  .Mutate(request => {    request      // Here we are removing an annotation from the ConfigMap.      .RemoveAnnotation(&#x22;remove-me&#x22;);    // Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"see-also\">See Also\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#see-also\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “See Also”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Looking for some more generic helpers? Check out the \u003Ca href=\"../../sdk/\">Module Author SDK\u003C/a> for information on other things that Pepr can help with.\u003C/p>",{"headings":1571,"localImagePaths":1578,"remoteImagePaths":1579,"frontmatter":1580,"imagePaths":1581},[1572,1573,1574,1575,1576,1577],{"depth":523,"slug":524,"text":525},{"depth":131,"slug":527,"text":528},{"depth":131,"slug":530,"text":531},{"depth":131,"slug":533,"text":534},{"depth":131,"slug":536,"text":537},{"depth":80,"slug":539,"text":540},[],[],{"title":511,"description":511,"slug":1559},[],"v0.54/actions/reconcile",{"id":1582,"data":1584,"body":1588,"filePath":1589,"digest":1590,"rendered":1591},{"title":353,"description":353,"editUrl":66,"head":1585,"template":68,"sidebar":1586,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1587},{},"Reconcile functions the same as Watch but is tailored for building Kubernetes Controllers and Operators because it processes callback operations in a [Queue](https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/watch-processor.ts#L86), guaranteeing ordered and synchronous processing of events, even when the system may be under heavy load.\n\nOrdering can be configured to operate in one of two ways: as a single queue that maintains ordering of operations across all resources of a kind (default) or with separate processing queues per resource instance.\n\nSee [Configuring Reconcile](../../customization#configuring-reconcile) for more on configuring how Reconcile behaves.\n\n```ts\nWhen(WebApp)\n  .IsCreatedOrUpdated()\n  .Validate(validator) // Validate the shape of the resource\n  .Reconcile(async instance => {\n    try {\n      Store.setItem(instance.metadata.name, JSON.stringify(instance));\n      await reconciler(instance); // Reconcile the resource - Deploy Kubernetes manifests, etc.\n    } catch (error) {\n      Log.info(`Error reconciling instance of WebApp`);\n    }\n  });\n\nexport async function validator(req: PeprValidateRequest\u003CWebApp>) {\n  const ns = req.Raw.metadata?.namespace ?? \"_unknown_\";\n\n  if (req.Raw.spec.replicas > 7) {\n    return req.Deny(\"max replicas is 7 to prevent noisy neighbors\");\n  }\n  if (invalidNamespaces.includes(ns)) {\n    if (req.Raw.metadata?.namespace === \"default\") {\n      return req.Deny(\"default namespace is not allowed\");\n    }\n    return req.Deny(\"invalid namespace\");\n  }\n\n  return req.Approve();\n}\n```","src/content/docs/v0.54/actions/reconcile.md","055b69111e11d66f",{"html":1592,"metadata":1593},"\u003Cp>Reconcile functions the same as Watch but is tailored for building Kubernetes Controllers and Operators because it processes callback operations in a \u003Ca href=\"https://github.com/defenseunicorns/pepr/blob/f01f5eeda16c13ecd0d51b26b8a16ed7e4c1b080/src/lib/watch-processor.ts#L86\">Queue\u003C/a>, guaranteeing ordered and synchronous processing of events, even when the system may be under heavy load.\u003C/p>\n\u003Cp>Ordering can be configured to operate in one of two ways: as a single queue that maintains ordering of operations across all resources of a kind (default) or with separate processing queues per resource instance.\u003C/p>\n\u003Cp>See \u003Ca href=\"../../customization#configuring-reconcile\">Configuring Reconcile\u003C/a> for more on configuring how Reconcile behaves.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(WebApp)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(validator) \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Validate the shape of the resource\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">JSON\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">stringify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance));\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">reconciler\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(instance); \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Reconcile the resource - Deploy Kubernetes manifests, etc.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (error) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Error reconciling instance of WebApp\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">function\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">validator\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">req\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">PeprValidateRequest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">WebApp\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">ns\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">namespace\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> ?? \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">_unknown_\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">spec\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">replicas\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">7\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">max replicas is 7 to prevent noisy neighbors\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (invalidNamespaces\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">includes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(ns)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">===\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default namespace is not allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">invalid namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(WebApp)  .IsCreatedOrUpdated()  .Validate(validator) // Validate the shape of the resource  .Reconcile(async instance => {    try {      Store.setItem(instance.metadata.name, JSON.stringify(instance));      await reconciler(instance); // Reconcile the resource - Deploy Kubernetes manifests, etc.    } catch (error) {      Log.info(&#x60;Error reconciling instance of WebApp&#x60;);    }  });export async function validator(req: PeprValidateRequest\u003CWebApp>) {  const ns = req.Raw.metadata?.namespace ?? &#x22;_unknown_&#x22;;  if (req.Raw.spec.replicas > 7) {    return req.Deny(&#x22;max replicas is 7 to prevent noisy neighbors&#x22;);  }  if (invalidNamespaces.includes(ns)) {    if (req.Raw.metadata?.namespace === &#x22;default&#x22;) {      return req.Deny(&#x22;default namespace is not allowed&#x22;);    }    return req.Deny(&#x22;invalid namespace&#x22;);  }  return req.Approve();}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1594,"localImagePaths":1595,"remoteImagePaths":1596,"frontmatter":1597,"imagePaths":1598},[],[],[],{"title":353,"description":353,"slug":1582},[],"v0.54/actions/validate",{"id":1599,"data":1601,"body":1605,"filePath":1606,"digest":1607,"rendered":1608},{"title":446,"description":446,"editUrl":66,"head":1602,"template":68,"sidebar":1603,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1604},{},"After the Mutation phase comes the Validation phase where the validating admission webhooks are invoked and can reject requests to enforce custom policies.\n\nValidate does not annotate the objects that are allowed into the cluster, but the validation webhook can be audited with `npx pepr monitor`. Read the [monitoring docs](https://docs.pepr.dev/main/best-practices/#monitoring) for more information.\n\n## Basic Validation\n\nValidation actions can either approve or deny requests:\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreated()\n  .Validate(request => {\n    if (request.HasAnnotation(\"evil\")) {\n      return request.Deny(\"No evil CM annotations allowed.\", 400);\n    }\n\n    return request.Approve();\n  });\n```\n\n## Validation with Warnings\n\nPepr supports including warning messages in both approval and denial responses. Warnings provide a way to communicate important information to users without necessarily blocking their requests.\n\n### Approving with Warnings\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreatedOrUpdated()\n  .InNamespace(\"pepr-demo\")\n  .Validate(request => {\n    const warnings = [];\n\n    // Check for deprecated fields\n    if (request.Raw.data && request.Raw.data[\"deprecated-field\"]) {\n      warnings.push(\"Warning: The 'deprecated-field' is being used and will be removed in future versions\");\n    }\n\n    // Check for missing app label\n    if (!request.HasLabel(\"app\")) {\n      warnings.push(\"Warning: Best practice is to include an 'app' label for resource identification\");\n    }\n\n    // Return approval with warnings if any were generated\n    return request.Approve(warnings.length > 0 ? warnings : undefined);\n  });\n```\n\n### Denying with Warnings\n\n```ts\nWhen(a.ConfigMap)\n  .IsCreatedOrUpdated()\n  .InNamespace(\"pepr-demo\")\n  .Validate(request => {\n    // Check for dangerous settings\n    if (request.Raw.data && request.Raw.data[\"dangerous-setting\"] === \"true\") {\n      const warnings = [\n        \"Warning: The 'dangerous-setting' field is set to 'true'\",\n        \"Consider using a safer configuration option\"\n      ];\n      \n      return request.Deny(\n        \"ConfigMap contains dangerous settings that are not allowed\",\n        422,\n        warnings\n      );\n    }\n    \n    return request.Approve();\n  });\n```\n\nWarnings will be included in the Kubernetes API response and can be displayed to users by `kubectl` and other Kubernetes clients, providing helpful feedback while still enforcing policies.","src/content/docs/v0.54/actions/validate.md","e4d51ce82ea80fa4",{"html":1609,"metadata":1610},"\u003Cp>After the Mutation phase comes the Validation phase where the validating admission webhooks are invoked and can reject requests to enforce custom policies.\u003C/p>\n\u003Cp>Validate does not annotate the objects that are allowed into the cluster, but the validation webhook can be audited with \u003Ccode dir=\"auto\">npx pepr monitor\u003C/code>. Read the \u003Ca href=\"https://docs.pepr.dev/main/best-practices/#monitoring\">monitoring docs\u003C/a> for more information.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"basic-validation\">Basic Validation\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#basic-validation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Basic Validation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Validation actions can either approve or deny requests:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HasAnnotation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">evil\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">No evil CM annotations allowed.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">400\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreated()  .Validate(request => {    if (request.HasAnnotation(&#x22;evil&#x22;)) {      return request.Deny(&#x22;No evil CM annotations allowed.&#x22;, 400);    }    return request.Approve();  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"validation-with-warnings\">Validation with Warnings\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#validation-with-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Validation with Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr supports including warning messages in both approval and denial responses. Warnings provide a way to communicate important information to users without necessarily blocking their requests.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"approving-with-warnings\">Approving with Warnings\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#approving-with-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Approving with Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> =\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Check for deprecated fields\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">&#x26;&#x26;\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">deprecated-field\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">push\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Warning: The 'deprecated-field' is being used and will be removed in future versions\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Check for missing app label\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HasLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">push\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Warning: Best practice is to include an 'app' label for resource identification\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Return approval with warnings if any were generated\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">length\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">0\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> warnings \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">undefined\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreatedOrUpdated()  .InNamespace(&#x22;pepr-demo&#x22;)  .Validate(request => {    const warnings = [];    // Check for deprecated fields    if (request.Raw.data &#x26;&#x26; request.Raw.data[&#x22;deprecated-field&#x22;]) {      warnings.push(&#x22;Warning: The &#x27;deprecated-field&#x27; is being used and will be removed in future versions&#x22;);    }    // Check for missing app label    if (!request.HasLabel(&#x22;app&#x22;)) {      warnings.push(&#x22;Warning: Best practice is to include an &#x27;app&#x27; label for resource identification&#x22;);    }    // Return approval with warnings if any were generated    return request.Approve(warnings.length > 0 ? warnings : undefined);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"denying-with-warnings\">Denying with Warnings\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#denying-with-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Denying with Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">request\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Check for dangerous settings\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">&#x26;&#x26;\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">dangerous-setting\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">===\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">warnings\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> =\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Warning: The 'dangerous-setting' field is set to 'true'\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Consider using a safer configuration option\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ConfigMap contains dangerous settings that are not allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">422\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">warnings\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> request\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.ConfigMap)  .IsCreatedOrUpdated()  .InNamespace(&#x22;pepr-demo&#x22;)  .Validate(request => {    // Check for dangerous settings    if (request.Raw.data &#x26;&#x26; request.Raw.data[&#x22;dangerous-setting&#x22;] === &#x22;true&#x22;) {      const warnings = [        &#x22;Warning: The &#x27;dangerous-setting&#x27; field is set to &#x27;true&#x27;&#x22;,        &#x22;Consider using a safer configuration option&#x22;      ];      return request.Deny(        &#x22;ConfigMap contains dangerous settings that are not allowed&#x22;,        422,        warnings      );    }    return request.Approve();  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Warnings will be included in the Kubernetes API response and can be displayed to users by \u003Ccode dir=\"auto\">kubectl\u003C/code> and other Kubernetes clients, providing helpful feedback while still enforcing policies.\u003C/p>",{"headings":1611,"localImagePaths":1616,"remoteImagePaths":1617,"frontmatter":1618,"imagePaths":1619},[1612,1613,1614,1615],{"depth":80,"slug":458,"text":459},{"depth":80,"slug":461,"text":462},{"depth":131,"slug":464,"text":465},{"depth":131,"slug":467,"text":468},[],[],{"title":446,"description":446,"slug":1599},[],"v0.54/actions/using-alias-child-logger",{"id":1620,"data":1622,"body":1626,"filePath":1627,"digest":1628,"rendered":1629},{"title":548,"description":548,"editUrl":66,"head":1623,"template":68,"sidebar":1624,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1625},{},"You can use the Alias function to include a user-defined alias in the logs for Mutate, Validate, and Watch actions. This can make for easier debugging since your user-defined alias will be included in the action's logs. This is especially useful when you have multiple actions of the same type in a single module.\n\nThe below example uses Mutate, Validate, and Watch actions with the Alias function:\n\n```ts\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"mutate\")\n  .Mutate((po, logger) => {\n    logger.info(`alias: mutate ${po.Raw.metadata.name}`);\n  });\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"validate\")\n  .Validate((po, logger) => {\n    logger.info(`alias: validate ${po.Raw.metadata.name}`);\n    return po.Approve();\n  });\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"watch\")\n  .Watch((po, _, logger) => {\n    logger.info(`alias: watch ${po.metadata.name}`);\n  });\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Alias(\"reconcile\")\n  .Reconcile((po, _, logger) => {\n    logger.info(`alias: reconcile ${po.metadata.name}`);\n  });\n```\n\nThis will result in log entries when creating a Pod with the that include the alias:\n\n**Logs for Mutate When Pod `red` is Created:**\n\n```bash\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"gvk\":{\"group\":\"\",\"version\":\"v1\",\"kind\":\"Pod\"},\"operation\":\"CREATE\",\"admissionKind\":\"Mutate\",\"msg\":\"Incoming request\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"msg\":\"Processing request\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"msg\":\"Executing mutation action with alias: mutate\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"alias\":\"mutate\",\"msg\":\"alias: mutate red\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"hello-pepr\",\"msg\":\"Mutation action succeeded (mutateCallback)\"}\n{\"level\":30,\"time\":1726632368808,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"res\":{\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"allowed\":true,\"patchType\":\"JSONPatch\",\"patch\":\"W3sib3AiOiJhZGQiLCJwYXRoIjoiL21ldGFkYXRhL2Fubm90YXRpb25zL3N0YXRpYy10ZXN0LnBlcHIuZGV2fjFoZWxsby1wZXByIiwidmFsdWUiOiJzdWNjZWVkZWQifV0=\"},\"msg\":\"Check response\"}\n{\"level\":30,\"time\":1726632368809,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-6hbnt\",\"uid\":\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\",\"method\":\"POST\",\"url\":\"/mutate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s\",\"status\":200,\"duration\":\"1 ms\"}\n```\n\n**Logs for Validate When Pod `red` is Created:**\n\n```bash\n{\"level\":30,\"time\":1726631437605,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"gvk\":{\"group\":\"\",\"version\":\"v1\",\"kind\":\"Pod\"},\"operation\":\"CREATE\",\"admissionKind\":\"Validate\",\"msg\":\"Incoming request\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"msg\":\"Processing validation request\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"hello-pepr\",\"msg\":\"Processing validation action (validateCallback)\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"msg\":\"Executing validate action with alias: validate\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"alias\":\"validate\",\"msg\":\"alias: validate red\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"hello-pepr\",\"msg\":\"Validation action complete (validateCallback): allowed\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"namespace\":\"pepr-demo\",\"name\":\"/red\",\"res\":{\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"allowed\":true},\"msg\":\"Check response\"}\n{\"level\":30,\"time\":1726631437606,\"pid\":16,\"hostname\":\"pepr-static-test-6786948977-j7f9h\",\"uid\":\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\",\"method\":\"POST\",\"url\":\"/validate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s\",\"status\":200,\"duration\":\"5 ms\"}\n```\n\n**Logs for Watch and Reconcile When Pod `red` is Created:**\n\n```bash\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798504518,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798504521,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798504528,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798510464,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing watch action with alias: watch\"}\n{\"level\":30,\"time\":1726798510464,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"watch\",\"msg\":\"alias: watch red\"}\n{\"level\":30,\"time\":1726798510466,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"msg\":\"Executing reconcile action with alias: reconcile\"}\n{\"level\":30,\"time\":1726798510466,\"pid\":16,\"hostname\":\"pepr-static-test-watcher-6dc69654c9-5ql6b\",\"alias\":\"reconcile\",\"msg\":\"alias: reconcile red\"}\n```\n\n**Note:** The Alias function is optional and can be used to provide additional context in the logs. You must pass the logger object as shown above to the action to use the Alias function.\n\n## See Also\n\nLooking for some more generic helpers? Check out the [Module Author SDK](../../sdk/) for information on other things that Pepr can help with.","src/content/docs/v0.54/actions/using-alias-child-logger.md","50ad6e1ad093ac7b",{"html":1630,"metadata":1631},"\u003Cp>You can use the Alias function to include a user-defined alias in the logs for Mutate, Validate, and Watch actions. This can make for easier debugging since your user-defined alias will be included in the action’s logs. This is especially useful when you have multiple actions of the same type in a single module.\u003C/p>\n\u003Cp>The below example uses Mutate, Validate, and Watch actions with the Alias function:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">mutate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: mutate \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">validate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: validate \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">watch\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">_\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: watch \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Alias\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reconcile\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">_\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">logger\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">logger\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias: reconcile \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">name\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;mutate&#x22;)  .Mutate((po, logger) => {    logger.info(&#x60;alias: mutate ${po.Raw.metadata.name}&#x60;);  });When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;validate&#x22;)  .Validate((po, logger) => {    logger.info(&#x60;alias: validate ${po.Raw.metadata.name}&#x60;);    return po.Approve();  });When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;watch&#x22;)  .Watch((po, _, logger) => {    logger.info(&#x60;alias: watch ${po.metadata.name}&#x60;);  });When(a.Pod)  .IsCreatedOrUpdated()  .Alias(&#x22;reconcile&#x22;)  .Reconcile((po, _, logger) => {    logger.info(&#x60;alias: reconcile ${po.metadata.name}&#x60;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>This will result in log entries when creating a Pod with the that include the alias:\u003C/p>\n\u003Cp>\u003Cstrong>Logs for Mutate When Pod \u003Ccode dir=\"auto\">red\u003C/code> is Created:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-6786948977-6hbnt\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"uid\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"b2221631-e87c-41a2-94c8-cdaef15e7b5f\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"namespace\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-demo\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"name\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"/red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"gvk\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">group\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">version\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">v1\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Pod\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"},\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">operation\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">CREATE\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">admissionKind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Incoming\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Executing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">action\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">with\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">alias:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mutate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Mutation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">action\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">succeeded\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (mutateCallback)\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726632368808,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">res\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:true,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">patchType\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">JSONPatch\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">patch\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">W3sib3AiOiJhZGQiLCJwYXRoIjoiL21ldGFkYXRhL2Fubm90YXRpb25zL3N0YXRpYy10ZXN0LnBlcHIuZGV2fjFoZWxsby1wZXByIiwidmFsdWUiOiJzdWNjZWVkZWQifV0\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">},\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Check\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">response\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">{\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":30,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":1726632368809,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":16,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr-static-test-6786948977-6hbnt\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">b2221631-e87c-41a2-94c8-cdaef15e7b5f\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">method\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">POST\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">url\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">/mutate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">=10s\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\",\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">status\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":200,\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">duration\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ms\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;gvk&#x22;:{&#x22;group&#x22;:&#x22;&#x22;,&#x22;version&#x22;:&#x22;v1&#x22;,&#x22;kind&#x22;:&#x22;Pod&#x22;},&#x22;operation&#x22;:&#x22;CREATE&#x22;,&#x22;admissionKind&#x22;:&#x22;Mutate&#x22;,&#x22;msg&#x22;:&#x22;Incoming request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;msg&#x22;:&#x22;Processing request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;msg&#x22;:&#x22;Executing mutation action with alias: mutate&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;alias&#x22;:&#x22;mutate&#x22;,&#x22;msg&#x22;:&#x22;alias: mutate red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;hello-pepr&#x22;,&#x22;msg&#x22;:&#x22;Mutation action succeeded (mutateCallback)&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368808,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;res&#x22;:{&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;allowed&#x22;:true,&#x22;patchType&#x22;:&#x22;JSONPatch&#x22;,&#x22;patch&#x22;:&#x22;W3sib3AiOiJhZGQiLCJwYXRoIjoiL21ldGFkYXRhL2Fubm90YXRpb25zL3N0YXRpYy10ZXN0LnBlcHIuZGV2fjFoZWxsby1wZXByIiwidmFsdWUiOiJzdWNjZWVkZWQifV0=&#x22;},&#x22;msg&#x22;:&#x22;Check response&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726632368809,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-6hbnt&#x22;,&#x22;uid&#x22;:&#x22;b2221631-e87c-41a2-94c8-cdaef15e7b5f&#x22;,&#x22;method&#x22;:&#x22;POST&#x22;,&#x22;url&#x22;:&#x22;/mutate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;1 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Logs for Validate When Pod \u003Ccode dir=\"auto\">red\u003C/code> is Created:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726631437605,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-6786948977-j7f9h\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"uid\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"731eff93-d457-4ffc-a98c-0bcbe4c1727a\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"namespace\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-demo\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"name\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"/red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"gvk\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">group\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">version\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">v1\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Pod\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"},\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">operation\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">CREATE\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">admissionKind\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\",\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\":\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Incoming\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">validation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">request\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Processing\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">validation\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">action\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (validateCallback)\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Executing validate action with alias: validate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">alias\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">validate\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">alias: validate red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Validation action complete (\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">validateCallback\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">): allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">/red\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">res\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">allowed\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:true},\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">msg\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Check response\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">level\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:30,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">time\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:1726631437606,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:16,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">hostname\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pepr-static-test-6786948977-j7f9h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">731eff93-d457-4ffc-a98c-0bcbe4c1727a\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">method\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">POST\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">url\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">/validate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">?\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">timeout\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">10s\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">status\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:200,\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">duration\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">ms\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437605,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;gvk&#x22;:{&#x22;group&#x22;:&#x22;&#x22;,&#x22;version&#x22;:&#x22;v1&#x22;,&#x22;kind&#x22;:&#x22;Pod&#x22;},&#x22;operation&#x22;:&#x22;CREATE&#x22;,&#x22;admissionKind&#x22;:&#x22;Validate&#x22;,&#x22;msg&#x22;:&#x22;Incoming request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;msg&#x22;:&#x22;Processing validation request&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;hello-pepr&#x22;,&#x22;msg&#x22;:&#x22;Processing validation action (validateCallback)&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;msg&#x22;:&#x22;Executing validate action with alias: validate&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;alias&#x22;:&#x22;validate&#x22;,&#x22;msg&#x22;:&#x22;alias: validate red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;hello-pepr&#x22;,&#x22;msg&#x22;:&#x22;Validation action complete (validateCallback): allowed&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;namespace&#x22;:&#x22;pepr-demo&#x22;,&#x22;name&#x22;:&#x22;/red&#x22;,&#x22;res&#x22;:{&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;allowed&#x22;:true},&#x22;msg&#x22;:&#x22;Check response&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726631437606,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-6786948977-j7f9h&#x22;,&#x22;uid&#x22;:&#x22;731eff93-d457-4ffc-a98c-0bcbe4c1727a&#x22;,&#x22;method&#x22;:&#x22;POST&#x22;,&#x22;url&#x22;:&#x22;/validate/c1a7fb6e3f2ab9dc08909d2de4166987520f317d53b759ab882dfd0b1c198479?timeout=10s&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;5 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Logs for Watch and Reconcile When Pod \u003Ccode dir=\"auto\">red\u003C/code> is Created:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504518,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504521,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798504528,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510464,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing watch action with alias: watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510464,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"watch\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: watch red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510466,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"Executing reconcile action with alias: reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:30,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:1726798510466,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">:16,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pepr-static-test-watcher-6dc69654c9-5ql6b\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reconcile\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">,\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"alias: reconcile red\"\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504518,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504521,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798504528,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510464,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing watch action with alias: watch&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510464,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;watch&#x22;,&#x22;msg&#x22;:&#x22;alias: watch red&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510466,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;msg&#x22;:&#x22;Executing reconcile action with alias: reconcile&#x22;}{&#x22;level&#x22;:30,&#x22;time&#x22;:1726798510466,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-6dc69654c9-5ql6b&#x22;,&#x22;alias&#x22;:&#x22;reconcile&#x22;,&#x22;msg&#x22;:&#x22;alias: reconcile red&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Note:\u003C/strong> The Alias function is optional and can be used to provide additional context in the logs. You must pass the logger object as shown above to the action to use the Alias function.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"see-also\">See Also\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#see-also\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “See Also”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Looking for some more generic helpers? Check out the \u003Ca href=\"../../sdk/\">Module Author SDK\u003C/a> for information on other things that Pepr can help with.\u003C/p>",{"headings":1632,"localImagePaths":1634,"remoteImagePaths":1635,"frontmatter":1636,"imagePaths":1637},[1633],{"depth":80,"slug":539,"text":540},[],[],{"title":548,"description":548,"slug":1620},[],"v0.54/actions/watch",{"id":1638,"data":1640,"body":1644,"filePath":1645,"digest":1646,"rendered":1647},{"title":371,"description":371,"editUrl":66,"head":1641,"template":68,"sidebar":1642,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1643},{},"[Kubernetes](https://kubernetes.io/docs/reference/using-api/api-concepts) supports efficient change notifications on resources via watches. Pepr uses the Watch action for monitoring resources that previously existed in the cluster and for performing long-running asynchronous events upon receiving change notifications on resources, as watches are not limited by [timeouts](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts).\n\n```ts\nWhen(a.Namespace)\n  .IsCreated()\n  .WithName(\"pepr-demo-2\")\n  .Watch(async ns => {\n    Log.info(\"Namespace pepr-demo-2 was created.\");\n\n    try {\n      // Apply the ConfigMap using K8s server-side apply\n      await K8s(kind.ConfigMap).Apply({\n        metadata: {\n          name: \"pepr-ssa-demo\",\n          namespace: \"pepr-demo-2\",\n        },\n        data: {\n          \"ns-uid\": ns.metadata.uid,\n        },\n      });\n    } catch (error) {\n      // You can use the Log object to log messages to the Pepr controller pod\n      Log.error(error, \"Failed to apply ConfigMap using server-side apply.\");\n    }\n\n    // You can share data between actions using the Store, including between different types of actions\n    Store.setItem(\"watch-data\", \"This data was stored by a Watch Action.\");\n  });\n```","src/content/docs/v0.54/actions/watch.md","4a6edf0030ad96fc",{"html":1648,"metadata":1649},"\u003Cp>\u003Ca href=\"https://kubernetes.io/docs/reference/using-api/api-concepts\">Kubernetes\u003C/a> supports efficient change notifications on resources via watches. Pepr uses the Watch action for monitoring resources that previously existed in the cluster and for performing long-running asynchronous events upon receiving change notifications on resources, as watches are not limited by \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">timeouts\u003C/a>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"ts\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">ns\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Namespace pepr-demo-2 was created.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">try\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Apply the ConfigMap using K8s server-side apply\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">await\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">K8s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kind\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">ConfigMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">({\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">namespace: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">data: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ns-uid\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: ns\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">uid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">catch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (error) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// You can use the Log object to log messages to the Pepr controller pod\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(error, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Failed to apply ConfigMap using server-side apply.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// You can share data between actions using the Store, including between different types of actions\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Store\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">setItem\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">watch-data\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">This data was stored by a Watch Action.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Namespace)  .IsCreated()  .WithName(&#x22;pepr-demo-2&#x22;)  .Watch(async ns => {    Log.info(&#x22;Namespace pepr-demo-2 was created.&#x22;);    try {      // Apply the ConfigMap using K8s server-side apply      await K8s(kind.ConfigMap).Apply({        metadata: {          name: &#x22;pepr-ssa-demo&#x22;,          namespace: &#x22;pepr-demo-2&#x22;,        },        data: {          &#x22;ns-uid&#x22;: ns.metadata.uid,        },      });    } catch (error) {      // You can use the Log object to log messages to the Pepr controller pod      Log.error(error, &#x22;Failed to apply ConfigMap using server-side apply.&#x22;);    }    // You can share data between actions using the Store, including between different types of actions    Store.setItem(&#x22;watch-data&#x22;, &#x22;This data was stored by a Watch Action.&#x22;);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":1650,"localImagePaths":1651,"remoteImagePaths":1652,"frontmatter":1653,"imagePaths":1654},[],[],[],{"title":371,"description":371,"slug":1638},[],"v0.54/community/pepr-media",{"id":1655,"data":1657,"body":148,"filePath":1661,"digest":1662,"rendered":1663},{"title":144,"description":144,"editUrl":66,"head":1658,"template":68,"sidebar":1659,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1660},{},"src/content/docs/v0.54/community/pepr-media.md","b919f2410ba2d044",{"html":152,"metadata":1664},{"headings":1665,"localImagePaths":1674,"remoteImagePaths":1675,"frontmatter":1676,"imagePaths":1677},[1666,1667,1668,1669,1670,1671,1672,1673],{"depth":80,"slug":156,"text":156},{"depth":131,"slug":158,"text":159},{"depth":80,"slug":161,"text":161},{"depth":131,"slug":163,"text":164},{"depth":131,"slug":166,"text":167},{"depth":131,"slug":169,"text":170},{"depth":80,"slug":172,"text":172},{"depth":131,"slug":174,"text":164},[],[],{"title":144,"description":144,"slug":1655},[],"v0.54/community",{"id":1678,"data":1680,"body":1684,"filePath":1685,"digest":1686,"rendered":1687},{"title":32,"description":32,"editUrl":66,"head":1681,"template":68,"sidebar":1682,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1683},{},"## Introduction\n\nPepr is a community-driven project. We welcome contributions of all kinds, from bug reports to feature requests to code changes. We also welcome contributions of documentation, tutorials, and examples.\n\n## Contributing\n\nYou can find all the details on contributing to Pepr at:\n\n* [Contributing to Pepr](../contribute)\n\n### Reporting Bugs\n\nInformation on reporting bugs can be found at:\n\n* [Reporting Bugs](../support/)\n\n### Reporting Security Issues\n\nInformation on reporting security issues can be found at:\n\n* [Reporting Security Issues](../security/)","src/content/docs/v0.54/community/index.md","4541d5ed71e30922",{"html":1688,"metadata":1689},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr is a community-driven project. We welcome contributions of all kinds, from bug reports to feature requests to code changes. We also welcome contributions of documentation, tutorials, and examples.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contributing\">Contributing\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contributing\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contributing”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can find all the details on contributing to Pepr at:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"../contribute\">Contributing to Pepr\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"reporting-bugs\">Reporting Bugs\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-bugs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting Bugs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Information on reporting bugs can be found at:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"../support/\">Reporting Bugs\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"reporting-security-issues\">Reporting Security Issues\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-security-issues\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting Security Issues”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Information on reporting security issues can be found at:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"../security/\">Reporting Security Issues\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1690,"localImagePaths":1695,"remoteImagePaths":1696,"frontmatter":1697,"imagePaths":1698},[1691,1692,1693,1694],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":128,"text":129},{"depth":131,"slug":132,"text":133},{"depth":131,"slug":135,"text":136},[],[],{"title":32,"description":32,"slug":1678},[],"v0.54/community/security",{"id":1699,"data":1701,"body":1705,"filePath":1706,"digest":1707,"rendered":1708},{"title":182,"description":182,"editUrl":66,"head":1702,"template":68,"sidebar":1703,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1704},{},"## Reporting a Vulnerability\n\nIf you discover a security vulnerability in Pepr, please report it to us by sending an email to [pepr@defenseunicorns.com](mailto:pepr@defenseunicorns.com?subject=vulnerability) or directly through the [GitHub UI](https://github.com/defenseunicorns/pepr/security/advisories/new).\n\nPlease include the following details in your report:\n\n- A clear description of the vulnerability\n- Steps to reproduce the vulnerability\n- Any additional information that may be helpful in understanding and fixing the issue\n\nWe appreciate your help in making Pepr more secure and will acknowledge your contribution in the remediation PR.\n\n## Contact\n\nIf you have any questions or concerns regarding the security of Pepr, please contact us at &lt;pepr@defenseunicorns.com&gt;.","src/content/docs/v0.54/community/security.md","fb1081e98031d9f1",{"html":1709,"metadata":1710},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reporting-a-vulnerability\">Reporting a Vulnerability\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reporting-a-vulnerability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reporting a Vulnerability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you discover a security vulnerability in Pepr, please report it to us by sending an email to \u003Ca href=\"mailto:pepr@defenseunicorns.com?subject=vulnerability\">pepr@defenseunicorns.com\u003C/a> or directly through the \u003Ca href=\"https://github.com/defenseunicorns/pepr/security/advisories/new\">GitHub UI\u003C/a>.\u003C/p>\n\u003Cp>Please include the following details in your report:\u003C/p>\n\u003Cul>\n\u003Cli>A clear description of the vulnerability\u003C/li>\n\u003Cli>Steps to reproduce the vulnerability\u003C/li>\n\u003Cli>Any additional information that may be helpful in understanding and fixing the issue\u003C/li>\n\u003C/ul>\n\u003Cp>We appreciate your help in making Pepr more secure and will acknowledge your contribution in the remediation PR.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contact\">Contact\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contact\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contact”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you have any questions or concerns regarding the security of Pepr, please contact us at &#x3C;\u003Ca href=\"mailto:pepr@defenseunicorns.com\">pepr@defenseunicorns.com\u003C/a>>.\u003C/p>",{"headings":1711,"localImagePaths":1714,"remoteImagePaths":1715,"frontmatter":1716,"imagePaths":1717},[1712,1713],{"depth":80,"slug":194,"text":195},{"depth":80,"slug":197,"text":198},[],[],{"title":182,"description":182,"slug":1699},[],"v0.54/community/support",{"id":1718,"data":1720,"body":210,"filePath":1724,"digest":1725,"rendered":1726},{"title":206,"description":206,"editUrl":66,"head":1721,"template":68,"sidebar":1722,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1723},{},"src/content/docs/v0.54/community/support.md","f97f258a679d94e3",{"html":214,"metadata":1727},{"headings":1728,"localImagePaths":1731,"remoteImagePaths":1732,"frontmatter":1733,"imagePaths":1734},[1729,1730],{"depth":80,"slug":132,"text":133},{"depth":80,"slug":197,"text":198},[],[],{"title":206,"description":206,"slug":1718},[],"v0.54/contribute/code_of_conduct",{"id":1735,"data":1737,"body":1741,"filePath":1742,"digest":1743,"rendered":1744},{"title":226,"description":226,"editUrl":66,"head":1738,"template":68,"sidebar":1739,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1740},{},"## Our Pledge\n\nWe as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, caste, color, religion, or sexual\nidentity and orientation.\n\nWe pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\n\n## Our Standards\n\nExamples of behavior that contributes to a positive environment for our\ncommunity include:\n\n* Demonstrating empathy and kindness toward other people\n* Being respectful of differing opinions, viewpoints, and experiences\n* Giving and gracefully accepting constructive feedback\n* Accepting responsibility and apologizing to those affected by our mistakes,\n  and learning from the experience\n* Focusing on what is best not just for us as individuals, but for the overall\n  community\n\nExamples of unacceptable behavior include:\n\n* The use of sexualized language or imagery, and sexual attention or advances of\n  any kind\n* Trolling, insulting or derogatory comments, and personal or political attacks\n* Public or private harassment\n* Publishing others' private information, such as a physical or email address,\n  without their explicit permission\n* Other conduct which could reasonably be considered inappropriate in a\n  professional setting\n\n## Enforcement Responsibilities\n\nCommunity leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\n\nCommunity leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\n\n## Scope\n\nThis Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official email address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\n\n## Enforcement\n\nInstances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at\n&lt;pepr-dev-private@googlegroups.com&gt;.\nAll complaints will be reviewed and investigated promptly and fairly.\n\nAll community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\n\n## Enforcement Guidelines\n\nCommunity leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\n\n### 1. Correction\n\n**Community Impact**: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\n\n**Consequence**: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\n\n### 2. Warning\n\n**Community Impact**: A violation through a single incident or series of\nactions.\n\n**Consequence**: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or permanent\nban.\n\n### 3. Temporary Ban\n\n**Community Impact**: A serious violation of community standards, including\nsustained inappropriate behavior.\n\n**Consequence**: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\n\n### 4. Permanent Ban\n\n**Community Impact**: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior, harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\n\n**Consequence**: A permanent ban from any sort of public interaction within the\ncommunity.\n\n## Attribution\n\nThis Code of Conduct is adapted from the [Contributor Covenant][homepage],\nversion 2.1, available at\n[https://www.contributor-covenant.org/version/2/1/code_of_conduct.html][v2.1].\n\nCommunity Impact Guidelines were inspired by\n[Mozilla's code of conduct enforcement ladder][Mozilla CoC].\n\nFor answers to common questions about this code of conduct, see the FAQ at\n[https://www.contributor-covenant.org/faq][FAQ]. Translations are available at\n[https://www.contributor-covenant.org/translations][translations].\n\n[homepage]: https://www.contributor-covenant.org\n[v2.1]: https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\n[Mozilla CoC]: https://github.com/mozilla/diversity\n[FAQ]: https://www.contributor-covenant.org/faq\n[translations]: https://www.contributor-covenant.org/translations","src/content/docs/v0.54/contribute/code_of_conduct.md","dc45368253b6e27d",{"html":1745,"metadata":1746},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"our-pledge\">Our Pledge\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#our-pledge\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Our Pledge”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>We as members, contributors, and leaders pledge to make participation in our\ncommunity a harassment-free experience for everyone, regardless of age, body\nsize, visible or invisible disability, ethnicity, sex characteristics, gender\nidentity and expression, level of experience, education, socio-economic status,\nnationality, personal appearance, race, caste, color, religion, or sexual\nidentity and orientation.\u003C/p>\n\u003Cp>We pledge to act and interact in ways that contribute to an open, welcoming,\ndiverse, inclusive, and healthy community.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"our-standards\">Our Standards\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#our-standards\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Our Standards”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Examples of behavior that contributes to a positive environment for our\ncommunity include:\u003C/p>\n\u003Cul>\n\u003Cli>Demonstrating empathy and kindness toward other people\u003C/li>\n\u003Cli>Being respectful of differing opinions, viewpoints, and experiences\u003C/li>\n\u003Cli>Giving and gracefully accepting constructive feedback\u003C/li>\n\u003Cli>Accepting responsibility and apologizing to those affected by our mistakes,\nand learning from the experience\u003C/li>\n\u003Cli>Focusing on what is best not just for us as individuals, but for the overall\ncommunity\u003C/li>\n\u003C/ul>\n\u003Cp>Examples of unacceptable behavior include:\u003C/p>\n\u003Cul>\n\u003Cli>The use of sexualized language or imagery, and sexual attention or advances of\nany kind\u003C/li>\n\u003Cli>Trolling, insulting or derogatory comments, and personal or political attacks\u003C/li>\n\u003Cli>Public or private harassment\u003C/li>\n\u003Cli>Publishing others’ private information, such as a physical or email address,\nwithout their explicit permission\u003C/li>\n\u003Cli>Other conduct which could reasonably be considered inappropriate in a\nprofessional setting\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"enforcement-responsibilities\">Enforcement Responsibilities\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#enforcement-responsibilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Enforcement Responsibilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Community leaders are responsible for clarifying and enforcing our standards of\nacceptable behavior and will take appropriate and fair corrective action in\nresponse to any behavior that they deem inappropriate, threatening, offensive,\nor harmful.\u003C/p>\n\u003Cp>Community leaders have the right and responsibility to remove, edit, or reject\ncomments, commits, code, wiki edits, issues, and other contributions that are\nnot aligned to this Code of Conduct, and will communicate reasons for moderation\ndecisions when appropriate.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"scope\">Scope\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#scope\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Scope”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This Code of Conduct applies within all community spaces, and also applies when\nan individual is officially representing the community in public spaces.\nExamples of representing our community include using an official email address,\nposting via an official social media account, or acting as an appointed\nrepresentative at an online or offline event.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"enforcement\">Enforcement\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#enforcement\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Enforcement”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Instances of abusive, harassing, or otherwise unacceptable behavior may be\nreported to the community leaders responsible for enforcement at\n&#x3C;\u003Ca href=\"mailto:pepr-dev-private@googlegroups.com\">pepr-dev-private@googlegroups.com\u003C/a>>.\nAll complaints will be reviewed and investigated promptly and fairly.\u003C/p>\n\u003Cp>All community leaders are obligated to respect the privacy and security of the\nreporter of any incident.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"enforcement-guidelines\">Enforcement Guidelines\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#enforcement-guidelines\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Enforcement Guidelines”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Community leaders will follow these Community Impact Guidelines in determining\nthe consequences for any action they deem in violation of this Code of Conduct:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"1-correction\">1. Correction\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#1-correction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “1. Correction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: Use of inappropriate language or other behavior deemed\nunprofessional or unwelcome in the community.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A private, written warning from community leaders, providing\nclarity around the nature of the violation and an explanation of why the\nbehavior was inappropriate. A public apology may be requested.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"2-warning\">2. Warning\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#2-warning\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “2. Warning”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: A violation through a single incident or series of\nactions.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A warning with consequences for continued behavior. No\ninteraction with the people involved, including unsolicited interaction with\nthose enforcing the Code of Conduct, for a specified period of time. This\nincludes avoiding interactions in community spaces as well as external channels\nlike social media. Violating these terms may lead to a temporary or permanent\nban.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"3-temporary-ban\">3. Temporary Ban\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#3-temporary-ban\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “3. Temporary Ban”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: A serious violation of community standards, including\nsustained inappropriate behavior.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A temporary ban from any sort of interaction or public\ncommunication with the community for a specified period of time. No public or\nprivate interaction with the people involved, including unsolicited interaction\nwith those enforcing the Code of Conduct, is allowed during this period.\nViolating these terms may lead to a permanent ban.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"4-permanent-ban\">4. Permanent Ban\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#4-permanent-ban\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “4. Permanent Ban”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Community Impact\u003C/strong>: Demonstrating a pattern of violation of community\nstandards, including sustained inappropriate behavior, harassment of an\nindividual, or aggression toward or disparagement of classes of individuals.\u003C/p>\n\u003Cp>\u003Cstrong>Consequence\u003C/strong>: A permanent ban from any sort of public interaction within the\ncommunity.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"attribution\">Attribution\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#attribution\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Attribution”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This Code of Conduct is adapted from the \u003Ca href=\"https://www.contributor-covenant.org\">Contributor Covenant\u003C/a>,\nversion 2.1, available at\n\u003Ca href=\"https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\">https://www.contributor-covenant.org/version/2/1/code_of_conduct.html\u003C/a>.\u003C/p>\n\u003Cp>Community Impact Guidelines were inspired by\n\u003Ca href=\"https://github.com/mozilla/diversity\">Mozilla’s code of conduct enforcement ladder\u003C/a>.\u003C/p>\n\u003Cp>For answers to common questions about this code of conduct, see the FAQ at\n\u003Ca href=\"https://www.contributor-covenant.org/faq\">https://www.contributor-covenant.org/faq\u003C/a>. Translations are available at\n\u003Ca href=\"https://www.contributor-covenant.org/translations\">https://www.contributor-covenant.org/translations\u003C/a>.\u003C/p>",{"headings":1747,"localImagePaths":1759,"remoteImagePaths":1760,"frontmatter":1761,"imagePaths":1762},[1748,1749,1750,1751,1752,1753,1754,1755,1756,1757,1758],{"depth":80,"slug":238,"text":239},{"depth":80,"slug":241,"text":242},{"depth":80,"slug":244,"text":245},{"depth":80,"slug":247,"text":248},{"depth":80,"slug":250,"text":251},{"depth":80,"slug":253,"text":254},{"depth":131,"slug":256,"text":257},{"depth":131,"slug":259,"text":260},{"depth":131,"slug":262,"text":263},{"depth":131,"slug":265,"text":266},{"depth":80,"slug":268,"text":269},[],[],{"title":226,"description":226,"slug":1735},[],"v0.54/contribute",{"id":1763,"data":1765,"body":1769,"filePath":1770,"digest":1771,"rendered":1772},{"title":277,"description":277,"editUrl":66,"head":1766,"template":68,"sidebar":1767,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1768},{},"Thank you for your interest in contributing to Pepr! We welcome all contributions and are grateful for your help. This guide outlines how to get started with contributing to this project.\n\n## Table of Contents\n\n- [Contributor Guide](#contributor-guide)\n  - [Table of Contents](#table-of-contents)\n  - [Code of Conduct](#code-of-conduct)\n  - [Getting Started](#getting-started)\n    - [Setup](#setup)\n    - [Kubernetes Fluent Client Contributions](#kubernetes-fluent-client-contributions)\n  - [Submitting a Pull Request](#submitting-a-pull-request)\n    - [PR Requirements](#pr-requirements)\n  - [Coding Guidelines](#coding-guidelines)\n    - [Git Hooks](#git-hooks)\n  - [Running Tests](#running-tests)\n    - [Run Tests Locally](#run-tests-locally)\n    - [Test a Local Development Version](#test-a-local-development-version)\n  - [Contact](#contact)\n\n## Code of Conduct\n\nPlease follow our [Code of Conduct](../code_of_conduct/) to maintain a respectful and collaborative environment.\n\n## Getting Started\n\n- **Repository**: [https://github.com/defenseunicorns/pepr/](https://github.com/defenseunicorns/pepr/)\n- **npm package**: [https://www.npmjs.com/package/pepr](https://www.npmjs.com/package/pepr)\n- **Required Node version**: `>=20.0.0`\n\n### Setup\n\n1. Fork the repository.\n2. Clone your fork locally: `git clone https://github.com/your-username/pepr.git`.\n3. Install dependencies: `npm ci`.\n4. Create a new branch for your feature or fix: `git checkout -b my-feature-branch`.\n\n### Kubernetes Fluent Client Contributions\n\n[Kubernetes Fluent Client](https://github.com/defenseunicorns/kubernetes-fluent-client) is a library used by Pepr that provides a fluent interface for Kubernetes API clients. In Pepr, we use the `kubernetes-fluent-client` package to interact with Kubernetes resources. Due to the nature of this library, it is important to ensure that any changes made to the Kubernetes Fluent Client are thoroughly tested and validated in Pepr before being merged into the codebase. In particular, we need to ensure that the changes do not break any existing functionality or introduce new bugs, especially in the context of the Pepr Watcher.\n\nIf you are making changes to the Kubernetes Fluent Client, please ensure that you run the Soak Test in GitHub Actions to validate your changes.\n\nTo run the Soak Test, you can do the following:\n\n- Go to the [GitHub Actions tab](https://github.com/defenseunicorns/pepr/actions)\n- Select the workflow named \"Soak Test\"\n- Click on the \"Run workflow\" button to get the options to run the workflow\n- Select the Kubernetes Fluent Client branch you want to test (`KFC dev branch`) and click \"Run workflow\"\n\n## Submitting a Pull Request\n\n1. **Create an Issue**: For significant changes, please create an issue first, describing the problem or feature proposal. Trivial fixes do not require an issue.\n2. **Commit Your Changes**: Make your changes and commit them. All commits must be signed.\n3. **Run Tests**: Ensure that your changes pass all tests by running `npm test`.\n4. **Push Your Branch**: Push your branch to your fork on GitHub.\n5. **Create a Pull Request**: Open a pull request against the `main` branch of the Pepr repository. Please make sure that your PR passes all CI checks.\n\n### PR Requirements\n\n- PRs must be against the `main` branch.\n- PRs must pass CI checks.\n- All commits must be signed.\n- PRs should have a related issue, except for trivial fixes.\n\nWe take PR reviews seriously and strive to provide a great contributor experience with timely feedback. To help maintain this, we ask external contributors to limit themselves to no more than two open PRs at a time. Having too many open PRs can slow down the review process and impact the quality of feedback\n\n## Coding Guidelines\n\nPlease follow the coding conventions and style used in the project. Use ESLint and Prettier for linting and formatting:\n\n- Check formatting: `npm run format:check`\n- Fix formatting: `npm run format:fix`\n- If regex is used, provide a link to regex101.com with an explanation of the regex pattern.\n- Do not use emoji in logs or comments, as it can be distracting and is not consistent with the project's style.\n\n### Git Hooks\n\n- This project uses [husky](https://typicode.github.io/husky/) to manage git hooks for pre-commit and pre-push actions.\n- pre-commit will automatically run linters so that you don't need to remember to run `npm run format:*` commands\n- pre-push will warn you if you've changed lots of lines on a branch and encourage you to optionally present the changes as several smaller PRs to facilitate easier PR reviews.\n  - The pre-push hook is an opinionated way of working, and is therefore optional.\n  - You can opt-in to using the pre-push hook by setting `PEPR_HOOK_OPT_IN=1` as an environment variable.\n\n## Running Tests\n\n### Run Tests Locally\n\n- Run all tests: `npm test`\n\n### Test a Local Development Version\n\n1. Run `npm test` and wait for completion.\n2. Change to the test module directory: `cd pepr-test-module`.\n3. You can now run any of the `npx pepr` commands.\n\n### Running Development Version Locally\n\n1. Run `npm run build` to build the package.\n2. For running modified pepr, you have two options:\n    1. Using `npx ts-node ./src/cli.ts init` to run the modified code directly, without installing it locally.\n      You'll need to also run `npx link \u003Cyour_dev_pepr_location>` inside your pepr module, to link to the\n      development version of pepr.\n    2. Install the pre-build package with `npm install pepr-0.0.0-development.tgz`.\n      You'll need to re-run the installation after every build, though.\n3. Run `npx pepr dev` inside your module's directory to run the modified version of pepr.\n\n:::tip\nMake sure to re-run `npm run build` after you modify any of the pepr source files.\n:::\n## Contact\n\nFor any questions or concerns, please open an issue on GitHub or contact the maintainers.","src/content/docs/v0.54/contribute/index.md","018a4e78b16daa64",{"html":1773,"metadata":1774},"\u003Cp>Thank you for your interest in contributing to Pepr! We welcome all contributions and are grateful for your help. This guide outlines how to get started with contributing to this project.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"table-of-contents\">Table of Contents\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#table-of-contents\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Table of Contents”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#contributor-guide\">Contributor Guide\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#table-of-contents\">Table of Contents\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#code-of-conduct\">Code of Conduct\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#getting-started\">Getting Started\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#setup\">Setup\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#kubernetes-fluent-client-contributions\">Kubernetes Fluent Client Contributions\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#submitting-a-pull-request\">Submitting a Pull Request\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#pr-requirements\">PR Requirements\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#coding-guidelines\">Coding Guidelines\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#git-hooks\">Git Hooks\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#running-tests\">Running Tests\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#run-tests-locally\">Run Tests Locally\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#test-a-local-development-version\">Test a Local Development Version\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\u003Ca href=\"#contact\">Contact\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"code-of-conduct\">Code of Conduct\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#code-of-conduct\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Code of Conduct”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please follow our \u003Ca href=\"../code_of_conduct/\">Code of Conduct\u003C/a> to maintain a respectful and collaborative environment.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"getting-started\">Getting Started\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#getting-started\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Getting Started”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Cstrong>Repository\u003C/strong>: \u003Ca href=\"https://github.com/defenseunicorns/pepr/\">https://github.com/defenseunicorns/pepr/\u003C/a>\u003C/li>\n\u003Cli>\u003Cstrong>npm package\u003C/strong>: \u003Ca href=\"https://www.npmjs.com/package/pepr\">https://www.npmjs.com/package/pepr\u003C/a>\u003C/li>\n\u003Cli>\u003Cstrong>Required Node version\u003C/strong>: \u003Ccode dir=\"auto\">>=20.0.0\u003C/code>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"setup\">Setup\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#setup\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Setup”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Fork the repository.\u003C/li>\n\u003Cli>Clone your fork locally: \u003Ccode dir=\"auto\">git clone https://github.com/your-username/pepr.git\u003C/code>.\u003C/li>\n\u003Cli>Install dependencies: \u003Ccode dir=\"auto\">npm ci\u003C/code>.\u003C/li>\n\u003Cli>Create a new branch for your feature or fix: \u003Ccode dir=\"auto\">git checkout -b my-feature-branch\u003C/code>.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"kubernetes-fluent-client-contributions\">Kubernetes Fluent Client Contributions\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#kubernetes-fluent-client-contributions\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Kubernetes Fluent Client Contributions”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes Fluent Client\u003C/a> is a library used by Pepr that provides a fluent interface for Kubernetes API clients. In Pepr, we use the \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> package to interact with Kubernetes resources. Due to the nature of this library, it is important to ensure that any changes made to the Kubernetes Fluent Client are thoroughly tested and validated in Pepr before being merged into the codebase. In particular, we need to ensure that the changes do not break any existing functionality or introduce new bugs, especially in the context of the Pepr Watcher.\u003C/p>\n\u003Cp>If you are making changes to the Kubernetes Fluent Client, please ensure that you run the Soak Test in GitHub Actions to validate your changes.\u003C/p>\n\u003Cp>To run the Soak Test, you can do the following:\u003C/p>\n\u003Cul>\n\u003Cli>Go to the \u003Ca href=\"https://github.com/defenseunicorns/pepr/actions\">GitHub Actions tab\u003C/a>\u003C/li>\n\u003Cli>Select the workflow named “Soak Test”\u003C/li>\n\u003Cli>Click on the “Run workflow” button to get the options to run the workflow\u003C/li>\n\u003Cli>Select the Kubernetes Fluent Client branch you want to test (\u003Ccode dir=\"auto\">KFC dev branch\u003C/code>) and click “Run workflow”\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"submitting-a-pull-request\">Submitting a Pull Request\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#submitting-a-pull-request\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Submitting a Pull Request”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\u003Cstrong>Create an Issue\u003C/strong>: For significant changes, please create an issue first, describing the problem or feature proposal. Trivial fixes do not require an issue.\u003C/li>\n\u003Cli>\u003Cstrong>Commit Your Changes\u003C/strong>: Make your changes and commit them. All commits must be signed.\u003C/li>\n\u003Cli>\u003Cstrong>Run Tests\u003C/strong>: Ensure that your changes pass all tests by running \u003Ccode dir=\"auto\">npm test\u003C/code>.\u003C/li>\n\u003Cli>\u003Cstrong>Push Your Branch\u003C/strong>: Push your branch to your fork on GitHub.\u003C/li>\n\u003Cli>\u003Cstrong>Create a Pull Request\u003C/strong>: Open a pull request against the \u003Ccode dir=\"auto\">main\u003C/code> branch of the Pepr repository. Please make sure that your PR passes all CI checks.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pr-requirements\">PR Requirements\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pr-requirements\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “PR Requirements”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>PRs must be against the \u003Ccode dir=\"auto\">main\u003C/code> branch.\u003C/li>\n\u003Cli>PRs must pass CI checks.\u003C/li>\n\u003Cli>All commits must be signed.\u003C/li>\n\u003Cli>PRs should have a related issue, except for trivial fixes.\u003C/li>\n\u003C/ul>\n\u003Cp>We take PR reviews seriously and strive to provide a great contributor experience with timely feedback. To help maintain this, we ask external contributors to limit themselves to no more than two open PRs at a time. Having too many open PRs can slow down the review process and impact the quality of feedback\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"coding-guidelines\">Coding Guidelines\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#coding-guidelines\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Coding Guidelines”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please follow the coding conventions and style used in the project. Use ESLint and Prettier for linting and formatting:\u003C/p>\n\u003Cul>\n\u003Cli>Check formatting: \u003Ccode dir=\"auto\">npm run format:check\u003C/code>\u003C/li>\n\u003Cli>Fix formatting: \u003Ccode dir=\"auto\">npm run format:fix\u003C/code>\u003C/li>\n\u003Cli>If regex is used, provide a link to regex101.com with an explanation of the regex pattern.\u003C/li>\n\u003Cli>Do not use emoji in logs or comments, as it can be distracting and is not consistent with the project’s style.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"git-hooks\">Git Hooks\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#git-hooks\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Git Hooks”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>This project uses \u003Ca href=\"https://typicode.github.io/husky/\">husky\u003C/a> to manage git hooks for pre-commit and pre-push actions.\u003C/li>\n\u003Cli>pre-commit will automatically run linters so that you don’t need to remember to run \u003Ccode dir=\"auto\">npm run format:*\u003C/code> commands\u003C/li>\n\u003Cli>pre-push will warn you if you’ve changed lots of lines on a branch and encourage you to optionally present the changes as several smaller PRs to facilitate easier PR reviews.\n\u003Cul>\n\u003Cli>The pre-push hook is an opinionated way of working, and is therefore optional.\u003C/li>\n\u003Cli>You can opt-in to using the pre-push hook by setting \u003Ccode dir=\"auto\">PEPR_HOOK_OPT_IN=1\u003C/code> as an environment variable.\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"running-tests\">Running Tests\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#running-tests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Running Tests”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"run-tests-locally\">Run Tests Locally\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#run-tests-locally\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Run Tests Locally”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Run all tests: \u003Ccode dir=\"auto\">npm test\u003C/code>\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"test-a-local-development-version\">Test a Local Development Version\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#test-a-local-development-version\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Test a Local Development Version”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Run \u003Ccode dir=\"auto\">npm test\u003C/code> and wait for completion.\u003C/li>\n\u003Cli>Change to the test module directory: \u003Ccode dir=\"auto\">cd pepr-test-module\u003C/code>.\u003C/li>\n\u003Cli>You can now run any of the \u003Ccode dir=\"auto\">npx pepr\u003C/code> commands.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"running-development-version-locally\">Running Development Version Locally\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#running-development-version-locally\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Running Development Version Locally”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Run \u003Ccode dir=\"auto\">npm run build\u003C/code> to build the package.\u003C/li>\n\u003Cli>For running modified pepr, you have two options:\n\u003Col>\n\u003Cli>Using \u003Ccode dir=\"auto\">npx ts-node ./src/cli.ts init\u003C/code> to run the modified code directly, without installing it locally.\nYou’ll need to also run \u003Ccode dir=\"auto\">npx link &#x3C;your_dev_pepr_location>\u003C/code> inside your pepr module, to link to the\ndevelopment version of pepr.\u003C/li>\n\u003Cli>Install the pre-build package with \u003Ccode dir=\"auto\">npm install pepr-0.0.0-development.tgz\u003C/code>.\nYou’ll need to re-run the installation after every build, though.\u003C/li>\n\u003C/ol>\n\u003C/li>\n\u003Cli>Run \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> inside your module’s directory to run the modified version of pepr.\u003C/li>\n\u003C/ol>\n\u003Caside aria-label=\"Tip\" class=\"starlight-aside starlight-aside--tip\">\u003Cp class=\"starlight-aside__title\" aria-hidden=\"true\">\u003Csvg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"starlight-aside__icon\">\u003Cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.43909 8.85483L1.44039 8.85354L4.96668 5.33815C5.30653 4.99386 5.7685 4.79662 6.2524 4.78972L6.26553 4.78963L12.9014 4.78962L13.8479 3.84308C16.9187 0.772319 20.0546 0.770617 21.4678 0.975145C21.8617 1.02914 22.2271 1.21053 22.5083 1.4917C22.7894 1.77284 22.9708 2.13821 23.0248 2.53199C23.2294 3.94517 23.2278 7.08119 20.1569 10.1521L19.2107 11.0983V17.7338L19.2106 17.7469C19.2037 18.2308 19.0067 18.6933 18.6624 19.0331L15.1456 22.5608C14.9095 22.7966 14.6137 22.964 14.29 23.0449C13.9663 23.1259 13.6267 23.1174 13.3074 23.0204C12.9881 22.9235 12.7011 22.7417 12.4771 22.4944C12.2533 22.2473 12.1006 21.9441 12.0355 21.6171L11.1783 17.3417L6.65869 12.822L4.34847 12.3589L2.38351 11.965C2.05664 11.8998 1.75272 11.747 1.50564 11.5232C1.25835 11.2992 1.07653 11.0122 0.979561 10.6929C0.882595 10.3736 0.874125 10.034 0.955057 9.7103C1.03599 9.38659 1.20328 9.09092 1.43909 8.85483ZM6.8186 10.8724L2.94619 10.096L6.32006 6.73268H10.9583L6.8186 10.8724ZM15.2219 5.21703C17.681 2.75787 20.0783 2.75376 21.1124 2.8876C21.2462 3.92172 21.2421 6.31895 18.783 8.77812L12.0728 15.4883L8.51172 11.9272L15.2219 5.21703ZM13.9042 21.0538L13.1279 17.1811L17.2676 13.0414V17.68L13.9042 21.0538Z\">\u003C/path>\u003Cpath d=\"M9.31827 18.3446C9.45046 17.8529 9.17864 17.3369 8.68945 17.1724C8.56178 17.1294 8.43145 17.1145 8.30512 17.1243C8.10513 17.1398 7.91519 17.2172 7.76181 17.3434C7.62613 17.455 7.51905 17.6048 7.45893 17.7835C6.97634 19.2186 5.77062 19.9878 4.52406 20.4029C4.08525 20.549 3.6605 20.644 3.29471 20.7053C3.35607 20.3395 3.45098 19.9148 3.59711 19.476C4.01221 18.2294 4.78141 17.0237 6.21648 16.5411C6.39528 16.481 6.54504 16.3739 6.65665 16.2382C6.85126 16.0016 6.92988 15.678 6.84417 15.3647C6.83922 15.3466 6.83373 15.3286 6.82767 15.3106C6.74106 15.053 6.55701 14.8557 6.33037 14.7459C6.10949 14.6389 5.84816 14.615 5.59715 14.6994C5.47743 14.7397 5.36103 14.7831 5.24786 14.8294C3.22626 15.6569 2.2347 17.4173 1.75357 18.8621C1.49662 19.6337 1.36993 20.3554 1.30679 20.8818C1.27505 21.1464 1.25893 21.3654 1.25072 21.5213C1.24662 21.5993 1.24448 21.6618 1.24337 21.7066L1.243 21.7226L1.24235 21.7605L1.2422 21.7771L1.24217 21.7827L1.24217 21.7856C1.24217 22.3221 1.67703 22.7579 2.2137 22.7579L2.2155 22.7579L2.22337 22.7578L2.23956 22.7577C2.25293 22.7575 2.27096 22.7572 2.29338 22.7567C2.33821 22.7555 2.40073 22.7534 2.47876 22.7493C2.63466 22.7411 2.85361 22.725 3.11822 22.6932C3.64462 22.6301 4.36636 22.5034 5.13797 22.2464C6.58274 21.7653 8.3431 20.7738 9.17063 18.7522C9.21696 18.639 9.26037 18.5226 9.30064 18.4029C9.30716 18.3835 9.31304 18.364 9.31827 18.3446Z\">\u003C/path>\u003C/svg>Tip\u003C/p>\u003Cdiv class=\"starlight-aside__content\">\u003Cp>Make sure to re-run \u003Ccode dir=\"auto\">npm run build\u003C/code> after you modify any of the pepr source files.\u003C/p>\u003C/div>\u003C/aside>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"contact\">Contact\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#contact\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Contact”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>For any questions or concerns, please open an issue on GitHub or contact the maintainers.\u003C/p>",{"headings":1775,"localImagePaths":1790,"remoteImagePaths":1791,"frontmatter":1792,"imagePaths":1793},[1776,1777,1778,1779,1780,1781,1782,1783,1784,1785,1786,1787,1788,1789],{"depth":80,"slug":289,"text":290},{"depth":80,"slug":292,"text":293},{"depth":80,"slug":295,"text":296},{"depth":131,"slug":298,"text":299},{"depth":131,"slug":301,"text":302},{"depth":80,"slug":304,"text":305},{"depth":131,"slug":307,"text":308},{"depth":80,"slug":310,"text":311},{"depth":131,"slug":313,"text":314},{"depth":80,"slug":316,"text":317},{"depth":131,"slug":319,"text":320},{"depth":131,"slug":322,"text":323},{"depth":131,"slug":325,"text":326},{"depth":80,"slug":197,"text":198},[],[],{"title":277,"description":277,"slug":1763},[],"v0.54/reference/best-practices",{"id":1794,"data":1796,"body":1800,"filePath":1801,"digest":1802,"rendered":1803},{"title":679,"description":679,"editUrl":66,"head":1797,"template":68,"sidebar":1798,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1799},{},"## Table of Contents\n\n- [Pepr Best Practices](#pepr-best-practices)\n  - [High Availability](#high-availability)\n  - [Table of Contents](#table-of-contents)\n  - [Mutating Webhook Errors](#mutating-webhook-errors)\n  - [Core Development](#core-development)\n  - [Debugging](#debugging)\n  - [Deployment](#deployment)\n  - [Keep Modules Small](#keep-modules-small)\n  - [Monitoring](#monitoring)\n  - [Multiple Modules or Multiple Capabilities](#multiple-modules-or-multiple-capabilities)\n  - [OnSchedule](#onschedule)\n  - [Reconcile](#reconcile)\n  - [Security](#security)\n  - [Pepr Store](#pepr-store)\n  - [Watch](#watch)\n\n## High Availability\n\nPepr is designed to be deployed in a high availability (HA) configuration. This means that you can run multiple instances of the Pepr Admission Controller in different availability zones or regions to ensure that your Pepr deployment is resilient to failures. By default, the Admission Controller is deployed with two replicas.\n\nFor modules that have a failurePolicy of `Fail`, it is recommended to opt into `podAntiAffinity` in the helm chart by setting `admission.antiAffinity` to true in the values.yaml of the helm chart generated after running `npx pepr build`. This ensures the pods are scheduled on different nodes, providing better fault tolerance for when nodes are unavailable. Modules running on edge devices or single node environments should keep `admission.antiAffinity` set to false to avoid scheduling issues.\n\n```yaml\nadmission:\n  antiAffinity: true\n```\n\nDue to the nature of having two different instances of the Admission Controller, it is important to ensure that the modules are idempotent and do not store ephemeral data since there is no gaurantee which replica will serve the request. When state must be saved, use the [`PeprStore`](../user-guide/store/).\n\n## Mutating Webhook Errors\n\nWhen developing mutating admission policies, it is essential to include a validation step immediately after applying mutations. This ensures that the changes made by the mutating admission policy were applied correctly and do not introduce unintended inconsistencies or invalid configurations into your Kubernetes cluster.\n\n### Why Validate After Mutating?\n\n1. Detect Misconfigurations Early:\nMutating admission policies modify incoming resource configurations dynamically. Without validation, you risk introducing invalid configurations into your cluster if the mutation logic contains bugs, unintended side effects, or runs too long and causes a [Webhook Timeout](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts).\n1. Maintain Cluster Integrity:\nBy validating the mutated resource, you ensure it adheres to expected formats, standards, and constraints, maintaining the health and stability of your cluster.\n1. Catch Logic Errors in Mutations:\nA mutation may not always produce the intended output due to edge cases, unexpected inputs, or incorrect assumptions in the mutation logic.\n\nValidation helps catch such issues early and becomes _particularly_ important if your Module is [configured](https://docs.pepr.dev/main/user-guide/customization/#admission-and-watcher-subparameters) to use a Webhook [failurePolicy](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#failure-policy) of `ignore`. In that case, admission requests failures _won't prevent further processing and/or acceptance_ of mutate-failed requests and could result in undesirable resources getting into your cluster!\n\n1. Comply with Kubernetes Best Practices:\nKubernetes resources must meet specific structural and functional requirements. Validating ensures compliance, preventing the risk of deployment failures or runtime errors.\n\n### How to implement a Validate-After-Mutate Pattern\n\n1. Apply the desired transformations to the resource in the `Mutate` block.\n2. Validate the mutated resource in the `Validate` block to ensure it adheres to the expected structure.\n3. If the validation fails, reject the resource with a descriptive message explaining the issue.\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(po => po.SetLabel(\"pepr\", \"true\"))\n  .Validate(po => {\n    if (po.Raw.metadata?.labels[\"pepr\"] !== \"true\") {\n      return po.Approve();\n    }\n    return po.Deny(\"Needs pepr label set to true\")\n  });\n```\n\n## Core Development\n\nWhen developing new features in Pepr Core, it is recommended to use `npx pepr deploy --image pepr:dev`, which will deploy Pepr's Kubernetes manifests to the cluster with the development image. This will allow you to test your changes without having to build a new image and push it to a registry.\n\nThe workflow for developing features in Pepr is:\n\n1. Run `npm test` which will create a k3d cluster and build a development image called `pepr:dev`\n2. Deploy development image into the cluster with `npx pepr deploy --image pepr:dev`\n\n## Debugging\n\n- [Debugging During Module Development](https://docs.pepr.dev/main/best-practices/#debugging-during-module-development)\n- [Logging](https://docs.pepr.dev/main/best-practices/#logging)\n- [Internal Error Occurred](https://docs.pepr.dev/main/best-practices/#internal-error-occurred)\n- [Pepr Store](https://docs.pepr.dev/main/best-practices/#pepr-store)\n\nPepr is composed of `Modules`, `Capabilities`, and `Actions`:\n\n- [Actions](https://docs.pepr.dev/main/user-guide/actions/) are the blocks of code containing filters, `Mutate`, `Validate`, `Watch`, `Reconcile`, and `OnSchedule`.\n- [Capabilities](https://docs.pepr.dev/main/user-guide/capabilities/) such as `hello-pepr.ts`.\n- `Modules` are the result of `npx pepr init`. You can have as many Capabilities as you would like in a Module.\n\nPepr is a webhook-based system, meaning it is event-driven.\nWhen a resource is created, updated, or deleted, Pepr is called to perform the actions you have defined in your Capabilities.\nIt's common for multiple webhooks to exist in a cluster, not just Pepr.\nWhen there are multiple webhooks, the order in which they are called is not guaranteed.\nThe only guarantee is that all of the `MutatingWebhooks` will be called before all of the `ValidatingWebhooks`.\nAfter the admission webhooks are called, the `Watch` and `Reconcile` are called.\nThe `Reconcile` and `Watch` create a watch on the resources specified in the `When` block and are watched for changes after admission.\nThe difference between reconcile and watch is that `Reconcile` processes events in a queue to guarantee that the events are processed in order where as watch does not.\n\nConsidering that many webhooks may be modifying the same resource, it is best practice to validate the resource after mutations are made to ensure that the resource is in a valid state if it has been changed since the last mutation.\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(pod => {\n    pod.metadata.labels[\"pepr\"] = \"true\";\n    return pod;\n  })\n  // another mutating webhook could removed labels\n  .Validate(pod => {\n    if (pod.metadata.labels[\"pepr\"] !== \"true\") {\n      return pod.Approve(\"Label 'pepr' must be 'true'\");\n    }\n    return pod.Deny(\"Needs pepr label set to true\")\n  });\n```\n\n_If you think your Webhook is not being called for a given resource, check the `*WebhookConfiguration`._\n\n### Debugging During Module Development\n\nPepr supports breakpoints in the VSCode editor. To use breakpoints, run `npx pepr dev` in the root of a Pepr module using a JavaScript Debug Terminal. This command starts the Pepr development server running at `localhost:3000` with the `*WebhookConfiguration` configured to send `AdmissionRequest` objects to the local address.\n\nThis allows you to set breakpoints in `Mutate()`, `Validate()`, `Reconcile()`, `Watch()` or `OnSchedule()` and step through module code.\n\nNote that you will need a cluster running:\n\n```bash\nk3d cluster create pepr-dev --k3s-arg '--debug@server:0' --wait\n```\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(pod => {\n    // Set a breakpoint here\n    pod.metadata.labels[\"pepr\"] = \"true\";\n    return pod;\n  })\n  .Validate(pod => {\n    // Set a breakpoint here\n    if (pod.metadata.labels[\"pepr\"] !== \"true\") {\n      return [\"Label 'pepr' must be 'true'\"];\n    }\n  });\n```\n\n### Logging\n\nPepr can deploy two types of controllers: Admission and Watch. The controllers deployed are dictated by the [Actions](https://docs.pepr.dev/main/user-guide/actions/) called for by a given set of Capabilities (Pepr only deploys what is necessary). Within those controllers, the default log level is `info` but that can be changed to `debug` by setting the `LOG_LEVEL` environment variable to `debug`.\n\nTo pull logs for all controller pods:\n\n```bash\nkubectl logs -l app -n pepr-system\n```\n\n#### Admission Controller\n\nIf the focus of the debug is on a `Mutate()` or `Validate()`, the relevenat logs will be from pods with label `pepr.dev/controller: admission`.\n\n```bash\nkubectl logs -l pepr.dev/controller=admission -n pepr-system\n```\n\nMore refined admission logs -- which can be optionally filtered by the module UUID -- can be obtained with [`npx pepr monitor`](https://docs.pepr.dev/main/best-practices/#monitoring)\n\n```bash\nnpx pepr monitor \n```\n\n#### Watch Controller\n\nIf the focus of the debug is a `Watch()`, `Reconcile()`, or `OnSchedule()`, look for logs from pods containing label `pepr.dev/controller: watcher`.\n\n```bash\nkubectl logs -l pepr.dev/controller=watcher -n pepr-system\n```\n\n### Internal Error Occurred\n\n```bash\nError from server (InternalError): Internal error occurred: failed calling webhook \"\u003Cpepr_module>pepr.dev\": failed to call webhook: Post ...\n```\n\nWhen an internal error occurs, check the deployed `*WebhookConfiguration` resources' timeout and failurePolicy configurations. If the failurePolicy is set to `Fail`, and a request cannot be processed within the timeout, that request will be rejected. If the failurePolicy is set to `Ignore`, given the same timeout conditions, the request will (perhaps surprisingly) be allowed to continue.\n\nIf you have a validating webhook, the recommended is to set the failurePolicy to `Fail` to ensure that the request is rejected if the webhook fails.\n\n```yaml\n    failurePolicy: Fail\n    matchPolicy: Equivalent\n    timeoutSeconds: 3\n```\n\nThe failurePolicy and timeouts can be set in the Module's `package.json` file, under the `pepr` configuration key.  If changed, the settings will be reflected in the `*WebhookConfiguration` after the next build:\n\n```json\n  \"pepr\": {\n    \"uuid\": \"static-test\",\n    \"onError\": \"ignore\", \n    \"webhookTimeout\": 10,\n  }\n```\n\nRead [more on customization](https://docs.pepr.dev/main/user-guide/customization/).\n\n### Pepr Store Custom Resource\n\nIf you need to read all store keys, or you think the PeprStore is malfunctioning, you can check the PeprStore CR:\n\n```bash\nkubectl get peprstore  -n pepr-system -o yaml\n```\n\nYou should run in `npx pepr dev` mode to debug the issue, see the [Debugging During Module Development](https://docs.pepr.dev/main/best-practices/#debugging-during-module-development) section for more information.\n\n## Deployment\n\nProduction environment deployments should be `declarative` in order to avoid mistakes. The Pepr modules should be generated with `npx pepr build` and moved into the appropriate location.\n\nDevelopment environment deployments can use `npx pepr deploy` to deploy Pepr's Kubernetes manifests into the cluster or `npx pepr dev` to active debug the Pepr module with breakpoints in the code editor.\n\n## Keep Modules Small\n\nModules are minified and built JavaScript files that are stored in a Kubernetes Secret in the cluster. The Secret is mounted in the Pepr Pod and is processed by Pepr Core. Due to the nature of the module being packaged in a Secret, it is recommended to keep the modules as small as possible to avoid hitting the [1MB limit](https://kubernetes.io/docs/concepts/configuration/secret/#restriction-data-size) of secrets.\n\nRecommendations for keeping modules small are:\n\n- Don't repeat yourself\n- Only import the part of the library modules that you need\n\nIt is suggested to lint and format your modules using `npx pepr format`.\n\n## Monitoring\n\nPepr can monitor Mutations and Validations from Admission Controller the through the `npx pepr monitor [module-uuid]` command. This command will display neatly formatted log showing approved and rejected Validations as well as the Mutations.  If `[module-uuid]` is not supplied, then it uses all Pepr admission controller logs as the data source. If you are unsure of what modules are currently deployed, issue `npx pepr uuid` to display the modules and their descriptions.\n\n```plaintext\n✅  MUTATE     pepr-demo/pepr-demo (50c5d836-335e-4aa5-8b56-adecb72d4b17)\n\n✅  VALIDATE   pepr-demo/example-2 (01c1d044-3a33-4160-beb9-01349e5d7fea)\n\n❌  VALIDATE   pepr-demo/example-evil-cm (8ee44ca8-845c-4845-aa05-642a696b51ce)\n[ 'No evil CM annotations allowed.' ]\n```\n\n## Multiple Modules or Multiple Capabilities\n\nEach module has it's own Mutating, Validating webhook configurations, Admission and Watch Controllers and Stores. This allows for each module to be deployed independently of each other. However, creating multiple modules creates overhead on the kube-apiserver, and the cluster.\n\nDue to the overhead costs, it is recommended to deploy multiple capabilities that share the same resources (when possible). This will simplify analysis of which capabilities are responsible for changes on resources.\n\nHowever, there are some cases where multiple modules makes sense. For instance different teams owning separate modules, or one module for Validations and another for Mutations. If you have a use-case where you need to deploy multiple modules it is recommended to separate concerns by operating in different namespaces.\n\n## OnSchedule\n\n`OnSchedule` is supported by a `PeprStore` to safeguard against schedule loss following a pod restart. It is utilized at the top level, distinct from being within a `Validate`, `Mutate`, `Reconcile` or `Watch`. Recommended intervals are 30 seconds or longer, and jobs are advised to be idempotent, meaning that if the code is applied or executed multiple times, the outcome should be the same as if it had been executed only once. A major use-case for `OnSchedule` is day 2 operations.\n\n## Security\n\nTo enhance the security of your Pepr Controller, we recommend following these best practices:\n\n- Regularly update Pepr to the latest stable release.\n- Secure Pepr through RBAC using [scoped mode](https://docs.pepr.dev/main/user-guide/rbac/#scoped) taking into account access to the Kubernetes API server needed in the callbacks.\n- Practice the principle of least privilege when assigning roles and permissions and avoid giving the service account more permissions than necessary.\n- Use NetworkPolicy to restrict traffic from Pepr Controllers to the minimum required.\n- Limit calls from Pepr to the Kubernetes API server to the minimum required.\n- Set webhook failure policies to `Fail` to ensure that the request is rejected if the webhook fails. More Below..\n\nWhen using Pepr as a `Validating` Webhook, it is recommended to set the Webhook's `failurePolicy` to `Fail`. This can be done in your Pepr module in the`values.yaml` file of the helm chart by setting `admission.failurePolicy` to `Fail` or in the `package.json` under `pepr` by setting the `onError` flag to `reject`, then running `npx pepr build` again.\n\nBy following these best practices, you can help protect your Pepr Controller from potential security threats.\n\n## Reconcile\n\nFills a similar niche to `.Watch()` -- and runs in the Watch Controller -- but it employs a Queue to force sequential processing of resource states once they are returned by the Kubernetes API. This allows things like operators to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource. For example, creating and then deleting a resource should be processed in that exact order to avoid state inconsistencies.\n\n```typescript\nWhen(WebApp)\n  .IsCreatedOrUpdated()\n  .Validate(validator)\n  .Reconcile(async instance => {\n     // Do work here\n```\n\n## Pepr Store\n\nThe store is backed by ETCD in a `PeprStore` resource, and updates happen at 5-second intervals when an array of patches is sent to the Kubernetes API Server. The store is intentionally not designed to be `transactional`; instead, it is built to be eventually consistent, meaning that the last operation within the interval will be persisted, potentially overwriting other operations. Changes to the data are made without a guarantee that they will occur simultaneously, so caution is needed in managing errors and ensuring consistency.\n\n## Watch\n\nPepr streamlines the process of receiving timely change notifications on resources by employing the `Watch` mechanism. It is advisable to opt for `Watch` over `Mutate` or `Validate` when dealing with more extended operations, as `Watch` does not face any [timeout limitations](https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts). Additionally, `Watch` proves particularly advantageous for monitoring previously existing resources within a cluster. One compelling scenario for leveraging `Watch` is when there is a need to chain API calls together, allowing `Watch` operations to be sequentially executed following `Mutate` and `Validate` actions.\n\n```typescript\nWhen(a.Pod)\n  .IsCreated()\n  .InNamespace(\"my-app\")\n  .WithName(\"database\")\n  .Mutate(pod => // .... )\n  .Validate(pod => // .... )\n  .Watch(async (pod, phase) => {\n    Log.info(pod, `Pod was ${phase}.`);\n\n    // do consecutive api calls\n```\n\n[TOP](#pepr-best-practices)","src/content/docs/v0.54/reference/best-practices.md","d01c0c611762c429",{"html":1804,"metadata":1805},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"table-of-contents\">Table of Contents\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#table-of-contents\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Table of Contents”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#pepr-best-practices\">Pepr Best Practices\u003C/a>\n\u003Cul>\n\u003Cli>\u003Ca href=\"#high-availability\">High Availability\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#table-of-contents\">Table of Contents\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#mutating-webhook-errors\">Mutating Webhook Errors\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#core-development\">Core Development\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#debugging\">Debugging\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#deployment\">Deployment\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#keep-modules-small\">Keep Modules Small\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#monitoring\">Monitoring\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#multiple-modules-or-multiple-capabilities\">Multiple Modules or Multiple Capabilities\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#onschedule\">OnSchedule\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#reconcile\">Reconcile\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#security\">Security\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#pepr-store\">Pepr Store\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#watch\">Watch\u003C/a>\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"high-availability\">High Availability\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#high-availability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “High Availability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr is designed to be deployed in a high availability (HA) configuration. This means that you can run multiple instances of the Pepr Admission Controller in different availability zones or regions to ensure that your Pepr deployment is resilient to failures. By default, the Admission Controller is deployed with two replicas.\u003C/p>\n\u003Cp>For modules that have a failurePolicy of \u003Ccode dir=\"auto\">Fail\u003C/code>, it is recommended to opt into \u003Ccode dir=\"auto\">podAntiAffinity\u003C/code> in the helm chart by setting \u003Ccode dir=\"auto\">admission.antiAffinity\u003C/code> to true in the values.yaml of the helm chart generated after running \u003Ccode dir=\"auto\">npx pepr build\u003C/code>. This ensures the pods are scheduled on different nodes, providing better fault tolerance for when nodes are unavailable. Modules running on edge devices or single node environments should keep \u003Ccode dir=\"auto\">admission.antiAffinity\u003C/code> set to false to avoid scheduling issues.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">admission\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">antiAffinity\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"admission:  antiAffinity: true\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Due to the nature of having two different instances of the Admission Controller, it is important to ensure that the modules are idempotent and do not store ephemeral data since there is no gaurantee which replica will serve the request. When state must be saved, use the \u003Ca href=\"../user-guide/store/\">\u003Ccode dir=\"auto\">PeprStore\u003C/code>\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"mutating-webhook-errors\">Mutating Webhook Errors\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#mutating-webhook-errors\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Mutating Webhook Errors”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>When developing mutating admission policies, it is essential to include a validation step immediately after applying mutations. This ensures that the changes made by the mutating admission policy were applied correctly and do not introduce unintended inconsistencies or invalid configurations into your Kubernetes cluster.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"why-validate-after-mutating\">Why Validate After Mutating?\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#why-validate-after-mutating\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Why Validate After Mutating?”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Detect Misconfigurations Early:\nMutating admission policies modify incoming resource configurations dynamically. Without validation, you risk introducing invalid configurations into your cluster if the mutation logic contains bugs, unintended side effects, or runs too long and causes a \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">Webhook Timeout\u003C/a>.\u003C/li>\n\u003Cli>Maintain Cluster Integrity:\nBy validating the mutated resource, you ensure it adheres to expected formats, standards, and constraints, maintaining the health and stability of your cluster.\u003C/li>\n\u003Cli>Catch Logic Errors in Mutations:\nA mutation may not always produce the intended output due to edge cases, unexpected inputs, or incorrect assumptions in the mutation logic.\u003C/li>\n\u003C/ol>\n\u003Cp>Validation helps catch such issues early and becomes \u003Cem>particularly\u003C/em> important if your Module is \u003Ca href=\"https://docs.pepr.dev/main/user-guide/customization/#admission-and-watcher-subparameters\">configured\u003C/a> to use a Webhook \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#failure-policy\">failurePolicy\u003C/a> of \u003Ccode dir=\"auto\">ignore\u003C/code>. In that case, admission requests failures \u003Cem>won’t prevent further processing and/or acceptance\u003C/em> of mutate-failed requests and could result in undesirable resources getting into your cluster!\u003C/p>\n\u003Col>\n\u003Cli>Comply with Kubernetes Best Practices:\nKubernetes resources must meet specific structural and functional requirements. Validating ensures compliance, preventing the risk of deployment failures or runtime errors.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"how-to-implement-a-validate-after-mutate-pattern\">How to implement a Validate-After-Mutate Pattern\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#how-to-implement-a-validate-after-mutate-pattern\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How to implement a Validate-After-Mutate Pattern”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>Apply the desired transformations to the resource in the \u003Ccode dir=\"auto\">Mutate\u003C/code> block.\u003C/li>\n\u003Cli>Validate the mutated resource in the \u003Ccode dir=\"auto\">Validate\u003C/code> block to ensure it adheres to the expected structure.\u003C/li>\n\u003Cli>If the validation fails, reject the resource with a descriptive message explaining the issue.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">))\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">Raw\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">?.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Needs pepr label set to true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(po => po.SetLabel(&#x22;pepr&#x22;, &#x22;true&#x22;))  .Validate(po => {    if (po.Raw.metadata?.labels[&#x22;pepr&#x22;] !== &#x22;true&#x22;) {      return po.Approve();    }    return po.Deny(&#x22;Needs pepr label set to true&#x22;)  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"core-development\">Core Development\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#core-development\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Core Development”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>When developing new features in Pepr Core, it is recommended to use \u003Ccode dir=\"auto\">npx pepr deploy --image pepr:dev\u003C/code>, which will deploy Pepr’s Kubernetes manifests to the cluster with the development image. This will allow you to test your changes without having to build a new image and push it to a registry.\u003C/p>\n\u003Cp>The workflow for developing features in Pepr is:\u003C/p>\n\u003Col>\n\u003Cli>Run \u003Ccode dir=\"auto\">npm test\u003C/code> which will create a k3d cluster and build a development image called \u003Ccode dir=\"auto\">pepr:dev\u003C/code>\u003C/li>\n\u003Cli>Deploy development image into the cluster with \u003Ccode dir=\"auto\">npx pepr deploy --image pepr:dev\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"debugging\">Debugging\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#debugging\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Debugging”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev/main/best-practices/#debugging-during-module-development\">Debugging During Module Development\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev/main/best-practices/#logging\">Logging\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev/main/best-practices/#internal-error-occurred\">Internal Error Occurred\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev/main/best-practices/#pepr-store\">Pepr Store\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>Pepr is composed of \u003Ccode dir=\"auto\">Modules\u003C/code>, \u003Ccode dir=\"auto\">Capabilities\u003C/code>, and \u003Ccode dir=\"auto\">Actions\u003C/code>:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev/main/user-guide/actions/\">Actions\u003C/a> are the blocks of code containing filters, \u003Ccode dir=\"auto\">Mutate\u003C/code>, \u003Ccode dir=\"auto\">Validate\u003C/code>, \u003Ccode dir=\"auto\">Watch\u003C/code>, \u003Ccode dir=\"auto\">Reconcile\u003C/code>, and \u003Ccode dir=\"auto\">OnSchedule\u003C/code>.\u003C/li>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev/main/user-guide/capabilities/\">Capabilities\u003C/a> such as \u003Ccode dir=\"auto\">hello-pepr.ts\u003C/code>.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">Modules\u003C/code> are the result of \u003Ccode dir=\"auto\">npx pepr init\u003C/code>. You can have as many Capabilities as you would like in a Module.\u003C/li>\n\u003C/ul>\n\u003Cp>Pepr is a webhook-based system, meaning it is event-driven.\nWhen a resource is created, updated, or deleted, Pepr is called to perform the actions you have defined in your Capabilities.\nIt’s common for multiple webhooks to exist in a cluster, not just Pepr.\nWhen there are multiple webhooks, the order in which they are called is not guaranteed.\nThe only guarantee is that all of the \u003Ccode dir=\"auto\">MutatingWebhooks\u003C/code> will be called before all of the \u003Ccode dir=\"auto\">ValidatingWebhooks\u003C/code>.\nAfter the admission webhooks are called, the \u003Ccode dir=\"auto\">Watch\u003C/code> and \u003Ccode dir=\"auto\">Reconcile\u003C/code> are called.\nThe \u003Ccode dir=\"auto\">Reconcile\u003C/code> and \u003Ccode dir=\"auto\">Watch\u003C/code> create a watch on the resources specified in the \u003Ccode dir=\"auto\">When\u003C/code> block and are watched for changes after admission.\nThe difference between reconcile and watch is that \u003Ccode dir=\"auto\">Reconcile\u003C/code> processes events in a queue to guarantee that the events are processed in order where as watch does not.\u003C/p>\n\u003Cp>Considering that many webhooks may be modifying the same resource, it is best practice to validate the resource after mutations are made to ensure that the resource is in a valid state if it has been changed since the last mutation.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// another mutating webhook could removed labels\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Approve\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Label 'pepr' must be 'true'\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Deny\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Needs pepr label set to true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(pod => {    pod.metadata.labels[&#x22;pepr&#x22;] = &#x22;true&#x22;;    return pod;  })  // another mutating webhook could removed labels  .Validate(pod => {    if (pod.metadata.labels[&#x22;pepr&#x22;] !== &#x22;true&#x22;) {      return pod.Approve(&#x22;Label &#x27;pepr&#x27; must be &#x27;true&#x27;&#x22;);    }    return pod.Deny(&#x22;Needs pepr label set to true&#x22;)  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cem>If you think your Webhook is not being called for a given resource, check the \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code>.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"debugging-during-module-development\">Debugging During Module Development\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#debugging-during-module-development\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Debugging During Module Development”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr supports breakpoints in the VSCode editor. To use breakpoints, run \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> in the root of a Pepr module using a JavaScript Debug Terminal. This command starts the Pepr development server running at \u003Ccode dir=\"auto\">localhost:3000\u003C/code> with the \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code> configured to send \u003Ccode dir=\"auto\">AdmissionRequest\u003C/code> objects to the local address.\u003C/p>\n\u003Cp>This allows you to set breakpoints in \u003Ccode dir=\"auto\">Mutate()\u003C/code>, \u003Ccode dir=\"auto\">Validate()\u003C/code>, \u003Ccode dir=\"auto\">Reconcile()\u003C/code>, \u003Ccode dir=\"auto\">Watch()\u003C/code> or \u003Ccode dir=\"auto\">OnSchedule()\u003C/code> and step through module code.\u003C/p>\n\u003Cp>Note that you will need a cluster running:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--k3s-arg\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--debug@server:0\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--wait\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster create pepr-dev --k3s-arg &#x27;--debug@server:0&#x27; --wait\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set a breakpoint here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> pod;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">})\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Set a breakpoint here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (pod\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">] \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">!==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">return\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Label 'pepr' must be 'true'\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">];\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(pod => {    // Set a breakpoint here    pod.metadata.labels[&#x22;pepr&#x22;] = &#x22;true&#x22;;    return pod;  })  .Validate(pod => {    // Set a breakpoint here    if (pod.metadata.labels[&#x22;pepr&#x22;] !== &#x22;true&#x22;) {      return [&#x22;Label &#x27;pepr&#x27; must be &#x27;true&#x27;&#x22;];    }  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"logging\">Logging\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#logging\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Logging”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr can deploy two types of controllers: Admission and Watch. The controllers deployed are dictated by the \u003Ca href=\"https://docs.pepr.dev/main/user-guide/actions/\">Actions\u003C/a> called for by a given set of Capabilities (Pepr only deploys what is necessary). Within those controllers, the default log level is \u003Ccode dir=\"auto\">info\u003C/code> but that can be changed to \u003Ccode dir=\"auto\">debug\u003C/code> by setting the \u003Ccode dir=\"auto\">LOG_LEVEL\u003C/code> environment variable to \u003Ccode dir=\"auto\">debug\u003C/code>.\u003C/p>\n\u003Cp>To pull logs for all controller pods:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -l app -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"admission-controller\">Admission Controller\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#admission-controller\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Admission Controller”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If the focus of the debug is on a \u003Ccode dir=\"auto\">Mutate()\u003C/code> or \u003Ccode dir=\"auto\">Validate()\u003C/code>, the relevenat logs will be from pods with label \u003Ccode dir=\"auto\">pepr.dev/controller: admission\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.dev/controller=admission\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -l pepr.dev/controller=admission -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>More refined admission logs — which can be optionally filtered by the module UUID — can be obtained with \u003Ca href=\"https://docs.pepr.dev/main/best-practices/#monitoring\">\u003Ccode dir=\"auto\">npx pepr monitor\u003C/code>\u003C/a>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitor\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr monitor\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"watch-controller\">Watch Controller\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#watch-controller\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Watch Controller”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If the focus of the debug is a \u003Ccode dir=\"auto\">Watch()\u003C/code>, \u003Ccode dir=\"auto\">Reconcile()\u003C/code>, or \u003Ccode dir=\"auto\">OnSchedule()\u003C/code>, look for logs from pods containing label \u003Ccode dir=\"auto\">pepr.dev/controller: watcher\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.dev/controller=watcher\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -l pepr.dev/controller=watcher -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"internal-error-occurred\">Internal Error Occurred\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#internal-error-occurred\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Internal Error Occurred”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Error\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">server\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (InternalError): Internal error occurred: failed calling webhook \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">&#x3C;pepr_module>pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: failed to call webhook: Post ...\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Error from server (InternalError): Internal error occurred: failed calling webhook &#x22;\u003Cpepr_module>pepr.dev&#x22;: failed to call webhook: Post ...\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>When an internal error occurs, check the deployed \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code> resources’ timeout and failurePolicy configurations. If the failurePolicy is set to \u003Ccode dir=\"auto\">Fail\u003C/code>, and a request cannot be processed within the timeout, that request will be rejected. If the failurePolicy is set to \u003Ccode dir=\"auto\">Ignore\u003C/code>, given the same timeout conditions, the request will (perhaps surprisingly) be allowed to continue.\u003C/p>\n\u003Cp>If you have a validating webhook, the recommended is to set the failurePolicy to \u003Ccode dir=\"auto\">Fail\u003C/code> to ensure that the request is rejected if the webhook fails.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">failurePolicy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Fail\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchPolicy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Equivalent\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">timeoutSeconds\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"    failurePolicy: Fail    matchPolicy: Equivalent    timeoutSeconds: 3\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The failurePolicy and timeouts can be set in the Module’s \u003Ccode dir=\"auto\">package.json\u003C/code> file, under the \u003Ccode dir=\"auto\">pepr\u003C/code> configuration key.  If changed, the settings will be reflected in the \u003Ccode dir=\"auto\">*WebhookConfiguration\u003C/code> after the next build:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"uuid\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">static-test\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"onError\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">ignore\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"webhookTimeout\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x22;pepr&#x22;: {    &#x22;uuid&#x22;: &#x22;static-test&#x22;,    &#x22;onError&#x22;: &#x22;ignore&#x22;,    &#x22;webhookTimeout&#x22;: 10,  }\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Read \u003Ca href=\"https://docs.pepr.dev/main/user-guide/customization/\">more on customization\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-store-custom-resource\">Pepr Store Custom Resource\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-store-custom-resource\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Store Custom Resource”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you need to read all store keys, or you think the PeprStore is malfunctioning, you can check the PeprStore CR:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">peprstore\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get peprstore  -n pepr-system -o yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You should run in \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> mode to debug the issue, see the \u003Ca href=\"https://docs.pepr.dev/main/best-practices/#debugging-during-module-development\">Debugging During Module Development\u003C/a> section for more information.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"deployment\">Deployment\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#deployment\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Deployment”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Production environment deployments should be \u003Ccode dir=\"auto\">declarative\u003C/code> in order to avoid mistakes. The Pepr modules should be generated with \u003Ccode dir=\"auto\">npx pepr build\u003C/code> and moved into the appropriate location.\u003C/p>\n\u003Cp>Development environment deployments can use \u003Ccode dir=\"auto\">npx pepr deploy\u003C/code> to deploy Pepr’s Kubernetes manifests into the cluster or \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> to active debug the Pepr module with breakpoints in the code editor.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"keep-modules-small\">Keep Modules Small\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#keep-modules-small\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Keep Modules Small”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Modules are minified and built JavaScript files that are stored in a Kubernetes Secret in the cluster. The Secret is mounted in the Pepr Pod and is processed by Pepr Core. Due to the nature of the module being packaged in a Secret, it is recommended to keep the modules as small as possible to avoid hitting the \u003Ca href=\"https://kubernetes.io/docs/concepts/configuration/secret/#restriction-data-size\">1MB limit\u003C/a> of secrets.\u003C/p>\n\u003Cp>Recommendations for keeping modules small are:\u003C/p>\n\u003Cul>\n\u003Cli>Don’t repeat yourself\u003C/li>\n\u003Cli>Only import the part of the library modules that you need\u003C/li>\n\u003C/ul>\n\u003Cp>It is suggested to lint and format your modules using \u003Ccode dir=\"auto\">npx pepr format\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"monitoring\">Monitoring\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#monitoring\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Monitoring”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr can monitor Mutations and Validations from Admission Controller the through the \u003Ccode dir=\"auto\">npx pepr monitor [module-uuid]\u003C/code> command. This command will display neatly formatted log showing approved and rejected Validations as well as the Mutations.  If \u003Ccode dir=\"auto\">[module-uuid]\u003C/code> is not supplied, then it uses all Pepr admission controller logs as the data source. If you are unsure of what modules are currently deployed, issue \u003Ccode dir=\"auto\">npx pepr uuid\u003C/code> to display the modules and their descriptions.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">✅  MUTATE     pepr-demo/pepr-demo (50c5d836-335e-4aa5-8b56-adecb72d4b17)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">✅  VALIDATE   pepr-demo/example-2 (01c1d044-3a33-4160-beb9-01349e5d7fea)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">❌  VALIDATE   pepr-demo/example-evil-cm (8ee44ca8-845c-4845-aa05-642a696b51ce)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">[ 'No evil CM annotations allowed.' ]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"✅  MUTATE     pepr-demo/pepr-demo (50c5d836-335e-4aa5-8b56-adecb72d4b17)✅  VALIDATE   pepr-demo/example-2 (01c1d044-3a33-4160-beb9-01349e5d7fea)❌  VALIDATE   pepr-demo/example-evil-cm (8ee44ca8-845c-4845-aa05-642a696b51ce)[ &#x27;No evil CM annotations allowed.&#x27; ]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"multiple-modules-or-multiple-capabilities\">Multiple Modules or Multiple Capabilities\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#multiple-modules-or-multiple-capabilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Multiple Modules or Multiple Capabilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Each module has it’s own Mutating, Validating webhook configurations, Admission and Watch Controllers and Stores. This allows for each module to be deployed independently of each other. However, creating multiple modules creates overhead on the kube-apiserver, and the cluster.\u003C/p>\n\u003Cp>Due to the overhead costs, it is recommended to deploy multiple capabilities that share the same resources (when possible). This will simplify analysis of which capabilities are responsible for changes on resources.\u003C/p>\n\u003Cp>However, there are some cases where multiple modules makes sense. For instance different teams owning separate modules, or one module for Validations and another for Mutations. If you have a use-case where you need to deploy multiple modules it is recommended to separate concerns by operating in different namespaces.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"onschedule\">OnSchedule\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#onschedule\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “OnSchedule”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">OnSchedule\u003C/code> is supported by a \u003Ccode dir=\"auto\">PeprStore\u003C/code> to safeguard against schedule loss following a pod restart. It is utilized at the top level, distinct from being within a \u003Ccode dir=\"auto\">Validate\u003C/code>, \u003Ccode dir=\"auto\">Mutate\u003C/code>, \u003Ccode dir=\"auto\">Reconcile\u003C/code> or \u003Ccode dir=\"auto\">Watch\u003C/code>. Recommended intervals are 30 seconds or longer, and jobs are advised to be idempotent, meaning that if the code is applied or executed multiple times, the outcome should be the same as if it had been executed only once. A major use-case for \u003Ccode dir=\"auto\">OnSchedule\u003C/code> is day 2 operations.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"security\">Security\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#security\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Security”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To enhance the security of your Pepr Controller, we recommend following these best practices:\u003C/p>\n\u003Cul>\n\u003Cli>Regularly update Pepr to the latest stable release.\u003C/li>\n\u003Cli>Secure Pepr through RBAC using \u003Ca href=\"https://docs.pepr.dev/main/user-guide/rbac/#scoped\">scoped mode\u003C/a> taking into account access to the Kubernetes API server needed in the callbacks.\u003C/li>\n\u003Cli>Practice the principle of least privilege when assigning roles and permissions and avoid giving the service account more permissions than necessary.\u003C/li>\n\u003Cli>Use NetworkPolicy to restrict traffic from Pepr Controllers to the minimum required.\u003C/li>\n\u003Cli>Limit calls from Pepr to the Kubernetes API server to the minimum required.\u003C/li>\n\u003Cli>Set webhook failure policies to \u003Ccode dir=\"auto\">Fail\u003C/code> to ensure that the request is rejected if the webhook fails. More Below..\u003C/li>\n\u003C/ul>\n\u003Cp>When using Pepr as a \u003Ccode dir=\"auto\">Validating\u003C/code> Webhook, it is recommended to set the Webhook’s \u003Ccode dir=\"auto\">failurePolicy\u003C/code> to \u003Ccode dir=\"auto\">Fail\u003C/code>. This can be done in your Pepr module in the\u003Ccode dir=\"auto\">values.yaml\u003C/code> file of the helm chart by setting \u003Ccode dir=\"auto\">admission.failurePolicy\u003C/code> to \u003Ccode dir=\"auto\">Fail\u003C/code> or in the \u003Ccode dir=\"auto\">package.json\u003C/code> under \u003Ccode dir=\"auto\">pepr\u003C/code> by setting the \u003Ccode dir=\"auto\">onError\u003C/code> flag to \u003Ccode dir=\"auto\">reject\u003C/code>, then running \u003Ccode dir=\"auto\">npx pepr build\u003C/code> again.\u003C/p>\n\u003Cp>By following these best practices, you can help protect your Pepr Controller from potential security threats.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reconcile\">Reconcile\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reconcile\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reconcile”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Fills a similar niche to \u003Ccode dir=\"auto\">.Watch()\u003C/code> — and runs in the Watch Controller — but it employs a Queue to force sequential processing of resource states once they are returned by the Kubernetes API. This allows things like operators to handle bursts of events without overwhelming the system or the Kubernetes API. It provides a mechanism to back off when the system is under heavy load, enhancing overall stability and maintaining the state consistency of Kubernetes resources, as the order of operations can impact the final state of a resource. For example, creating and then deleting a resource should be processed in that exact order to avoid state inconsistencies.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(WebApp)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(validator)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Reconcile\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">instance\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">     \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Do work here\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(WebApp)  .IsCreatedOrUpdated()  .Validate(validator)  .Reconcile(async instance => {     // Do work here\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"pepr-store\">Pepr Store\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-store\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Store”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The store is backed by ETCD in a \u003Ccode dir=\"auto\">PeprStore\u003C/code> resource, and updates happen at 5-second intervals when an array of patches is sent to the Kubernetes API Server. The store is intentionally not designed to be \u003Ccode dir=\"auto\">transactional\u003C/code>; instead, it is built to be eventually consistent, meaning that the last operation within the interval will be persisted, potentially overwriting other operations. Changes to the data are made without a guarantee that they will occur simultaneously, so caution is needed in managing errors and ensuring consistency.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"watch\">Watch\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#watch\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Watch”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr streamlines the process of receiving timely change notifications on resources by employing the \u003Ccode dir=\"auto\">Watch\u003C/code> mechanism. It is advisable to opt for \u003Ccode dir=\"auto\">Watch\u003C/code> over \u003Ccode dir=\"auto\">Mutate\u003C/code> or \u003Ccode dir=\"auto\">Validate\u003C/code> when dealing with more extended operations, as \u003Ccode dir=\"auto\">Watch\u003C/code> does not face any \u003Ca href=\"https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts\">timeout limitations\u003C/a>. Additionally, \u003Ccode dir=\"auto\">Watch\u003C/code> proves particularly advantageous for monitoring previously existing resources within a cluster. One compelling scenario for leveraging \u003Ccode dir=\"auto\">Watch\u003C/code> is when there is a need to chain API calls together, allowing \u003Ccode dir=\"auto\">Watch\u003C/code> operations to be sequentially executed following \u003Ccode dir=\"auto\">Mutate\u003C/code> and \u003Ccode dir=\"auto\">Validate\u003C/code> actions.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">InNamespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">my-app\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">WithName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">database\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// .... )\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Validate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// .... )\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Watch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">async\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">(\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D7DBE0\">pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB\">, \u003C/span>\u003Cspan style=\"--0:#D7DBE0\">phase\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">)\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(pod, \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Pod was \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">phase\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">.\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// do consecutive api calls\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"When(a.Pod)  .IsCreated()  .InNamespace(&#x22;my-app&#x22;)  .WithName(&#x22;database&#x22;)  .Mutate(pod => // .... )  .Validate(pod => // .... )  .Watch(async (pod, phase) => {    Log.info(pod, &#x60;Pod was ${phase}.&#x60;);    // do consecutive api calls\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#pepr-best-practices\">TOP\u003C/a>\u003C/p>",{"headings":1806,"localImagePaths":1829,"remoteImagePaths":1830,"frontmatter":1831,"imagePaths":1832},[1807,1808,1809,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828],{"depth":80,"slug":289,"text":290},{"depth":80,"slug":692,"text":693},{"depth":80,"slug":695,"text":696},{"depth":131,"slug":698,"text":699},{"depth":131,"slug":701,"text":702},{"depth":80,"slug":704,"text":705},{"depth":80,"slug":707,"text":708},{"depth":131,"slug":710,"text":711},{"depth":131,"slug":713,"text":714},{"depth":716,"slug":717,"text":718},{"depth":716,"slug":720,"text":721},{"depth":131,"slug":723,"text":724},{"depth":131,"slug":726,"text":727},{"depth":80,"slug":729,"text":730},{"depth":80,"slug":732,"text":733},{"depth":80,"slug":735,"text":736},{"depth":80,"slug":738,"text":739},{"depth":80,"slug":741,"text":742},{"depth":80,"slug":744,"text":745},{"depth":80,"slug":747,"text":353},{"depth":80,"slug":749,"text":750},{"depth":80,"slug":752,"text":371},[],[],{"title":679,"description":679,"slug":1794},[],"v0.54/reference/faq",{"id":1833,"data":1835,"body":1839,"filePath":1840,"digest":1841,"rendered":1842},{"title":586,"description":586,"editUrl":66,"head":1836,"template":68,"sidebar":1837,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1838},{},"## What is the `PEPR_WATCH_MODE` environment variable?\n\nThe `PEPR_WATCH_MODE` environment variable is used to determine if Pepr binds Admission Endpoints and runs as an Admission Controller or sets up the watch processor and runs as a Kubernetes Controller. For greater availability the Admission Controller runs with two replicas. The variable is set during `npx pepr build` when the manifests are generated. This variable should not be set by the user.\n\n## Difference between `.Watch()` vs. `.Reconcile()` in Pepr\n\n`.Watch()` and `.Reconcile()` are two distinct mechanisms in Pepr used to handle Kubernetes events. The core difference is **when** and **how** they process events:\n\n- **`.Watch()`** processes events **immediately** as they arrive, without any ordering guarantees.\n- **`.Reconcile()`** processes events **sequentially** through a queue, based on a user-defined configuration.\n\n### Why This Matters\n\nIf you're performing multiple operations on the same resource, using `.Watch()` can lead to **out-of-order event handling**.\n\n**Example:**  \nSuppose your controller updates a resource and then deletes it. With `.Watch()`, the delete event might be processed **before** the update if the update takes longer to complete. This could result in the resource being deleted before it was properly updated — leading to **unexpected behavior**.\n\n### How `.Reconcile()` Solves This\n\n`.Reconcile()` ensures **event order is preserved** by placing events into a queue. Events are then processed **in the order they were received**, regardless of their processing time. This reduces race conditions and increases predictability.\n\n### `Reconcile()` Queue Configurations\n\nYou can configure `.Reconcile()` with different queue granularities depending on your desired level of isolation:\n\n| Option         | Description                                                                                                    | Example                                                                                   |\n|----------------|----------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------|\n| `kind`         | One queue per resource kind.                                                                                   | All Deployments share a queue, all Pods share a queue, etc.                              |\n| `kindNs`       | One queue per kind **within each namespace**.                                                                  | Deployments in `default` share a queue; Pods in `default` share a different one.         |\n| `kindNsName`   | One queue **per resource**, keyed by kind + namespace + name. _(Recommended)_                                  | Events for `Deployment/default/my-deployment` are processed in their own dedicated queue.|\n| `global`       | A **single global queue** for all events.                                                                      | All events across all kinds and namespaces are funneled into one queue.                  |\n\n### Summary\n\n- Use **`.Watch()`** when immediate reaction is acceptable and event order doesn't matter.\n- Use **`.Reconcile()`** when consistency and **event order are critical**, especially for updates, deletes, or resource coordination.\n- Prefer `kindNsName` mode for most real-world workloads to ensure per-resource consistency.\n\n## What is a module author?\n\nA module author is someone who creates a [Pepr Module](../user-guide/pepr-modules/) , which defines capabilities to enforce or apply desired state in a Kubernetes cluster.\nIf you’ve run `npx pepr init` to create a module, congratulations — you’re a module author.\n\n## How do I remove the punycode warning?\n\nBy default, warnings are removed. You can allow warnings by setting the `PEPR_NODE_WARNINGS` environment variable.\n\n```bash\nPEPR_NODE_WARNINGS=\"true\"\n```\n\nIf you allow warnings, you can disable the specific punycode warning by:\n\n```bash\nexport NODE_OPTIONS=\"--disable-warning=DEP0040\"\n```\n\nor\n\n```bash\nnpx --node-options=\"--disable-warning=DEP0040\" pepr [command]\n```\n\n## How does Pepr compare to Operator SDK?\n\nPepr and Operator SDK are both frameworks used for building Kubernetes operators and admission controllers. While they share a common goal of simplifying the creation of Kubernetes operators and enhancing Kubernetes functionality, they have different approaches and features.\n\nSimilarities:\n\n- **Scaffolding**: Automatically generate boilerplate code for new operators and Kubernetes manifests for building controllers.\n- **Helper Functions**: Provide utility functions to interact with Kubernetes resources and manage the lifecycle of Kubernetes resources.\n- **Admission Webhooks and Kubernetes Controllers**: Both support building admission and Kubernetes controllers by reacting to changes in the cluster in an automated way.\n\nDifferences:\n\n- **Main Goals**: Operator SDK is mainly focused on building operators and later included support for Webhooks. In contrast, Pepr started out as a framework for building Webhooks and later added support for building operators via [Kubernetes-Fluent-Client](https://github.com/defenseunicorns/kubernetes-fluent-client) through [Watch](../user-guide/actions/watch/) and [Reconcile](../user-guide/actions/reconcile/).\n- **Language Support**: Operator SDK supports Go, Ansible, and Helm, while Pepr is written in TypeScript and designed with an English style fluent API for simplicity.\n- **Lifecycle Management**: Operator SDK provides tools for managing the lifecycle of operators through OLM (Operator Lifecycle Manager), while Pepr relies on [Helm](../user-guide/customization/) for upgrades.\n- **Complexity**: Operator SDK uses native Kubernetes Go libraries for deep integration with Kubernetes resources, while Pepr exposes a high-level abstraction allowing users to focus on business logic.\n- **Easy Setup**: While both make it easy to initialize a new project, Pepr comes with an out-of-the-box `hello-pepr.ts` example which demonstrates how to use Pepr effectively.\n\n## How does Pepr compare to Kyverno?\n\nAlthough Pepr and Kyverno have similarities, Pepr is very different than Kyverno. They have very different mission statements. Pepr focuses on making operators as easy as possible. Kyverno focuses on reporting, not building operators.\n\nSimilarities:\n\n- Both have Mutating Webhooks that can dynamically change resources before admission\n- Both have Validating Webhooks to configure what can/cannot go through admission\n- Both provide a way to react to changes to pre-existing cluster resources (i.e., resources that have already gone through admission)\n\nDifferences:\n\n- Pepr is more like a \"framework\" than a tool. In Pepr you create a Pepr [Module](../user-guide/pepr-modules/). In the Pepr module you define [capabilities](../user-guide/capabilities/) that enforce / apply desired cluster state.\n- Pepr is written in TypeScript. Kyverno is written in Go.\n- Pepr provides the flexibility of a full-fledged, strongly typed programming language to decide what decisions to make based on events happening in the cluster. With Kyverno, you are limited to the constraints of YAML.\n- Pepr can be used to reconcile events in order, similar to Kube-Builder or Operator SDK.\n- Pepr can apply a CustomResourceDefinition and control cluster state based on that custom resource.\n\nBoth Pepr and Kyverno are great tools. Which one to use for your project depends on your use case.\n\n## How do I add custom labels to Pepr's Kubernetes manifests?\n\nDuring the build process, custom labels can be added the `pepr-system` namespace based on the `package.json`. Checkout the [Customizing with package.json](../user-guide/customization#packagejson-configurations-table).\n\nThe following example shows how to add custom namespace labels.\n\n```json\n  \"pepr\": {\n    \"name\": \"new-release\",\n    ...\n    \"customLabels\": {\n      \"namespace\": {\n        \"istio-injection\": \"enabled\",\n        \"app.kubernetes.io/name\": \"new-release\"\n      }\n    },\n    ...\n  }\n```\n\nThe resulting namespace will be generated after `npx pepr build`.\n\n```yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: pepr-system\n  labels:\n    istio-injection: enabled\n    app.kubernetes.io/name: new-release\n```\n\n## My Pepr version is not the latest\n\nIf you notice your Pepr version does not correspond to the latest release in GitHub after doing `npx pepr -V`, clearing the NPX cache can often resolve the issue.\n\nRun the cache clearing command\n\n```bash\nnpx clear-npx-cache\n```\n\nIf you want to ensure the cache has been cleared, you can check the cache directory. The location of this directory varies based on your operating system and configuration. However, you can generally find it in your system's home directory under `.npm`.\n\n**Note** - If you are inside of the Pepr Core repo (\u003Chttps://github.com/defenseunicorns/pepr>), then it is normal for `npx pepr -V` to return `0.0.0-development`.\n\n## I've found a bug, what should I do?\n\nPlease report it by opening an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues). Please include as much information as possible in your bug report, including:\n\n- The version of Pepr you are using\n- The version of Kubernetes you are using\n\n## I've found a security issue, what should I do?\n\nSecurity issues should be reported privately, via [email](mailto:pepr@defenseunicorns.com). You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message.\n\n## I have a feature request, what should I do?\n\nPlease let us know by opening an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues).\n\n## How do I get help with Pepr?\n\nIf you have a question about Pepr, please open an issue in the [Pepr GitHub repository](https://github.com/defenseunicorns/pepr/issues) or contact us through the Pepr channel on the Kubernetes Slack.","src/content/docs/v0.54/reference/faq.md","d7f1a7430fbba6d9",{"html":1843,"metadata":1844},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-is-the-pepr_watch_mode-environment-variable\">What is the \u003Ccode dir=\"auto\">PEPR_WATCH_MODE\u003C/code> environment variable?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-is-the-pepr_watch_mode-environment-variable\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What is the PEPR_WATCH_MODE environment variable?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">PEPR_WATCH_MODE\u003C/code> environment variable is used to determine if Pepr binds Admission Endpoints and runs as an Admission Controller or sets up the watch processor and runs as a Kubernetes Controller. For greater availability the Admission Controller runs with two replicas. The variable is set during \u003Ccode dir=\"auto\">npx pepr build\u003C/code> when the manifests are generated. This variable should not be set by the user.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"difference-between-watch-vs-reconcile-in-pepr\">Difference between \u003Ccode dir=\"auto\">.Watch()\u003C/code> vs. \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> in Pepr\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#difference-between-watch-vs-reconcile-in-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Difference between .Watch() vs. .Reconcile() in Pepr”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">.Watch()\u003C/code> and \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> are two distinct mechanisms in Pepr used to handle Kubernetes events. The core difference is \u003Cstrong>when\u003C/strong> and \u003Cstrong>how\u003C/strong> they process events:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>\u003Ccode dir=\"auto\">.Watch()\u003C/code>\u003C/strong> processes events \u003Cstrong>immediately\u003C/strong> as they arrive, without any ordering guarantees.\u003C/li>\n\u003Cli>\u003Cstrong>\u003Ccode dir=\"auto\">.Reconcile()\u003C/code>\u003C/strong> processes events \u003Cstrong>sequentially\u003C/strong> through a queue, based on a user-defined configuration.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"why-this-matters\">Why This Matters\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#why-this-matters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Why This Matters”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you’re performing multiple operations on the same resource, using \u003Ccode dir=\"auto\">.Watch()\u003C/code> can lead to \u003Cstrong>out-of-order event handling\u003C/strong>.\u003C/p>\n\u003Cp>\u003Cstrong>Example:\u003C/strong>\u003Cbr>\nSuppose your controller updates a resource and then deletes it. With \u003Ccode dir=\"auto\">.Watch()\u003C/code>, the delete event might be processed \u003Cstrong>before\u003C/strong> the update if the update takes longer to complete. This could result in the resource being deleted before it was properly updated — leading to \u003Cstrong>unexpected behavior\u003C/strong>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"how-reconcile-solves-this\">How \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> Solves This\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#how-reconcile-solves-this\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How .Reconcile() Solves This”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Ccode dir=\"auto\">.Reconcile()\u003C/code> ensures \u003Cstrong>event order is preserved\u003C/strong> by placing events into a queue. Events are then processed \u003Cstrong>in the order they were received\u003C/strong>, regardless of their processing time. This reduces race conditions and increases predictability.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"reconcile-queue-configurations\">\u003Ccode dir=\"auto\">Reconcile()\u003C/code> Queue Configurations\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#reconcile-queue-configurations\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reconcile() Queue Configurations”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can configure \u003Ccode dir=\"auto\">.Reconcile()\u003C/code> with different queue granularities depending on your desired level of isolation:\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Option\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kind\u003C/code>\u003C/td>\u003Ctd>One queue per resource kind.\u003C/td>\u003Ctd>All Deployments share a queue, all Pods share a queue, etc.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNs\u003C/code>\u003C/td>\u003Ctd>One queue per kind \u003Cstrong>within each namespace\u003C/strong>.\u003C/td>\u003Ctd>Deployments in \u003Ccode dir=\"auto\">default\u003C/code> share a queue; Pods in \u003Ccode dir=\"auto\">default\u003C/code> share a different one.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNsName\u003C/code>\u003C/td>\u003Ctd>One queue \u003Cstrong>per resource\u003C/strong>, keyed by kind + namespace + name. \u003Cem>(Recommended)\u003C/em>\u003C/td>\u003Ctd>Events for \u003Ccode dir=\"auto\">Deployment/default/my-deployment\u003C/code> are processed in their own dedicated queue.\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">global\u003C/code>\u003C/td>\u003Ctd>A \u003Cstrong>single global queue\u003C/strong> for all events.\u003C/td>\u003Ctd>All events across all kinds and namespaces are funneled into one queue.\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"summary\">Summary\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#summary\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Summary”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>Use \u003Cstrong>\u003Ccode dir=\"auto\">.Watch()\u003C/code>\u003C/strong> when immediate reaction is acceptable and event order doesn’t matter.\u003C/li>\n\u003Cli>Use \u003Cstrong>\u003Ccode dir=\"auto\">.Reconcile()\u003C/code>\u003C/strong> when consistency and \u003Cstrong>event order are critical\u003C/strong>, especially for updates, deletes, or resource coordination.\u003C/li>\n\u003Cli>Prefer \u003Ccode dir=\"auto\">kindNsName\u003C/code> mode for most real-world workloads to ensure per-resource consistency.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-is-a-module-author\">What is a module author?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-is-a-module-author\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What is a module author?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A module author is someone who creates a \u003Ca href=\"../user-guide/pepr-modules/\">Pepr Module\u003C/a> , which defines capabilities to enforce or apply desired state in a Kubernetes cluster.\nIf you’ve run \u003Ccode dir=\"auto\">npx pepr init\u003C/code> to create a module, congratulations — you’re a module author.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-do-i-remove-the-punycode-warning\">How do I remove the punycode warning?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-do-i-remove-the-punycode-warning\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How do I remove the punycode warning?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By default, warnings are removed. You can allow warnings by setting the \u003Ccode dir=\"auto\">PEPR_NODE_WARNINGS\u003C/code> environment variable.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PEPR_NODE_WARNINGS\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"PEPR_NODE_WARNINGS=&#x22;true&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If you allow warnings, you can disable the specific punycode warning by:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">NODE_OPTIONS\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--disable-warning=DEP0040\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"export NODE_OPTIONS=&#x22;--disable-warning=DEP0040&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>or\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--node-options=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--disable-warning=DEP0040\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [command]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx --node-options=&#x22;--disable-warning=DEP0040&#x22; pepr [command]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-does-pepr-compare-to-operator-sdk\">How does Pepr compare to Operator SDK?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-does-pepr-compare-to-operator-sdk\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How does Pepr compare to Operator SDK?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr and Operator SDK are both frameworks used for building Kubernetes operators and admission controllers. While they share a common goal of simplifying the creation of Kubernetes operators and enhancing Kubernetes functionality, they have different approaches and features.\u003C/p>\n\u003Cp>Similarities:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Scaffolding\u003C/strong>: Automatically generate boilerplate code for new operators and Kubernetes manifests for building controllers.\u003C/li>\n\u003Cli>\u003Cstrong>Helper Functions\u003C/strong>: Provide utility functions to interact with Kubernetes resources and manage the lifecycle of Kubernetes resources.\u003C/li>\n\u003Cli>\u003Cstrong>Admission Webhooks and Kubernetes Controllers\u003C/strong>: Both support building admission and Kubernetes controllers by reacting to changes in the cluster in an automated way.\u003C/li>\n\u003C/ul>\n\u003Cp>Differences:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Main Goals\u003C/strong>: Operator SDK is mainly focused on building operators and later included support for Webhooks. In contrast, Pepr started out as a framework for building Webhooks and later added support for building operators via \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">Kubernetes-Fluent-Client\u003C/a> through \u003Ca href=\"../user-guide/actions/watch/\">Watch\u003C/a> and \u003Ca href=\"../user-guide/actions/reconcile/\">Reconcile\u003C/a>.\u003C/li>\n\u003Cli>\u003Cstrong>Language Support\u003C/strong>: Operator SDK supports Go, Ansible, and Helm, while Pepr is written in TypeScript and designed with an English style fluent API for simplicity.\u003C/li>\n\u003Cli>\u003Cstrong>Lifecycle Management\u003C/strong>: Operator SDK provides tools for managing the lifecycle of operators through OLM (Operator Lifecycle Manager), while Pepr relies on \u003Ca href=\"../user-guide/customization/\">Helm\u003C/a> for upgrades.\u003C/li>\n\u003Cli>\u003Cstrong>Complexity\u003C/strong>: Operator SDK uses native Kubernetes Go libraries for deep integration with Kubernetes resources, while Pepr exposes a high-level abstraction allowing users to focus on business logic.\u003C/li>\n\u003Cli>\u003Cstrong>Easy Setup\u003C/strong>: While both make it easy to initialize a new project, Pepr comes with an out-of-the-box \u003Ccode dir=\"auto\">hello-pepr.ts\u003C/code> example which demonstrates how to use Pepr effectively.\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-does-pepr-compare-to-kyverno\">How does Pepr compare to Kyverno?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-does-pepr-compare-to-kyverno\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How does Pepr compare to Kyverno?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Although Pepr and Kyverno have similarities, Pepr is very different than Kyverno. They have very different mission statements. Pepr focuses on making operators as easy as possible. Kyverno focuses on reporting, not building operators.\u003C/p>\n\u003Cp>Similarities:\u003C/p>\n\u003Cul>\n\u003Cli>Both have Mutating Webhooks that can dynamically change resources before admission\u003C/li>\n\u003Cli>Both have Validating Webhooks to configure what can/cannot go through admission\u003C/li>\n\u003Cli>Both provide a way to react to changes to pre-existing cluster resources (i.e., resources that have already gone through admission)\u003C/li>\n\u003C/ul>\n\u003Cp>Differences:\u003C/p>\n\u003Cul>\n\u003Cli>Pepr is more like a “framework” than a tool. In Pepr you create a Pepr \u003Ca href=\"../user-guide/pepr-modules/\">Module\u003C/a>. In the Pepr module you define \u003Ca href=\"../user-guide/capabilities/\">capabilities\u003C/a> that enforce / apply desired cluster state.\u003C/li>\n\u003Cli>Pepr is written in TypeScript. Kyverno is written in Go.\u003C/li>\n\u003Cli>Pepr provides the flexibility of a full-fledged, strongly typed programming language to decide what decisions to make based on events happening in the cluster. With Kyverno, you are limited to the constraints of YAML.\u003C/li>\n\u003Cli>Pepr can be used to reconcile events in order, similar to Kube-Builder or Operator SDK.\u003C/li>\n\u003Cli>Pepr can apply a CustomResourceDefinition and control cluster state based on that custom resource.\u003C/li>\n\u003C/ul>\n\u003Cp>Both Pepr and Kyverno are great tools. Which one to use for your project depends on your use case.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-do-i-add-custom-labels-to-peprs-kubernetes-manifests\">How do I add custom labels to Pepr’s Kubernetes manifests?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-do-i-add-custom-labels-to-peprs-kubernetes-manifests\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How do I add custom labels to Pepr’s Kubernetes manifests?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>During the build process, custom labels can be added the \u003Ccode dir=\"auto\">pepr-system\u003C/code> namespace based on the \u003Ccode dir=\"auto\">package.json\u003C/code>. Checkout the \u003Ca href=\"../user-guide/customization#packagejson-configurations-table\">Customizing with package.json\u003C/a>.\u003C/p>\n\u003Cp>The following example shows how to add custom namespace labels.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"name\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">new-release\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#FFFFFF;--1:#984E4D\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"customLabels\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"namespace\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"istio-injection\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">enabled\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"app.kubernetes.io/name\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">new-release\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#FFFFFF;--1:#984E4D\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x22;pepr&#x22;: {    &#x22;name&#x22;: &#x22;new-release&#x22;,    ...    &#x22;customLabels&#x22;: {      &#x22;namespace&#x22;: {        &#x22;istio-injection&#x22;: &#x22;enabled&#x22;,        &#x22;app.kubernetes.io/name&#x22;: &#x22;new-release&#x22;      }    },    ...  }\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The resulting namespace will be generated after \u003Ccode dir=\"auto\">npx pepr build\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Namespace\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">labels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">istio-injection\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">enabled\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">app.kubernetes.io/name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">new-release\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"apiVersion: v1kind: Namespacemetadata:  name: pepr-system  labels:    istio-injection: enabled    app.kubernetes.io/name: new-release\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"my-pepr-version-is-not-the-latest\">My Pepr version is not the latest\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#my-pepr-version-is-not-the-latest\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “My Pepr version is not the latest”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you notice your Pepr version does not correspond to the latest release in GitHub after doing \u003Ccode dir=\"auto\">npx pepr -V\u003C/code>, clearing the NPX cache can often resolve the issue.\u003C/p>\n\u003Cp>Run the cache clearing command\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">clear-npx-cache\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx clear-npx-cache\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If you want to ensure the cache has been cleared, you can check the cache directory. The location of this directory varies based on your operating system and configuration. However, you can generally find it in your system’s home directory under \u003Ccode dir=\"auto\">.npm\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Note\u003C/strong> - If you are inside of the Pepr Core repo (\u003Ca href=\"https://github.com/defenseunicorns/pepr\">https://github.com/defenseunicorns/pepr\u003C/a>), then it is normal for \u003Ccode dir=\"auto\">npx pepr -V\u003C/code> to return \u003Ccode dir=\"auto\">0.0.0-development\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"ive-found-a-bug-what-should-i-do\">I’ve found a bug, what should I do?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#ive-found-a-bug-what-should-i-do\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “I’ve found a bug, what should I do?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please report it by opening an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a>. Please include as much information as possible in your bug report, including:\u003C/p>\n\u003Cul>\n\u003Cli>The version of Pepr you are using\u003C/li>\n\u003Cli>The version of Kubernetes you are using\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"ive-found-a-security-issue-what-should-i-do\">I’ve found a security issue, what should I do?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#ive-found-a-security-issue-what-should-i-do\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “I’ve found a security issue, what should I do?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Security issues should be reported privately, via \u003Ca href=\"mailto:pepr@defenseunicorns.com\">email\u003C/a>. You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"i-have-a-feature-request-what-should-i-do\">I have a feature request, what should I do?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#i-have-a-feature-request-what-should-i-do\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “I have a feature request, what should I do?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Please let us know by opening an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"how-do-i-get-help-with-pepr\">How do I get help with Pepr?\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#how-do-i-get-help-with-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “How do I get help with Pepr?”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you have a question about Pepr, please open an issue in the \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">Pepr GitHub repository\u003C/a> or contact us through the Pepr channel on the Kubernetes Slack.\u003C/p>",{"headings":1845,"localImagePaths":1862,"remoteImagePaths":1863,"frontmatter":1864,"imagePaths":1865},[1846,1847,1848,1849,1850,1851,1852,1853,1854,1855,1856,1857,1858,1859,1860,1861],{"depth":80,"slug":598,"text":599},{"depth":80,"slug":601,"text":602},{"depth":131,"slug":604,"text":605},{"depth":131,"slug":607,"text":608},{"depth":131,"slug":610,"text":611},{"depth":131,"slug":613,"text":614},{"depth":80,"slug":616,"text":617},{"depth":80,"slug":619,"text":620},{"depth":80,"slug":622,"text":623},{"depth":80,"slug":625,"text":626},{"depth":80,"slug":628,"text":629},{"depth":80,"slug":631,"text":632},{"depth":80,"slug":634,"text":635},{"depth":80,"slug":637,"text":638},{"depth":80,"slug":640,"text":641},{"depth":80,"slug":643,"text":644},[],[],{"title":586,"description":586,"slug":1833},[],"v0.54/reference/module-examples",{"id":1866,"data":1868,"body":480,"filePath":1872,"digest":1873,"rendered":1874},{"title":476,"description":476,"editUrl":66,"head":1869,"template":68,"sidebar":1870,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1871},{},"src/content/docs/v0.54/reference/module-examples.md","5e902298cdf2ce5e",{"html":484,"metadata":1875},{"headings":1876,"localImagePaths":1877,"remoteImagePaths":1878,"frontmatter":1879,"imagePaths":1880},[],[],[],{"title":476,"description":476,"slug":1866},[],"v0.54/tutorials/create-pepr-dashboard",{"id":1881,"data":1883,"body":1887,"filePath":1888,"digest":1889,"rendered":1890},{"title":760,"description":760,"editUrl":66,"head":1884,"template":68,"sidebar":1885,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1886},{},"## Introduction\n\nThis tutorial will walk you through the process of creating a dashboard to display your Pepr metrics. This dashboard will present data such as the number of validation requests processed, the number of mutation requests that were allowed, the number of errors that were processed, the number of alerts that were processed, the status of the Pepr pods, and the scrape duration of the Pepr pods. This dashboard will be created using [Grafana](https://grafana.com/). The dashboard will display data from [Prometheus](https://prometheus.io/), which is a monitoring system that Pepr uses to collect metrics.\n\nThis tutorial is not intended for production, but instead is intended to show how to quickly scrape Pepr metrics. The [Kube Prometheus Stack](https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack) provides a starting point for a more production suitable way of deploying Prometheus in prod.\n\nAn example of what the dashboard will look like is shown below:\n\n![Pepr Dashboard](/assets/pepr-dashboard-screenshot.png)\n\n***Note:*** *The dashboard shown above is an example of what the dashboard will look like. The dashboard will be populated with data from your Pepr instance.*\n\n## Steps\n\n### Step 1. Get Cluster Running With Your Pepr Module Deployed\n\nYou can learn more about how to create a Pepr module and deploy it in the [Create a Pepr Module](create-pepr-module/) tutorial. The short version is:\n\n```bash\n#Create your cluster\nk3d cluster create\n\n#Create your module\nnpx pepr init\n\n#Change directory to your module that was created using `npx pepr init`\nnpx pepr  dev\nkubectl apply -f capabilities/hello-pepr.samples.yaml\n\n#Deploy your module to the cluster\nnpx pepr deploy\n```\n\n### Step 2: Create and Apply Our Pepr Dashboard to the Cluster\n\nCreate a new file called grafana-dashboard.yaml and add the following content:\n\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: pepr-dashboard\n  namespace: default\ndata:\n  pepr-dashboard.json: |\n    {\n    \"__inputs\": [\n      {\n        \"name\": \"DS_PROMETHEUS\",\n        \"label\": \"Prometheus\",\n        \"description\": \"\",\n        \"type\": \"datasource\",\n        \"pluginId\": \"prometheus\",\n        \"pluginName\": \"Prometheus\"\n      }\n    ],\n    \"__elements\": {},\n    \"__requires\": [\n      {\n        \"type\": \"grafana\",\n        \"id\": \"grafana\",\n        \"name\": \"Grafana\",\n        \"version\": \"9.1.6\"\n      },\n      {\n        \"type\": \"datasource\",\n        \"id\": \"prometheus\",\n        \"name\": \"Prometheus\",\n        \"version\": \"1.0.0\"\n      },\n      {\n        \"type\": \"panel\",\n        \"id\": \"stat\",\n        \"name\": \"Stat\",\n        \"version\": \"\"\n      },\n      {\n        \"type\": \"panel\",\n        \"id\": \"timeseries\",\n        \"name\": \"Time series\",\n        \"version\": \"\"\n      }\n    ],\n    \"annotations\": {\n      \"list\": [\n        {\n          \"builtIn\": 1,\n          \"datasource\": {\n            \"type\": \"grafana\",\n            \"uid\": \"-- Grafana --\"\n          },\n          \"enable\": true,\n          \"hide\": true,\n          \"iconColor\": \"rgba(0, 211, 255, 1)\",\n          \"name\": \"Annotations & Alerts\",\n          \"target\": {\n            \"limit\": 100,\n            \"matchAny\": false,\n            \"tags\": [],\n            \"type\": \"dashboard\"\n          },\n          \"type\": \"dashboard\"\n        }\n      ]\n    },\n    \"editable\": true,\n    \"fiscalYearStartMonth\": 0,\n    \"graphTooltip\": 0,\n    \"id\": null,\n    \"links\": [],\n    \"liveNow\": false,\n    \"panels\": [\n      {\n        \"collapsed\": false,\n        \"gridPos\": {\n          \"h\": 1,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 0\n        },\n        \"id\": 18,\n        \"panels\": [],\n        \"title\": \"Pepr Status\",\n        \"type\": \"row\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Pepr pod status by pod\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"mode\": \"thresholds\"\n            },\n            \"mappings\": [\n              {\n                \"options\": {\n                  \"0\": {\n                    \"color\": \"red\",\n                    \"index\": 1,\n                    \"text\": \"Down\"\n                  },\n                  \"1\": {\n                    \"color\": \"green\",\n                    \"index\": 0,\n                    \"text\": \"Up\"\n                  }\n                },\n                \"type\": \"value\"\n              },\n              {\n                \"options\": {\n                  \"match\": \"empty\",\n                  \"result\": {\n                    \"color\": \"blue\",\n                    \"index\": 2,\n                    \"text\": \"?\"\n                  }\n                },\n                \"type\": \"special\"\n              }\n            ],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 12,\n          \"x\": 0,\n          \"y\": 1\n        },\n        \"id\": 14,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"none\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"up{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"up{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr Status\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"mode\": \"palette-classic\"\n            },\n            \"custom\": {\n              \"axisCenteredZero\": false,\n              \"axisColorMode\": \"text\",\n              \"axisLabel\": \"\",\n              \"axisPlacement\": \"auto\",\n              \"barAlignment\": 0,\n              \"drawStyle\": \"line\",\n              \"fillOpacity\": 0,\n              \"gradientMode\": \"none\",\n              \"hideFrom\": {\n                \"legend\": false,\n                \"tooltip\": false,\n                \"viz\": false\n              },\n              \"lineInterpolation\": \"linear\",\n              \"lineWidth\": 1,\n              \"pointSize\": 5,\n              \"scaleDistribution\": {\n                \"type\": \"linear\"\n              },\n              \"showPoints\": \"auto\",\n              \"spanNulls\": false,\n              \"stacking\": {\n                \"group\": \"A\",\n                \"mode\": \"none\"\n              },\n              \"thresholdsStyle\": {\n                \"mode\": \"off\"\n              }\n            },\n            \"mappings\": [],\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 12,\n          \"x\": 12,\n          \"y\": 1\n        },\n        \"id\": 12,\n        \"options\": {\n          \"legend\": {\n            \"calcs\": [],\n            \"displayMode\": \"list\",\n            \"placement\": \"bottom\",\n            \"showLegend\": true\n          },\n          \"tooltip\": {\n            \"mode\": \"single\",\n            \"sort\": \"none\"\n          }\n        },\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"scrape_duration_seconds{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"scrape_duration_seconds{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Scrape Duration Seconds\",\n        \"type\": \"timeseries\"\n      },\n      {\n        \"collapsed\": false,\n        \"gridPos\": {\n          \"h\": 1,\n          \"w\": 24,\n          \"x\": 0,\n          \"y\": 9\n        },\n        \"id\": 6,\n        \"panels\": [],\n        \"title\": \"Error, Alert, Validate and Mutate Counts\",\n        \"type\": \"row\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-red\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 0,\n          \"y\": 10\n        },\n        \"id\": 16,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"server\\\"}[$__rate_interval]))\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"watcher\\\"}[$__rate_interval]))\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Error Count\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Count of Pepr Alerts by pod\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-yellow\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 6,\n          \"y\": 10\n        },\n        \"id\": 10,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_alerts{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_alerts{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Alert Count\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Count of Pepr Validate actions by pod\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-purple\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 12,\n          \"y\": 10\n        },\n        \"id\": 4,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 66\n          },\n          \"textMode\": \"auto\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"exemplar\": false,\n            \"expr\": \"pepr_validate_count{container=\\\"server\\\"}\",\n            \"instant\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_validate_sum{container=\\\"watcher\\\"}\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Validate Count\",\n        \"type\": \"stat\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"description\": \"Count of Pepr mutate actions applied by pod.\",\n        \"fieldConfig\": {\n          \"defaults\": {\n            \"color\": {\n              \"fixedColor\": \"dark-blue\",\n              \"mode\": \"fixed\"\n            },\n            \"mappings\": [],\n            \"min\": 0,\n            \"thresholds\": {\n              \"mode\": \"absolute\",\n              \"steps\": [\n                {\n                  \"color\": \"green\",\n                  \"value\": null\n                },\n                {\n                  \"color\": \"red\",\n                  \"value\": 80\n                }\n              ]\n            }\n          },\n          \"overrides\": []\n        },\n        \"gridPos\": {\n          \"h\": 8,\n          \"w\": 6,\n          \"x\": 18,\n          \"y\": 10\n        },\n        \"id\": 2,\n        \"options\": {\n          \"colorMode\": \"value\",\n          \"graphMode\": \"area\",\n          \"justifyMode\": \"auto\",\n          \"orientation\": \"auto\",\n          \"reduceOptions\": {\n            \"calcs\": [\n              \"last\"\n            ],\n            \"fields\": \"\",\n            \"values\": false\n          },\n          \"text\": {\n            \"titleSize\": 16,\n            \"valueSize\": 70\n          },\n          \"textMode\": \"value_and_name\"\n        },\n        \"pluginVersion\": \"9.1.6\",\n        \"targets\": [\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"pepr_mutate_count{container=\\\"server\\\"}\",\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"A\"\n          },\n          {\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"prometheus\"\n            },\n            \"editorMode\": \"builder\",\n            \"expr\": \"rate(pepr_mutate_count{container=\\\"watcher\\\"}[24h])\",\n            \"hide\": false,\n            \"legendFormat\": \"{{instance}}\",\n            \"range\": true,\n            \"refId\": \"B\"\n          }\n        ],\n        \"title\": \"Pepr: Mutate Count\",\n        \"type\": \"stat\"\n      }\n    ],\n    \"schemaVersion\": 37,\n    \"style\": \"dark\",\n    \"tags\": [],\n    \"templating\": {\n      \"list\": []\n    },\n    \"time\": {\n      \"from\": \"now-24h\",\n      \"to\": \"now\"\n    },\n    \"timepicker\": {},\n    \"timezone\": \"\",\n    \"title\": \"Pepr Dashboard\",\n    \"uid\": \"j7BjgMpIk\",\n    \"version\": 17,\n    \"weekStart\": \"\"\n    }\n```\n\nNow, apply the grafana-dashboard.yaml file to the cluster:\n\n```bash\nkubectl apply -f grafana-dashboard.yaml\n```\n\n### Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart\n\nFirst, create a values.yaml file to add our endpoints to Prometheus and allow us to see our dashboard.\n\n```yaml\nprometheus:\n  enabled: true\n  additionalServiceMonitors:\n    - name: admission\n      selector:\n        matchLabels:\n          pepr.dev/controller: admission\n      namespaceSelector:\n        matchNames:\n          - pepr-system\n      endpoints:\n        - targetPort: 3000\n          scheme: https\n          tlsConfig:\n            insecureSkipVerify: true\n    - name: watcher\n      selector:\n        matchLabels:\n          pepr.dev/controller: watcher\n      namespaceSelector:\n        matchNames:\n          - pepr-system\n      endpoints:\n        - targetPort: 3000\n          scheme: https\n          tlsConfig:\n            insecureSkipVerify: true\n  additionalClusterRoleBindings:\n    - name: scrape-binding\n      roleRef:\n        apiGroup: rbac.authorization.k8s.io\n        kind: ClusterRole\n        name: scrape-resources\n      subjects:\n      - kind: ServiceAccount\n        name: prometheus-operator\n        namespace: default\ngrafana:\n  enabled: true\n  adminUser: admin\n  adminPassword: secret\n  defaultDashboardsTimezone: browser\n  extraVolumeMounts:\n    - mountPath: /var/lib/grafana/dashboards\n      name: pepr-dashboard\n  extraVolumes:\n    - name: pepr-dashboard\n      configMap:\n        name: pepr-dashboard\n  dashboardProviders:\n    dashboardproviders.yaml:\n      apiVersion: 1\n      providers:\n      - name: 'default'\n        isDefault: true\n        orgId: 1\n        folder: ''\n        type: file\n        disableDeletion: false\n        editable: true\n        options:\n          path: /var/lib/grafana/dashboards/default\n  dashboardsConfigMaps:\n    default: pepr-dashboard\n```\n\nNow, install the kube-prometheus-stack Helm Chart using the values.yaml file we created.\n\n```bash\nhelm install -f values.yaml monitoring prometheus-community/kube-prometheus-stack\n```\n\n### Step 4: Check on Services\n\n```bash\nkubectl get svc\n```\n\nYou should see something similar to the following services:\n\n```bash\n$ kubectl get svc\nNAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGE\nkubernetes                                ClusterIP   10.43.0.1       \u003Cnone>        443/TCP                      99m\nmonitoring-kube-prometheus-prometheus     ClusterIP   10.43.116.49    \u003Cnone>        9090/TCP,8080/TCP            81s\nmonitoring-kube-state-metrics             ClusterIP   10.43.232.84    \u003Cnone>        8080/TCP                     81s\nmonitoring-grafana                        ClusterIP   10.43.82.67     \u003Cnone>        80/TCP                       81s\nmonitoring-kube-prometheus-operator       ClusterIP   10.43.197.97    \u003Cnone>        443/TCP                      81s\nmonitoring-kube-prometheus-alertmanager   ClusterIP   10.43.40.24     \u003Cnone>        9093/TCP,8080/TCP            81s\nmonitoring-prometheus-node-exporter       ClusterIP   10.43.152.179   \u003Cnone>        9100/TCP                     81s\nalertmanager-operated                     ClusterIP   None            \u003Cnone>        9093/TCP,9094/TCP,9094/UDP   81s\nprometheus-operated                       ClusterIP   None            \u003Cnone>        9090/TCP                     81s\n```\n\n### Step 5: Port Forward Prometheus and Grafana Services\n\n```bash\nkubectl port-forward service/prometheus-operated 9090\n```\n\n```bash\nkubectl port-forward service/monitoring-grafana 3000:80\n```\n\n### Step 6: View Prometheus Metrics Targets\n\nYou should be able to see the Pepr targets in the Prometheus UI by visiting the following URL:\n\n```plaintext\nhttp://localhost:9090/targets\n```\n\nThe targets should look something like this:\n\n![Admission Endpoints](/assets/admission-endpoint.png)\n![Watcher Endpoint](/assets/watcher-endpoint.png)\n\n### Step 7: Test the Prometheus Connection in Grafana\n\nYou should be able to test the Prometheus connection in the Grafana UI by visiting the following URL:\n\n\u003Chttp://localhost:3000/connections/datasources>\n\nThe login information for Grafana was set in the values.yaml file:\n\nusername: admin\npassword: secret\n\nBy clicking on the Prometheus data source, you should be able to test the connection to Prometheus by clicking the \"Test\" button at the bottom of the screen.\n\nNOTE: The Prometheus server URL should be something like:\n\n\u003Chttp://monitoring-kube-prometh-prometheus.default:9090/>\n\nYou should now be able to select the Pepr Dashboard from the Grafana UI in the \"Dashboards\" section.\n\nNote: The dashboard may take a few minutes to populate with data.\n\n## Summary\n\nThis tutorial demonstrated how to use Prometheus and Grafana to display metrics from your Pepr instance. If you have questions about Pepr metrics or dashboards, please reach out to us on [Slack](https://kubernetes.slack.com/archives/C06DGH40UCB) or [GitHub Issues](https://github.com/defenseunicorns/pepr/issues)","src/content/docs/v0.54/tutorials/create-pepr-dashboard.md","639144f680e170d2",{"html":1891,"metadata":1892},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial will walk you through the process of creating a dashboard to display your Pepr metrics. This dashboard will present data such as the number of validation requests processed, the number of mutation requests that were allowed, the number of errors that were processed, the number of alerts that were processed, the status of the Pepr pods, and the scrape duration of the Pepr pods. This dashboard will be created using \u003Ca href=\"https://grafana.com/\">Grafana\u003C/a>. The dashboard will display data from \u003Ca href=\"https://prometheus.io/\">Prometheus\u003C/a>, which is a monitoring system that Pepr uses to collect metrics.\u003C/p>\n\u003Cp>This tutorial is not intended for production, but instead is intended to show how to quickly scrape Pepr metrics. The \u003Ca href=\"https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack\">Kube Prometheus Stack\u003C/a> provides a starting point for a more production suitable way of deploying Prometheus in prod.\u003C/p>\n\u003Cp>An example of what the dashboard will look like is shown below:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/pepr-dashboard-screenshot.png\" alt=\"Pepr Dashboard\">\u003C/p>\n\u003Cp>\u003Cem>\u003Cstrong>Note:\u003C/strong>\u003C/em> \u003Cem>The dashboard shown above is an example of what the dashboard will look like. The dashboard will be populated with data from your Pepr instance.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"steps\">Steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-1-get-cluster-running-with-your-pepr-module-deployed\">Step 1. Get Cluster Running With Your Pepr Module Deployed\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-1-get-cluster-running-with-your-pepr-module-deployed\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 1. Get Cluster Running With Your Pepr Module Deployed”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can learn more about how to create a Pepr module and deploy it in the \u003Ca href=\"create-pepr-module/\">Create a Pepr Module\u003C/a> tutorial. The short version is:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Create your cluster\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Create your module\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Change directory to your module that was created using `npx pepr init`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/hello-pepr.samples.yaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\">#Deploy your module to the cluster\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster createnpx pepr initnpx pepr  devkubectl apply -f capabilities/hello-pepr.samples.yamlnpx pepr deploy\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-2-create-and-apply-our-pepr-dashboard-to-the-cluster\">Step 2: Create and Apply Our Pepr Dashboard to the Cluster\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-2-create-and-apply-our-pepr-dashboard-to-the-cluster\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 2: Create and Apply Our Pepr Dashboard to the Cluster”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a new file called grafana-dashboard.yaml and add the following content:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ConfigMap\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">default\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">data\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr-dashboard.json\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">|\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"__inputs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"DS_PROMETHEUS\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"label\": \"Prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"datasource\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginId\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginName\": \"Prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"__elements\": {},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"__requires\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"9.1.6\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"datasource\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"1.0.0\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"panel\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"stat\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Stat\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"panel\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": \"timeseries\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Time series\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": \"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"annotations\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"list\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"builtIn\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"grafana\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"-- Grafana --\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"enable\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"iconColor\": \"rgba(0, 211, 255, 1)\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"name\": \"Annotations &#x26; Alerts\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"target\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"limit\": 100,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"matchAny\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tags\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"dashboard\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"dashboard\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editable\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fiscalYearStartMonth\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphTooltip\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": null,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"links\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"liveNow\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"panels\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"collapsed\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 24,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 0\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 18,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"panels\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr Status\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"row\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Pepr pod status by pod\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"thresholds\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"0\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"index\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": \"Down\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"1\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"index\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": \"Up\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"value\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"match\": \"empty\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"result\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"blue\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"index\": 2,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": \"?\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"special\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 14,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"none\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"up{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"up{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr Status\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"palette-classic\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"custom\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisCenteredZero\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisColorMode\": \"text\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisLabel\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"axisPlacement\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"barAlignment\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"drawStyle\": \"line\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fillOpacity\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gradientMode\": \"none\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hideFrom\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legend\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tooltip\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"viz\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"lineInterpolation\": \"linear\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"lineWidth\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pointSize\": 5,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"scaleDistribution\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"linear\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"showPoints\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"spanNulls\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"stacking\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"group\": \"A\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"none\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholdsStyle\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"off\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legend\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"displayMode\": \"list\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"placement\": \"bottom\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"showLegend\": true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tooltip\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"single\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"sort\": \"none\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"scrape_duration_seconds{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"scrape_duration_seconds{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Scrape Duration Seconds\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"timeseries\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"collapsed\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 1,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 24,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 9\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"panels\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Error, Alert, Validate and Mutate Counts\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"row\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"server\\\"}[$__rate_interval]))\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"count by(instance) (rate(pepr_errors{container=\\\"watcher\\\"}[$__rate_interval]))\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Error Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Count of Pepr Alerts by pod\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-yellow\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 10,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_alerts{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_alerts{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Alert Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Count of Pepr Validate actions by pod\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-purple\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 12,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 4,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 66\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"auto\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"exemplar\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_validate_count{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"instant\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_validate_sum{container=\\\"watcher\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Validate Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"description\": \"Count of Pepr mutate actions applied by pod.\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fieldConfig\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"defaults\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fixedColor\": \"dark-blue\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"fixed\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mappings\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"min\": 0,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"thresholds\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"mode\": \"absolute\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"steps\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"green\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"color\": \"red\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"value\": 80\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">                \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"overrides\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"gridPos\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"h\": 8,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"w\": 6,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"x\": 18,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"y\": 10\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"id\": 2,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"options\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"colorMode\": \"value\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"graphMode\": \"area\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"justifyMode\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"orientation\": \"auto\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"reduceOptions\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"calcs\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"last\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"fields\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"values\": false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"text\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"titleSize\": 16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"valueSize\": 70\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"textMode\": \"value_and_name\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"pluginVersion\": \"9.1.6\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"targets\": [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"pepr_mutate_count{container=\\\"server\\\"}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"A\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"datasource\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"prometheus\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">              \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"prometheus\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"editorMode\": \"builder\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"expr\": \"rate(pepr_mutate_count{container=\\\"watcher\\\"}[24h])\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"hide\": false,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"legendFormat\": \"{{instance}}\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"range\": true,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">            \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"refId\": \"B\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr: Mutate Count\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"type\": \"stat\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"schemaVersion\": 37,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"style\": \"dark\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"tags\": [],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"templating\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"list\": []\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"time\": {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"from\": \"now-24h\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"to\": \"now\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"timepicker\": {},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"timezone\": \"\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"title\": \"Pepr Dashboard\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"uid\": \"j7BjgMpIk\",\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"version\": 17,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">\"weekStart\": \"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"apiVersion: v1kind: ConfigMapmetadata:  name: pepr-dashboard  namespace: defaultdata:  pepr-dashboard.json: |    {    &#x22;__inputs&#x22;: [      {        &#x22;name&#x22;: &#x22;DS_PROMETHEUS&#x22;,        &#x22;label&#x22;: &#x22;Prometheus&#x22;,        &#x22;description&#x22;: &#x22;&#x22;,        &#x22;type&#x22;: &#x22;datasource&#x22;,        &#x22;pluginId&#x22;: &#x22;prometheus&#x22;,        &#x22;pluginName&#x22;: &#x22;Prometheus&#x22;      }    ],    &#x22;__elements&#x22;: {},    &#x22;__requires&#x22;: [      {        &#x22;type&#x22;: &#x22;grafana&#x22;,        &#x22;id&#x22;: &#x22;grafana&#x22;,        &#x22;name&#x22;: &#x22;Grafana&#x22;,        &#x22;version&#x22;: &#x22;9.1.6&#x22;      },      {        &#x22;type&#x22;: &#x22;datasource&#x22;,        &#x22;id&#x22;: &#x22;prometheus&#x22;,        &#x22;name&#x22;: &#x22;Prometheus&#x22;,        &#x22;version&#x22;: &#x22;1.0.0&#x22;      },      {        &#x22;type&#x22;: &#x22;panel&#x22;,        &#x22;id&#x22;: &#x22;stat&#x22;,        &#x22;name&#x22;: &#x22;Stat&#x22;,        &#x22;version&#x22;: &#x22;&#x22;      },      {        &#x22;type&#x22;: &#x22;panel&#x22;,        &#x22;id&#x22;: &#x22;timeseries&#x22;,        &#x22;name&#x22;: &#x22;Time series&#x22;,        &#x22;version&#x22;: &#x22;&#x22;      }    ],    &#x22;annotations&#x22;: {      &#x22;list&#x22;: [        {          &#x22;builtIn&#x22;: 1,          &#x22;datasource&#x22;: {            &#x22;type&#x22;: &#x22;grafana&#x22;,            &#x22;uid&#x22;: &#x22;-- Grafana --&#x22;          },          &#x22;enable&#x22;: true,          &#x22;hide&#x22;: true,          &#x22;iconColor&#x22;: &#x22;rgba(0, 211, 255, 1)&#x22;,          &#x22;name&#x22;: &#x22;Annotations &#x26; Alerts&#x22;,          &#x22;target&#x22;: {            &#x22;limit&#x22;: 100,            &#x22;matchAny&#x22;: false,            &#x22;tags&#x22;: [],            &#x22;type&#x22;: &#x22;dashboard&#x22;          },          &#x22;type&#x22;: &#x22;dashboard&#x22;        }      ]    },    &#x22;editable&#x22;: true,    &#x22;fiscalYearStartMonth&#x22;: 0,    &#x22;graphTooltip&#x22;: 0,    &#x22;id&#x22;: null,    &#x22;links&#x22;: [],    &#x22;liveNow&#x22;: false,    &#x22;panels&#x22;: [      {        &#x22;collapsed&#x22;: false,        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 1,          &#x22;w&#x22;: 24,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 0        },        &#x22;id&#x22;: 18,        &#x22;panels&#x22;: [],        &#x22;title&#x22;: &#x22;Pepr Status&#x22;,        &#x22;type&#x22;: &#x22;row&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Pepr pod status by pod&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;mode&#x22;: &#x22;thresholds&#x22;            },            &#x22;mappings&#x22;: [              {                &#x22;options&#x22;: {                  &#x22;0&#x22;: {                    &#x22;color&#x22;: &#x22;red&#x22;,                    &#x22;index&#x22;: 1,                    &#x22;text&#x22;: &#x22;Down&#x22;                  },                  &#x22;1&#x22;: {                    &#x22;color&#x22;: &#x22;green&#x22;,                    &#x22;index&#x22;: 0,                    &#x22;text&#x22;: &#x22;Up&#x22;                  }                },                &#x22;type&#x22;: &#x22;value&#x22;              },              {                &#x22;options&#x22;: {                  &#x22;match&#x22;: &#x22;empty&#x22;,                  &#x22;result&#x22;: {                    &#x22;color&#x22;: &#x22;blue&#x22;,                    &#x22;index&#x22;: 2,                    &#x22;text&#x22;: &#x22;?&#x22;                  }                },                &#x22;type&#x22;: &#x22;special&#x22;              }            ],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 12,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 1        },        &#x22;id&#x22;: 14,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;none&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;up{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;up{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr Status&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;mode&#x22;: &#x22;palette-classic&#x22;            },            &#x22;custom&#x22;: {              &#x22;axisCenteredZero&#x22;: false,              &#x22;axisColorMode&#x22;: &#x22;text&#x22;,              &#x22;axisLabel&#x22;: &#x22;&#x22;,              &#x22;axisPlacement&#x22;: &#x22;auto&#x22;,              &#x22;barAlignment&#x22;: 0,              &#x22;drawStyle&#x22;: &#x22;line&#x22;,              &#x22;fillOpacity&#x22;: 0,              &#x22;gradientMode&#x22;: &#x22;none&#x22;,              &#x22;hideFrom&#x22;: {                &#x22;legend&#x22;: false,                &#x22;tooltip&#x22;: false,                &#x22;viz&#x22;: false              },              &#x22;lineInterpolation&#x22;: &#x22;linear&#x22;,              &#x22;lineWidth&#x22;: 1,              &#x22;pointSize&#x22;: 5,              &#x22;scaleDistribution&#x22;: {                &#x22;type&#x22;: &#x22;linear&#x22;              },              &#x22;showPoints&#x22;: &#x22;auto&#x22;,              &#x22;spanNulls&#x22;: false,              &#x22;stacking&#x22;: {                &#x22;group&#x22;: &#x22;A&#x22;,                &#x22;mode&#x22;: &#x22;none&#x22;              },              &#x22;thresholdsStyle&#x22;: {                &#x22;mode&#x22;: &#x22;off&#x22;              }            },            &#x22;mappings&#x22;: [],            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 12,          &#x22;x&#x22;: 12,          &#x22;y&#x22;: 1        },        &#x22;id&#x22;: 12,        &#x22;options&#x22;: {          &#x22;legend&#x22;: {            &#x22;calcs&#x22;: [],            &#x22;displayMode&#x22;: &#x22;list&#x22;,            &#x22;placement&#x22;: &#x22;bottom&#x22;,            &#x22;showLegend&#x22;: true          },          &#x22;tooltip&#x22;: {            &#x22;mode&#x22;: &#x22;single&#x22;,            &#x22;sort&#x22;: &#x22;none&#x22;          }        },        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;scrape_duration_seconds{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;scrape_duration_seconds{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Scrape Duration Seconds&#x22;,        &#x22;type&#x22;: &#x22;timeseries&#x22;      },      {        &#x22;collapsed&#x22;: false,        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 1,          &#x22;w&#x22;: 24,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 9        },        &#x22;id&#x22;: 6,        &#x22;panels&#x22;: [],        &#x22;title&#x22;: &#x22;Error, Alert, Validate and Mutate Counts&#x22;,        &#x22;type&#x22;: &#x22;row&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-red&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 0,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 16,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;count by(instance) (rate(pepr_errors{container=\\&#x22;server\\&#x22;}[$__rate_interval]))&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;count by(instance) (rate(pepr_errors{container=\\&#x22;watcher\\&#x22;}[$__rate_interval]))&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Error Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Count of Pepr Alerts by pod&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-yellow&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 6,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 10,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_alerts{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_alerts{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Alert Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Count of Pepr Validate actions by pod&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-purple&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 12,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 4,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 66          },          &#x22;textMode&#x22;: &#x22;auto&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;exemplar&#x22;: false,            &#x22;expr&#x22;: &#x22;pepr_validate_count{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;instant&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_validate_sum{container=\\&#x22;watcher\\&#x22;}&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Validate Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      },      {        &#x22;datasource&#x22;: {          &#x22;type&#x22;: &#x22;prometheus&#x22;,          &#x22;uid&#x22;: &#x22;prometheus&#x22;        },        &#x22;description&#x22;: &#x22;Count of Pepr mutate actions applied by pod.&#x22;,        &#x22;fieldConfig&#x22;: {          &#x22;defaults&#x22;: {            &#x22;color&#x22;: {              &#x22;fixedColor&#x22;: &#x22;dark-blue&#x22;,              &#x22;mode&#x22;: &#x22;fixed&#x22;            },            &#x22;mappings&#x22;: [],            &#x22;min&#x22;: 0,            &#x22;thresholds&#x22;: {              &#x22;mode&#x22;: &#x22;absolute&#x22;,              &#x22;steps&#x22;: [                {                  &#x22;color&#x22;: &#x22;green&#x22;,                  &#x22;value&#x22;: null                },                {                  &#x22;color&#x22;: &#x22;red&#x22;,                  &#x22;value&#x22;: 80                }              ]            }          },          &#x22;overrides&#x22;: []        },        &#x22;gridPos&#x22;: {          &#x22;h&#x22;: 8,          &#x22;w&#x22;: 6,          &#x22;x&#x22;: 18,          &#x22;y&#x22;: 10        },        &#x22;id&#x22;: 2,        &#x22;options&#x22;: {          &#x22;colorMode&#x22;: &#x22;value&#x22;,          &#x22;graphMode&#x22;: &#x22;area&#x22;,          &#x22;justifyMode&#x22;: &#x22;auto&#x22;,          &#x22;orientation&#x22;: &#x22;auto&#x22;,          &#x22;reduceOptions&#x22;: {            &#x22;calcs&#x22;: [              &#x22;last&#x22;            ],            &#x22;fields&#x22;: &#x22;&#x22;,            &#x22;values&#x22;: false          },          &#x22;text&#x22;: {            &#x22;titleSize&#x22;: 16,            &#x22;valueSize&#x22;: 70          },          &#x22;textMode&#x22;: &#x22;value_and_name&#x22;        },        &#x22;pluginVersion&#x22;: &#x22;9.1.6&#x22;,        &#x22;targets&#x22;: [          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;pepr_mutate_count{container=\\&#x22;server\\&#x22;}&#x22;,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;A&#x22;          },          {            &#x22;datasource&#x22;: {              &#x22;type&#x22;: &#x22;prometheus&#x22;,              &#x22;uid&#x22;: &#x22;prometheus&#x22;            },            &#x22;editorMode&#x22;: &#x22;builder&#x22;,            &#x22;expr&#x22;: &#x22;rate(pepr_mutate_count{container=\\&#x22;watcher\\&#x22;}[24h])&#x22;,            &#x22;hide&#x22;: false,            &#x22;legendFormat&#x22;: &#x22;{{instance}}&#x22;,            &#x22;range&#x22;: true,            &#x22;refId&#x22;: &#x22;B&#x22;          }        ],        &#x22;title&#x22;: &#x22;Pepr: Mutate Count&#x22;,        &#x22;type&#x22;: &#x22;stat&#x22;      }    ],    &#x22;schemaVersion&#x22;: 37,    &#x22;style&#x22;: &#x22;dark&#x22;,    &#x22;tags&#x22;: [],    &#x22;templating&#x22;: {      &#x22;list&#x22;: []    },    &#x22;time&#x22;: {      &#x22;from&#x22;: &#x22;now-24h&#x22;,      &#x22;to&#x22;: &#x22;now&#x22;    },    &#x22;timepicker&#x22;: {},    &#x22;timezone&#x22;: &#x22;&#x22;,    &#x22;title&#x22;: &#x22;Pepr Dashboard&#x22;,    &#x22;uid&#x22;: &#x22;j7BjgMpIk&#x22;,    &#x22;version&#x22;: 17,    &#x22;weekStart&#x22;: &#x22;&#x22;    }\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now, apply the grafana-dashboard.yaml file to the cluster:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">grafana-dashboard.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl apply -f grafana-dashboard.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-3-install-prometheus-and-grafana-using-the-kube-prometheus-stack-helm-chart\">Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-3-install-prometheus-and-grafana-using-the-kube-prometheus-stack-helm-chart\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 3: Install Prometheus and Grafana using the kube-prometheus-stack Helm Chart”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>First, create a values.yaml file to add our endpoints to Prometheus and allow us to see our dashboard.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">prometheus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">enabled\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">additionalServiceMonitors\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admission\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchLabels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr.dev/controller\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admission\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespaceSelector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchNames\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">endpoints\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">targetPort\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3000\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">scheme\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">tlsConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">            \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">insecureSkipVerify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watcher\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchLabels\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">pepr.dev/controller\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watcher\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespaceSelector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">matchNames\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">          \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">endpoints\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">targetPort\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3000\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">scheme\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">tlsConfig\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">            \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">insecureSkipVerify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">additionalClusterRoleBindings\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">scrape-binding\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">roleRef\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroup\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rbac.authorization.k8s.io\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterRole\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">scrape-resources\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">subjects\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ServiceAccount\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">prometheus-operator\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">default\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">grafana\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">enabled\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">adminUser\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admin\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">adminPassword\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">secret\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">defaultDashboardsTimezone\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">browser\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">extraVolumeMounts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">mountPath\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/var/lib/grafana/dashboards\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">extraVolumes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">configMap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">dashboardProviders\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">dashboardproviders.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">providers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">default\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">isDefault\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">orgId\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">folder\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">type\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">file\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">disableDeletion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">false\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">editable\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">options\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">          \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">path\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/var/lib/grafana/dashboards/default\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">dashboardsConfigMaps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">default\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dashboard\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"prometheus:  enabled: true  additionalServiceMonitors:    - name: admission      selector:        matchLabels:          pepr.dev/controller: admission      namespaceSelector:        matchNames:          - pepr-system      endpoints:        - targetPort: 3000          scheme: https          tlsConfig:            insecureSkipVerify: true    - name: watcher      selector:        matchLabels:          pepr.dev/controller: watcher      namespaceSelector:        matchNames:          - pepr-system      endpoints:        - targetPort: 3000          scheme: https          tlsConfig:            insecureSkipVerify: true  additionalClusterRoleBindings:    - name: scrape-binding      roleRef:        apiGroup: rbac.authorization.k8s.io        kind: ClusterRole        name: scrape-resources      subjects:      - kind: ServiceAccount        name: prometheus-operator        namespace: defaultgrafana:  enabled: true  adminUser: admin  adminPassword: secret  defaultDashboardsTimezone: browser  extraVolumeMounts:    - mountPath: /var/lib/grafana/dashboards      name: pepr-dashboard  extraVolumes:    - name: pepr-dashboard      configMap:        name: pepr-dashboard  dashboardProviders:    dashboardproviders.yaml:      apiVersion: 1      providers:      - name: &#x27;default&#x27;        isDefault: true        orgId: 1        folder: &#x27;&#x27;        type: file        disableDeletion: false        editable: true        options:          path: /var/lib/grafana/dashboards/default  dashboardsConfigMaps:    default: pepr-dashboard\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now, install the kube-prometheus-stack Helm Chart using the values.yaml file we created.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">helm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">install\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">values.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitoring\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">prometheus-community/kube-prometheus-stack\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"helm install -f values.yaml monitoring prometheus-community/kube-prometheus-stack\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-4-check-on-services\">Step 4: Check on Services\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-4-check-on-services\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 4: Check on Services”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get svc\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You should see something similar to the following services:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">$\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">TYPE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">CLUSTER-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">EXTERNAL-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">PORT\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">S\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubernetes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                                \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.0.1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">443/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">99m\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-prometheus-prometheus\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.116.49\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9090/TCP,8080/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-state-metrics\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">             \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.232.84\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">8080/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-grafana\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.82.67\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">80/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-prometheus-operator\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.197.97\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">443/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-kube-prometheus-alertmanager\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.40.24\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9093/TCP,8080/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">monitoring-prometheus-node-exporter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.152.179\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9100/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">alertmanager-operated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">None\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9093/TCP,9094/TCP,9094/UDP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">prometheus-operated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">None\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">9090/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                     \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">81s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"$ kubectl get svcNAME                                      TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                      AGEkubernetes                                ClusterIP   10.43.0.1       \u003Cnone>        443/TCP                      99mmonitoring-kube-prometheus-prometheus     ClusterIP   10.43.116.49    \u003Cnone>        9090/TCP,8080/TCP            81smonitoring-kube-state-metrics             ClusterIP   10.43.232.84    \u003Cnone>        8080/TCP                     81smonitoring-grafana                        ClusterIP   10.43.82.67     \u003Cnone>        80/TCP                       81smonitoring-kube-prometheus-operator       ClusterIP   10.43.197.97    \u003Cnone>        443/TCP                      81smonitoring-kube-prometheus-alertmanager   ClusterIP   10.43.40.24     \u003Cnone>        9093/TCP,8080/TCP            81smonitoring-prometheus-node-exporter       ClusterIP   10.43.152.179   \u003Cnone>        9100/TCP                     81salertmanager-operated                     ClusterIP   None            \u003Cnone>        9093/TCP,9094/TCP,9094/UDP   81sprometheus-operated                       ClusterIP   None            \u003Cnone>        9090/TCP                     81s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-5-port-forward-prometheus-and-grafana-services\">Step 5: Port Forward Prometheus and Grafana Services\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-5-port-forward-prometheus-and-grafana-services\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 5: Port Forward Prometheus and Grafana Services”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">service/prometheus-operated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">9090\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward service/prometheus-operated 9090\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">service/monitoring-grafana\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">3000:80\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward service/monitoring-grafana 3000:80\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-6-view-prometheus-metrics-targets\">Step 6: View Prometheus Metrics Targets\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-6-view-prometheus-metrics-targets\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 6: View Prometheus Metrics Targets”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You should be able to see the Pepr targets in the Prometheus UI by visiting the following URL:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"plaintext\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">http://localhost:9090/targets\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"http://localhost:9090/targets\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The targets should look something like this:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/admission-endpoint.png\" alt=\"Admission Endpoints\">\n\u003Cimg src=\"/assets/watcher-endpoint.png\" alt=\"Watcher Endpoint\">\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"step-7-test-the-prometheus-connection-in-grafana\">Step 7: Test the Prometheus Connection in Grafana\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#step-7-test-the-prometheus-connection-in-grafana\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Step 7: Test the Prometheus Connection in Grafana”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You should be able to test the Prometheus connection in the Grafana UI by visiting the following URL:\u003C/p>\n\u003Cp>\u003Ca href=\"http://localhost:3000/connections/datasources\">http://localhost:3000/connections/datasources\u003C/a>\u003C/p>\n\u003Cp>The login information for Grafana was set in the values.yaml file:\u003C/p>\n\u003Cp>username: admin\npassword: secret\u003C/p>\n\u003Cp>By clicking on the Prometheus data source, you should be able to test the connection to Prometheus by clicking the “Test” button at the bottom of the screen.\u003C/p>\n\u003Cp>NOTE: The Prometheus server URL should be something like:\u003C/p>\n\u003Cp>\u003Ca href=\"http://monitoring-kube-prometh-prometheus.default:9090/\">http://monitoring-kube-prometh-prometheus.default:9090/\u003C/a>\u003C/p>\n\u003Cp>You should now be able to select the Pepr Dashboard from the Grafana UI in the “Dashboards” section.\u003C/p>\n\u003Cp>Note: The dashboard may take a few minutes to populate with data.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"summary\">Summary\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#summary\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Summary”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial demonstrated how to use Prometheus and Grafana to display metrics from your Pepr instance. If you have questions about Pepr metrics or dashboards, please reach out to us on \u003Ca href=\"https://kubernetes.slack.com/archives/C06DGH40UCB\">Slack\u003C/a> or \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">GitHub Issues\u003C/a>\u003C/p>",{"headings":1893,"localImagePaths":1904,"remoteImagePaths":1905,"frontmatter":1906,"imagePaths":1907},[1894,1895,1896,1897,1898,1899,1900,1901,1902,1903],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":666,"text":667},{"depth":131,"slug":774,"text":775},{"depth":131,"slug":777,"text":778},{"depth":131,"slug":780,"text":781},{"depth":131,"slug":783,"text":784},{"depth":131,"slug":786,"text":787},{"depth":131,"slug":789,"text":790},{"depth":131,"slug":792,"text":793},{"depth":80,"slug":613,"text":614},[],[],{"title":760,"description":760,"slug":1881},[],"v0.54/tutorials/create-pepr-module",{"id":1908,"data":1910,"body":1914,"filePath":1915,"digest":1916,"rendered":1917},{"title":652,"description":652,"editUrl":66,"head":1911,"template":68,"sidebar":1912,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1913},{},"## Introduction\n\nThis tutorial will walk you through the process of creating a Pepr module.\n\nEach Pepr Module is it's own Typescript project, produced by [`npx pepr init`](../../user-guide/pepr-cli#pepr-init). Typically a module is maintained by a unique group or system. For example, a module for internal [Zarf](https://zarf.dev/) mutations would be different from a module for [Big Bang](https://p1.dso.mil/products/big-bang). An important idea with modules is that they are _wholly independent of one another_. This means that 2 different modules can be on completely different versions of Pepr and any other dependencies; their only interaction is through the standard K8s interfaces like any other webhook or controller.\n\n## Prerequisites\n\n## Steps\n\n1. **Create the module**:\n\n   Use [`npx pepr init`](../../user-guide/pepr-cli#pepr-init) to generate a new module.\n\n1. **Quickly validate system setup**:\n\n   Every new module includes a sample Pepr Capability called `HelloPepr`. By default,\n   this capability is deployed and monitoring the `pepr-demo` namespace. There is a sample\n   yaml also included you can use to see Pepr in your cluster. Here's the quick steps to do\n   that after `npx pepr init`:\n\n   ```bash\n   # cd to the newly-created Pepr module folder\n   cd my-module-name\n\n   # If you don't already have a local K8s cluster, you can set one up with k3d\n   npm run k3d-setup\n\n   # Launch pepr dev mode\n   # If using another local K8s distro instead of k3d, use `npx pepr dev --host host.docker.internal`\n   npx pepr dev\n\n   # From another terminal, apply the sample yaml\n   kubectl apply -f capabilities/hello-pepr.samples.yaml\n\n   # Verify the configmaps were transformed using kubectl, k9s or another tool\n   ```\n\n1. **Create your custom Pepr Capabilities**\n\n   Now that you have confirmed Pepr is working, you can now create new [capabilities](../../user-guide/capabilities/). You'll also want to disable the `HelloPepr` capability in your module (`pepr.ts`) before pushing to production. You can disable by commenting out or deleting the `HelloPepr` variable below:\n\n   ```typescript\n   new PeprModule(cfg, [\n     // Remove or comment the line below to disable the HelloPepr capability\n     HelloPepr,\n\n     // Your additional capabilities go here\n   ]);\n   ```\n\n   _Note: if you also delete the `capabilities/hello-pepr.ts` file, it will be added again on the next [`npx pepr update`](../../user-guide/pepr-cli#pepr-update) so you have the latest examples usages from the Pepr SDK. Therefore, it is sufficient to remove the entry from your `pepr.ts` module\n   config._\n\n1. **Build and deploy the Pepr Module**\n\n   Most of the time, you'll likely be iterating on a module with `npx pepr dev` for real-time feedback and validation Once you are ready to move beyond the local dev environment, Pepr provides deployment and build tools you can use.\n\n   `npx pepr deploy` - you can use this command to build your module and deploy it into any K8s cluster your current `kubecontext` has access to. This setup is ideal for CI systems during testing, but is not recommended for production use. See [`npx pepr deploy`](../../user-guide/pepr-cli#pepr-deploy) for more info.\n\n## Additional Information\n\nBy default, when you run `npx pepr init`, the module is not configured with any additional options. Currently, there are 3 options you can configure:\n\n- `deferStart` - if set to `true`, the module will not start automatically. You will need to call `start()` manually. This is useful if you want to do some additional setup before the module controller starts. You can also use this to change the default port that the controller listens on.\n\n- `beforeHook` - an optional callback that will be called before every request is processed. This is useful if you want to do some additional logging or validation before the request is processed.\n\n- `afterHook` - an optional callback that will be called after every request is processed. This is useful if you want to do some additional logging or validation after the request is processed.\n\nYou can configure each of these by modifying the `pepr.ts` file in your module. Here's an example of how you would configure each of these options:\n\n```typescript\nconst module = new PeprModule(\n  cfg,\n  [\n    // Your capabilities go here\n  ],\n  {\n    deferStart: true,\n\n    beforeHook: req => {\n      // Any actions you want to perform before the request is processed, including modifying the request.\n    },\n\n    afterHook: res => {\n      // Any actions you want to perform after the request is processed, including modifying the response.\n    },\n  }\n);\n\n// Do any additional setup before starting the controller\nmodule.start();\n```\n\n## Summary\n\nCheckout some examples of Pepr modules in the [excellent examples repo](https://github.com/defenseunicorns/pepr-excellent-examples). If you have questions after that, please reach out to us on [Slack](https://kubernetes.slack.com/archives/C06DGH40UCB) or [GitHub Issues](https://github.com/defenseunicorns/pepr/issues)","src/content/docs/v0.54/tutorials/create-pepr-module.md","4280f33543524a9e",{"html":1918,"metadata":1919},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial will walk you through the process of creating a Pepr module.\u003C/p>\n\u003Cp>Each Pepr Module is it’s own Typescript project, produced by \u003Ca href=\"../../user-guide/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>. Typically a module is maintained by a unique group or system. For example, a module for internal \u003Ca href=\"https://zarf.dev/\">Zarf\u003C/a> mutations would be different from a module for \u003Ca href=\"https://p1.dso.mil/products/big-bang\">Big Bang\u003C/a>. An important idea with modules is that they are \u003Cem>wholly independent of one another\u003C/em>. This means that 2 different modules can be on completely different versions of Pepr and any other dependencies; their only interaction is through the standard K8s interfaces like any other webhook or controller.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prerequisites\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prerequisites”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"steps\">Steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Create the module\u003C/strong>:\u003C/p>\n\u003Cp>Use \u003Ca href=\"../../user-guide/pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a> to generate a new module.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Quickly validate system setup\u003C/strong>:\u003C/p>\n\u003Cp>Every new module includes a sample Pepr Capability called \u003Ccode dir=\"auto\">HelloPepr\u003C/code>. By default,\nthis capability is deployed and monitoring the \u003Ccode dir=\"auto\">pepr-demo\u003C/code> namespace. There is a sample\nyaml also included you can use to see Pepr in your cluster. Here’s the quick steps to do\nthat after \u003Ccode dir=\"auto\">npx pepr init\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># cd to the newly-created Pepr module folder\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">cd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">my-module-name\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If you don't already have a local K8s cluster, you can set one up with k3d\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">k3d-setup\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Launch pepr dev mode\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># If using another local K8s distro instead of k3d, use `npx pepr dev --host host.docker.internal`\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># From another terminal, apply the sample yaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/hello-pepr.samples.yaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Verify the configmaps were transformed using kubectl, k9s or another tool\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"cd my-module-namenpm run k3d-setupnpx pepr devkubectl apply -f capabilities/hello-pepr.samples.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Create your custom Pepr Capabilities\u003C/strong>\u003C/p>\n\u003Cp>Now that you have confirmed Pepr is working, you can now create new \u003Ca href=\"../../user-guide/capabilities/\">capabilities\u003C/a>. You’ll also want to disable the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability in your module (\u003Ccode dir=\"auto\">pepr.ts\u003C/code>) before pushing to production. You can disable by commenting out or deleting the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> variable below:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PeprModule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cfg, [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Remove or comment the line below to disable the HelloPepr capability\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">HelloPepr,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Your additional capabilities go here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"new PeprModule(cfg, [  // Remove or comment the line below to disable the HelloPepr capability  HelloPepr,  // Your additional capabilities go here]);\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cem>Note: if you also delete the \u003Ccode dir=\"auto\">capabilities/hello-pepr.ts\u003C/code> file, it will be added again on the next \u003Ca href=\"../../user-guide/pepr-cli#pepr-update\">\u003Ccode dir=\"auto\">npx pepr update\u003C/code>\u003C/a> so you have the latest examples usages from the Pepr SDK. Therefore, it is sufficient to remove the entry from your \u003Ccode dir=\"auto\">pepr.ts\u003C/code> module\nconfig.\u003C/em>\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Build and deploy the Pepr Module\u003C/strong>\u003C/p>\n\u003Cp>Most of the time, you’ll likely be iterating on a module with \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> for real-time feedback and validation Once you are ready to move beyond the local dev environment, Pepr provides deployment and build tools you can use.\u003C/p>\n\u003Cp>\u003Ccode dir=\"auto\">npx pepr deploy\u003C/code> - you can use this command to build your module and deploy it into any K8s cluster your current \u003Ccode dir=\"auto\">kubecontext\u003C/code> has access to. This setup is ideal for CI systems during testing, but is not recommended for production use. See \u003Ca href=\"../../user-guide/pepr-cli#pepr-deploy\">\u003Ccode dir=\"auto\">npx pepr deploy\u003C/code>\u003C/a> for more info.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"additional-information\">Additional Information\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#additional-information\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Additional Information”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By default, when you run \u003Ccode dir=\"auto\">npx pepr init\u003C/code>, the module is not configured with any additional options. Currently, there are 3 options you can configure:\u003C/p>\n\u003Cul>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">deferStart\u003C/code> - if set to \u003Ccode dir=\"auto\">true\u003C/code>, the module will not start automatically. You will need to call \u003Ccode dir=\"auto\">start()\u003C/code> manually. This is useful if you want to do some additional setup before the module controller starts. You can also use this to change the default port that the controller listens on.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">beforeHook\u003C/code> - an optional callback that will be called before every request is processed. This is useful if you want to do some additional logging or validation before the request is processed.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">afterHook\u003C/code> - an optional callback that will be called after every request is processed. This is useful if you want to do some additional logging or validation after the request is processed.\u003C/p>\n\u003C/li>\n\u003C/ul>\n\u003Cp>You can configure each of these by modifying the \u003Ccode dir=\"auto\">pepr.ts\u003C/code> file in your module. Here’s an example of how you would configure each of these options:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">module\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PeprModule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">cfg\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Your capabilities go here\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">deferStart: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">beforeHook\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">: \u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">req\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> => {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Any actions you want to perform before the request is processed, including modifying the request.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">afterHook\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">: \u003C/span>\u003Cspan style=\"--0:#D7DBE0;--1:#403F53\">res\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> => {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Any actions you want to perform after the request is processed, including modifying the response.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Do any additional setup before starting the controller\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">module\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">start\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const module = new PeprModule(  cfg,  [    // Your capabilities go here  ],  {    deferStart: true,    beforeHook: req => {      // Any actions you want to perform before the request is processed, including modifying the request.    },    afterHook: res => {      // Any actions you want to perform after the request is processed, including modifying the response.    },  });// Do any additional setup before starting the controllermodule.start();\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"summary\">Summary\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#summary\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Summary”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Checkout some examples of Pepr modules in the \u003Ca href=\"https://github.com/defenseunicorns/pepr-excellent-examples\">excellent examples repo\u003C/a>. If you have questions after that, please reach out to us on \u003Ca href=\"https://kubernetes.slack.com/archives/C06DGH40UCB\">Slack\u003C/a> or \u003Ca href=\"https://github.com/defenseunicorns/pepr/issues\">GitHub Issues\u003C/a>\u003C/p>",{"headings":1920,"localImagePaths":1926,"remoteImagePaths":1927,"frontmatter":1928,"imagePaths":1929},[1921,1922,1923,1924,1925],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":666,"text":667},{"depth":80,"slug":669,"text":670},{"depth":80,"slug":613,"text":614},[],[],{"title":652,"description":652,"slug":1908},[],"v0.54/tutorials",{"id":1930,"data":1932,"body":1936,"filePath":1937,"digest":1938,"rendered":1939},{"title":493,"description":493,"editUrl":66,"head":1933,"template":68,"sidebar":1934,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1935},{},"In this section, we provide tutorials for using Pepr. These tutorials are:\n\n- [Create a Pepr Module](create-pepr-module/)\n- [Create a Pepr Dashboard](create-pepr-dashboard/)\n- [Create a Pepr Operator](create-pepr-operator/)\n- [Pepr GitOps Workflow](pepr-gitops-workflow/)","src/content/docs/v0.54/tutorials/index.md","030f590ce7753fa8",{"html":1940,"metadata":1941},"\u003Cp>In this section, we provide tutorials for using Pepr. These tutorials are:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"create-pepr-module/\">Create a Pepr Module\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"create-pepr-dashboard/\">Create a Pepr Dashboard\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"create-pepr-operator/\">Create a Pepr Operator\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"pepr-gitops-workflow/\">Pepr GitOps Workflow\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":1942,"localImagePaths":1943,"remoteImagePaths":1944,"frontmatter":1945,"imagePaths":1946},[],[],[],{"title":493,"description":493,"slug":1930},[],"v0.54/tutorials/create-pepr-operator",{"id":1947,"data":1949,"body":1953,"filePath":1954,"digest":1955,"rendered":1956},{"title":802,"description":802,"editUrl":66,"head":1950,"template":68,"sidebar":1951,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1952},{},"## Introduction\n\nThis tutorial guides you through building a Kubernetes Operator using Pepr. You'll create a WebApp Operator that manages custom WebApp resources in your Kubernetes cluster.\n\nIf you get stuck at any point, you can reference the [complete example code in the Pepr Excellent Examples repository](https://github.com/defenseunicorns/pepr-excellent-examples/tree/main/pepr-operator).\n\n## What You'll Build\n\nThe WebApp Operator will:\n\n1. Deploy a custom `WebApp` resource definition (CRD)\n2. Watch for WebApp instances and reconcile them with the actual cluster state\n3. For each WebApp instance, manage:\n   - A `Deployment` with configurable replicas\n   - A `Service` to expose the application\n   - A `ConfigMap` containing configurable HTML with language and theme options\n\nAll resources will include `ownerReferences`, triggering cascading deletion when a WebApp is removed. The operator will also automatically restore any managed resources that are deleted externally.\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Prerequisites\n\n- A Kubernetes cluster (local or remote)\n- Access to the `curl` command\n- Basic understanding of Kubernetes concepts\n- Familiarity with TypeScript\n- Node.js ≥ 20.0\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Tutorial Steps\n\n1. [Create a new Pepr Module](#create-a-new-pepr-module)\n2. [Define the WebApp CRD](#create-crd)\n3. [Create Helper Functions](#create-helpers)\n4. [Implement the Reconciler](#create-reconciler)\n5. [Build and Deploy Your Operator](#build-and-deploy-your-operator)\n6. [Test Your Operator](#test-your-operator)\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create a new Pepr Module\n\n**[🟢⚪⚪⚪⚪⚪] Step 1 of 6**\n\nFirst, create a new Pepr module for your operator:\n\n\n```bash\nnpx pepr init \\\n  --name operator \\\n  --uuid my-operator-uuid \\\n  --description \"Kubernetes Controller for WebApp Resources\" \\\n  --error-behavior reject \\\n  --yes &&\ncd operator # set working directory as the new pepr module\n```\n\n\nTo track your progress in this tutorial, let's treat it as a `git` repository:\n\n```bash\ngit init && git add --all && git commit -m \"npx pepr init\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create CRD\n\n**[🟢🟢⚪⚪⚪⚪] Step 2 of 6**\n\nThe WebApp Custom Resource Definition (CRD) specifies the structure and validation for your custom resource.\nCreate the necessary directory structure:\n\n\n```bash\nmkdir -p capabilities/crd/generated capabilities/crd/source\n```\n\n\nGenerate a class based on the WebApp CRD using [kubernetes-fluent-client](https://github.com/defenseunicorns/kubernetes-fluent-client).\nThis allows us to react to the CRD fields in a type-safe manner.\nCreate a CRD named `crd.yaml` for the WebApp that includes:\n\n- Theme selection (dark/light)\n- Language selection (en/es)\n- Configurable replica count\n- Status tracking\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/crd.yaml \\\n  -o capabilities/crd/source/crd.yaml\n```\n\n\nExamine the contents of `capabilities/crd/source/crd.yaml`.\nNote that the status should be listed under `subresources` to make it writable.\nWe provide descriptions for each property to clarify their purpose.\nEnums are used to restrict the values that can be assigned to a property.\n\nCreate an interface for the CRD spec with the following command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/generated/webapp-v1alpha1.ts \\\n  -o capabilities/crd/generated/webapp-v1alpha1.ts\n```\n\n\nExamine the contents of `capabilities/crd/generated/webapp-v1alpha1.ts`.\n\nCreate a TypeScript file that contains the WebApp CRD named `webapp.crd.ts`.\nThis will enable the controller to automatically create the CRD on startup.\nUse the command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/webapp.crd.ts \\\n  -o capabilities/crd/source/webapp.crd.ts\n```\n\n\nTake a moment to commit your changes for CRD creation:\n\n```bash\ngit add capabilities/crd/ && git commit -m \"Create WebApp CRD\"\n```\n\nThe `webapp.crd.ts` file defines the structure of our CRD, including the validation rules and schema that Kubernetes will use when WebApp resources are created or modified.\n\nCreate a file that will automatically register the CRD on startup named `capabilities/crd/register.ts`:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/register.ts \\\n  -o capabilities/crd/register.ts\n```\n\n\nThe `register.ts` file contains logic to ensure our CRD is created in the cluster when the operator starts up, avoiding the need for manual CRD installation.\n\nCreate a file to validate that WebApp instances are in valid namespaces and have a maximum of `7` replicas.\nCreate a `validator.ts` file with the command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/validator.ts \\\n  -o capabilities/crd/validator.ts\n```\n\n\nThe `validator.ts` file implements validation logic for our WebApp resources, ensuring they meet our requirements before they're accepted by the cluster.\n\nIn this section, we've generated the CRD class for WebApp, created a function to automatically register the CRD, and added a validator to ensure WebApp instances are in valid namespaces and don't exceed 7 replicas.\n\nCommit your changes for CRD registration & validation:\n\n```bash\ngit add capabilities/crd/ && git commit -m \"Create CRD handling logic\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create Helpers\n\n**[🟢🟢🟢⚪⚪⚪] Step 3 of 6**\n\nNow, let's create helper functions that will generate the Kubernetes resources managed by our operator. These helpers will simplify the creation of Deployments, Services, and ConfigMaps for each WebApp instance.\n\nCreate a `controller` folder in the `capabilities` folder and create a `generators.ts` file. This file will contain functions that generate Kubernetes objects for the operator to deploy (with the ownerReferences automatically included). Since these resources are owned by the WebApp resource, they will be deleted when the WebApp resource is deleted.\n\n\n```bash\nmkdir -p capabilities/controller\n```\n\n\nCreate `generators.ts` with the following command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/controller/generators.ts \\\n  -o capabilities/controller/generators.ts\n```\n\n\nThe `generators.ts` file contains functions to create all the necessary Kubernetes resources for our WebApp, including properly configured Deployments, Services, and ConfigMaps with appropriate labels and selectors.\n\nOur goal is to simplify WebApp deployment. Instead of requiring users to manage multiple Kubernetes objects, track versions, and handle revisions manually, they can focus solely on the `WebApp` instance. The controller reconciles WebApp instances against the actual cluster state to achieve the desired configuration.\n\nThe controller deploys a `ConfigMap` based on the language and theme specified in the WebApp resource and sets the number of replicas according to the WebApp specification.\n\nCommit your changes for deployment, service, and configmap generation:\n\n```bash\ngit add capabilities/controller/ && git commit -m \"Add generators for WebApp deployments, services, and configmaps\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Create Reconciler\n\n**[🟢🟢🟢🟢⚪⚪] Step 4 of 6**\n\nNow, create the function that reacts to changes in WebApp instances. This function will be called and placed into a queue, guaranteeing ordered and synchronous processing of events, even when the system is under heavy load.\n\nIn the base of the `capabilities` folder, create a `reconciler.ts` file and add the following:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/reconciler.ts \\\n  -o capabilities/reconciler.ts\n```\n\n\nThe `reconciler.ts` file contains the core logic of our operator, handling the creation, updating, and deletion of WebApp resources and ensuring the cluster state matches the desired state.\n\nFinally, create the `index.ts` file in the `capabilities` folder and add the following:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/index.ts \\\n  -o capabilities/index.ts\n```\n\n\nThe `index.ts` file contains the WebAppController capability and the functions that are used to watch for changes to the WebApp resource and corresponding Kubernetes resources.\n\n- When a WebApp is created or updated, validate it, store the name of the instance and enqueue it for processing.\n- If an \"owned\" resource (ConfigMap, Service, or Deployment) is deleted, redeploy it.\n- Always redeploy the WebApp CRD if it was deleted as the controller depends on it\n\nIn this section we created a `reconciler.ts` file that contains the function responsible for reconciling the state of WebApp instances with the cluster and updating their status.\nThe `index.ts` file contains the WebAppController capability and functions that watch for changes to WebApp resources and their corresponding Kubernetes objects.\nThe `Reconcile` action processes callbacks in a queue, guaranteeing ordered and synchronous processing of events.\n\nCommit your changes with:\n\n```bash\ngit add capabilities/ && git commit -m \"Create reconciler for webapps\"\n```\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Add capability to Pepr Module\n\nEnsure that the PeprModule in `pepr.ts` uses `WebAppController`. The implementation should look something like this:\n\n```typescript\nnew PeprModule(cfg, [WebAppController]);\n```\n\nUsing `sed`, replace the contents of the file to use our new `WebAppController`:\n\n\n```bash\n# Use the WebAppController Module\nsed -i '' -e '/new PeprModule(cfg, \\[/,/\\]);/c\\\nnew PeprModule(cfg, [WebAppController]);' ./pepr.ts\n\n# Update Imports\nif [[ \"$OSTYPE\" == \"darwin\"* ]]; then\n  sed -i '' 's|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|' ./pepr.ts\nelse\n  sed -i 's|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|' ./pepr.ts\nfi\n```\n\n\nCommit your changes now that the WebAppController is part of the Pepr Module:\n\n```bash\ngit add pepr.ts && git commit -m \"Register WebAppController with pepr module\"\n```\n\n## Build and Deploy Your Operator\n\n**[🟢🟢🟢🟢🟢⚪] Step 5 of 6**\n\n### Preparing Your Environment\n\nCreate an ephemeral cluster with `k3d`.\n\n```bash\nk3d cluster delete pepr-dev &&\nk3d cluster create pepr-dev --k3s-arg '--debug@server:0' --wait &&\nkubectl rollout status deployment -n kube-system\n```\n\n**What is an ephemeral cluster?**  \nAn ephemeral cluster is a temporary Kubernetes cluster that exists only for testing purposes. Tools like Kind (Kubernetes in Docker) and k3d let you quickly create and destroy clusters without affecting your production environments.\n\n### Update and Prepare Pepr\n\nMake sure Pepr is updated to the latest version:\n\n```bash\nnpx pepr update --skip-template-update\n```\n\n> ⚠️ **Important Note**: Be cautious when updating Pepr in an existing project as it could potentially override custom configurations. The `--skip-template-update` flag helps prevent this.\n\n### Building the Operator\n\nBuild the Pepr module by running:\n\n\n```bash\nnpx pepr format && \nnpx pepr build\n```\n\n\nCommit your changes after the build completes:\n\n```bash\ngit add capabilities/ package*.json && git commit -m \"Build pepr module\"\n```\n\n**The build process explained**  \n\nThe `pepr build` command performs three critical steps:\n\n1. **Compile TypeScript**: Converts your TypeScript code to JavaScript using the settings in tsconfig.json\n2. **Bundle the Operator**: Packages everything into a deployable format using esbuild\n3. **Generate Kubernetes Manifests**: Creates all necessary YAML files in the `dist` directory, including:\n   - Custom Resource Definitions (CRDs)\n   - The controller deployment\n   - ServiceAccounts and RBAC permissions\n   - Any other resources needed for your operator\n\nThis process creates a self-contained deployment unit that includes everything needed to run your operator in a Kubernetes cluster.\n\n```text\n┌─────────────────────┐          ┌──────────────────┐          ┌───────────────────┐\n│                     │          │                  │          │                   │\n│  Your Pepr Code     │────────▶ │  pepr build      │────────▶ │ dist/             │\n│  (TypeScript)       │          │  (Build Process) │          │(Deployment Files) │\n│                     │          │                  │          │                   │\n└─────────────────────┘          └──────────────────┘          └───────────────────┘\n                                                                        │\n                                                                        │\n                                                                        ▼\n                                                               ┌───────────────────┐\n                                                               │                   │\n                                                               │  Kubernetes       │\n                                                               │  Cluster          │\n                                                               │                   │\n                                                               └───────────────────┘\n```\n\n### Deploy to Kubernetes\n\nTo deploy your operator to a Kubernetes cluster:\n\n\n```bash\nkubectl apply -f dist/pepr-module-my-operator-uuid.yaml;\n# Wait for pods to have a status so we can check for readiness\nsleep 10; \nkubectl wait --for=condition=Ready pods -l app -n pepr-system --timeout=120s\n```\n\n\n**What's happening during deployment?**  \n\n1. The first command applies all the Kubernetes resources defined in the YAML file, including:\n   - The WebApp CRD (Custom Resource Definition)\n   - A Deployment that runs your operator code\n   - The necessary RBAC permissions for your operator to function\n\n2. The second command waits for the operator pod to be ready before proceeding. This ensures your operator is running before you attempt to create WebApp resources.\n\n#### Troubleshooting Deployment Issues\n\n**Troubleshooting operator startup problems**  \n\nIf your operator doesn't start properly, check these common issues:\n\n1. **Check pod logs**:\n  \n   ```bash\n   kubectl logs -n pepr-system -l app --tail=100\n   ```\n\n2. **Verify permissions**:\n\n   ```bash\n   kubectl describe deployment -n pepr-system\n   ```\n\n   Look for permission-related errors in the events section.\n\nVerify the deployment was successful by checking if the CRD has been properly registered:\n\n\n```bash\n# Wait for crd to be registered\nsleep 10;\nkubectl get crd | grep webapp\n```\n\n\nYou should see `webapps.pepr.io` in the output, which confirms your Custom Resource Definition was created successfully.\n\n#### Understanding the WebApp Resource\n\nYou can use `kubectl explain` to see the structure of your custom resource.\nIt may take a moment for the cluster to recognize this resource before the following command will work:\n\n\n```bash\n# This command takes a lot of time to succeed the first time after CRD creation\nuntil kubectl explain wa.spec >/dev/null 2>&1; do\n  sleep 2;\ndone\n\nkubectl explain wa.spec\n```\n\n\nExpected Output:\n\n```text\nGROUP:      pepr.io\nKIND:       WebApp\nVERSION:    v1alpha1\n\nFIELD: spec \u003CObject>\n\nDESCRIPTION:\n    \u003Cempty>\nFIELDS:\n  language      \u003Cstring> -required-\n    Language defines the language of the web application, either English (en) or\n    Spanish (es).\n\n  replicas      \u003Cinteger> -required-\n    Replicas is the number of desired replicas.\n\n  theme \u003Cstring> -required-\n    Theme defines the theme of the web application, either dark or light.\n```\n\n> 💡 **Note**: `wa` is the short form of `webapp` that kubectl recognizes. This resource structure directly matches the TypeScript interface we defined earlier in our code.\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)\n\n## Test Your Operator\n\n**[🟢🟢🟢🟢🟢🟢] Step 6 of 6**\n\n**Understanding reconciliation**  \n\nReconciliation is the core concept behind Kubernetes operators. It's the process of:\n\n1. Observing the current state of resources in the cluster\n2. Comparing it to the desired state (defined in your custom resource)\n3. Taking actions to align the actual state with the desired state\n\nThis continuous loop ensures your application maintains its expected configuration even when disruptions occur.\n\n```text\n┌───────────────────┐\n│                   │\n│  Custom Resource  │◄────────────┐\n│  (WebApp)         │             │\n│                   │             │\n└───────┬───────────┘             │\n        │                         │\n        │ Observe                 │\n        ▼                         │\n┌───────────────────┐    ┌────────────────┐\n│                   │    │                │\n│  Pepr Operator    │───►│  Reconcile     │\n│  Controller       │    │  (Take Action) │\n│                   │    │                │\n└───────┬───────────┘    └────────────────┘\n        │                         ▲\n        │ Create/Update           │\n        ▼                         │\n┌───────────────────┐             │\n│  Owned Resources  │─────────────┘\n│  • ConfigMap      │ If deleted or\n│  • Service        │ changed, trigger\n│  • Deployment     │ reconciliation\n└───────────────────┘\n```\n\n### Creating a WebApp Instance\n\nLet's create an instance of our custom `WebApp` resource in English with a light theme and 1 replicas:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-light-en.yaml \\\n  -o webapp-light-en.yaml\n```\n\n\nExamine the contents of `webapp-light-en.yaml`. It defines a WebApp with English language, light theme, and 1 replica.\n\nNext, apply it to the cluster:\n\n\n```bash\nkubectl create namespace webapps &&\nkubectl apply -f webapp-light-en.yaml\n```\n\n\n**How resource creation works**  \n\n1. Kubernetes API server receives the WebApp resource\n2. Our operator's controller (in `index.ts`) detects the new resource via its reconcile function\n3. The controller validates the WebApp using our validator\n4. The reconcile function creates three \"owned\" resources:\n   - A ConfigMap with HTML content based on the theme and language\n   - A Service to expose the web application\n   - A Deployment to run the web server pods with the specified number of replicas\n5. The status is updated to track progress\n\nAll this logic is in the code we wrote earlier in the tutorial.\n\n### Verifying Resource Creation\n\nNow, verify that the WebApp and its owned resources were created properly:\n\n\n```bash\nkubectl get cm,svc,deploy,webapp -n webapps\n```\n\n\nExpected Output:\n\n```bash\nNAME                                    DATA   AGE\nconfigmap/kube-root-ca.crt              1      6s\nconfigmap/web-content-webapp-light-en   1      5s\n\nNAME                      TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE\nservice/webapp-light-en   ClusterIP   10.43.85.1   \u003Cnone>        80/TCP    5s\n\nNAME                              READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/webapp-light-en   1/1     1            1           5s\n```\n\n> 💡 **Tip**: Our operator created three resources based on our single WebApp definition - this is the power of operators in action!\n\n### Checking WebApp Status\n\nThe status field is how our operator communicates the current state of the WebApp:\n\n\n```bash\nkubectl get wa webapp-light-en -n webapps -ojsonpath=\"{.status}\" | jq\n```\n\n\nExpected Output:\n\n```json\n{\n  \"observedGeneration\": 1,\n  \"phase\": \"Ready\"\n}\n```\n\n**Understanding status fields**  \n\n- **observedGeneration**: A counter that increments each time the resource spec is changed\n- **phase**: The current lifecycle state of the WebApp (\"Pending\" during creation, \"Ready\" when all components are operational)\n\nThis status information comes from our reconciler code, which updates these fields during each reconciliation cycle.\n\nYou can also see events related to your WebApp that provide a timeline of actions taken by the operator:\n\n\n```bash\nkubectl describe wa webapp-light-en -n webapps\n```\n\n\nExpected Output:\n\n```text\nName:         webapp-light-en\nNamespace:    webapps\nAPI Version:  pepr.io/v1alpha1\nKind:         WebApp\nMetadata: ...\nSpec:\n  Language:  en\n  Replicas:  1\n  Theme:     light\nStatus:\n  Observed Generation:  1\n  Phase:                Ready\nEvents:\n  Type    Reason                    Age   From             Message\n  ----    ------                    ----  ----             -------\n  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Pending\n  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Ready\n```\n\n### Viewing Your WebApp\n\nTo access your WebApp in a browser, use port-forwarding to connect to the service.\nThe following command runs the portforward in the background.\nBe sure to make note of the `Port-forward PID` for later when we tear down the test environment.\n\n```bash\nkubectl port-forward svc/webapp-light-en -n webapps 3000:80 &\nPID=$!\necho \"Port-forward PID: $PID\"\n```\n\n**About port-forwarding**  \n\nPort-forwarding creates a secure tunnel from your local machine to a pod or service in your Kubernetes cluster. In this case, we're forwarding your local port 3000 to port 80 of the WebApp service, allowing you to access the application at \u003Chttp://localhost:3000> in your browser.\n\nNow open [http://localhost:3000](http://localhost:3000) in your browser or run `curl http://localhost:3000` to see the response in a terminal.\nThe browser should display a light theme web application:\n\n![WebApp Light Theme](/assets/light.png)\n\n### Testing the Reconciliation Loop\n\nA key feature of operators is their ability to automatically repair resources when they're deleted or changed. Let's test this by deleting the ConfigMap:\n\n\n```bash\nkubectl delete cm -n webapps --all &&\nsleep 10 && \nkubectl get cm -n webapps \n```\n\n\nExpected output:\n\n```text\nconfigmap \"kube-root-ca.crt\" deleted\nconfigmap \"web-content-webapp-light-en\" deleted\nNAME                          DATA   AGE\nkube-root-ca.crt              1      0s\nweb-content-webapp-light-en   1      0s\n```\n\nNow that we've successfully deployed a WebApp, commit your changes:\n\n```bash\ngit add webapp-light-en.yaml && git commit -m \"Add WebApp resource for light mode in english\"\n```\n\n**Behind the scenes of reconciliation**  \n\n1. When you deleted the ConfigMap, Kubernetes sent a DELETE event\n2. Our operator (in `index.ts`) was watching for these events via the `onDeleteOwnedResource` handler\n3. This triggered the reconciliation loop, which detected that the ConfigMap was missing\n4. The reconciler recreated the ConfigMap based on the WebApp definition\n5. This all happened automatically without manual intervention - the core benefit of using an operator!\n\n> 🛠️ **Try it yourself**: Try deleting the Service or Deployment. What happens? The operator should recreate those too!\n\n### Updating the WebApp\n\nNow let's test changing the WebApp's specification.\nCopy down the next WebApp resource with the following command:\n\n\n```bash\ncurl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-dark-es.yaml \\\n  -o webapp-dark-es.yaml\n```\n\n\nCompare the contents of `webapp-light-en.yaml` and `webapp-dark-es.yaml` with the command:\n\n```bash\ndiff --side-by-side \\\n  webapp-light-en.yaml \\\n  webapp-dark-es.yaml\n```\n\n\n```bash\nkubectl apply -f webapp-dark-es.yaml \n```\n\n\n> 💡 **Note**: We've changed the theme from light to dark and the language from English (en) to Spanish (es).\n\nYour port-forward should still be active, so you can refresh your browser to see the changes.\nIf your porf-forward is no longer active for some reason, create a new one:\n\n```bash\n# Only needed if previous port-forward closed\nkubectl port-forward svc/webapp-light-en -n webapps 3000:80 &\nPID=$!\necho \"Port-forward PID: $PID\"\n```\n\nNow open [http://localhost:3000](http://localhost:3000) in your browser or run `curl http://localhost:3000` to see the response in a terminal.\nThe browser should display a dark theme web application:\n\n![WebApp Dark Theme](/assets/dark.png)\n\nNow that we've successfully updated a WebApp, commit your changes:\n\n```bash\ngit add webapp-dark-es.yaml && git commit -m \"Update WebApp resource for dark mode in spanish\"\n```\n\n**How updating works**  \n\n1. When you apply the changed WebApp, Kubernetes sends an UPDATE event\n2. Our operator's controller (in `index.ts`) detects this via the `onUpdate` handler\n3. The updated spec is validated and then queued for reconciliation\n4. The reconciler compares the current resources with what's needed for the new spec\n5. It updates the ConfigMap with the new theme and language content\n6. The Deployment automatically detects the ConfigMap change and restarts the pod with the new content\n\n### Cleanup\n\nWhen you're done testing, you can delete your WebApp and verify that all owned resources are removed:\n\n```bash\nkill $PID && # Close port-forward\nkubectl delete wa -n webapps --all && \nsleep 5 &&\nkubectl get cm,deploy,svc -n webapps\n```\n\nYou can also delete the entire test cluster when you're finished:\n\n```bash\nk3d cluster delete pepr-dev\n```\n\n## Congratulations\n\nYou've successfully built a Kubernetes operator using Pepr. Through this tutorial, you:\n\n1. Created a custom resource definition (CRD) for WebApps\n2. Implemented a controller with reconciliation logic\n3. Added validation for your custom resources\n4. Deployed your operator to a Kubernetes cluster\n5. Verified that your operator correctly manages the lifecycle of WebApp resources\n\nThis pattern is powerful for creating self-managing applications in Kubernetes. Your operator now handles the complex task of maintaining your application's state according to your specifications, reducing the need for manual intervention.\n\n### What You've Learned\n\nBy completing this tutorial, you've gained experience with several important concepts:\n\n- **Custom Resource Definitions (CRDs)**: You defined a structured, validated schema for your WebApp resources\n- **Reconciliation**: You implemented the core operator pattern that maintains desired state\n- **Owner References**: You used Kubernetes ownership to manage resource lifecycles\n- **Status Reporting**: Your operator provides feedback about resource state through status fields\n- **Watch Patterns**: Your operator reacts to changes in both custom and standard Kubernetes resources\n\nThese concepts form the foundation of the operator pattern and can be applied to manage any application or service on Kubernetes.\n\n### Next Steps\n\nNow that you understand the basics of building an operator with Pepr, you might want to:\n\n- Add more sophisticated validation logic\n- Implement status conditions that provide detailed health information\n- Add support for upgrading between versions of your application\n- Explore more complex reconciliation patterns for multi-component applications\n- Add metrics and monitoring to your operator\n\nFor more information, check out:\n\n- [Pepr Documentation](https://docs.pepr.dev)\n- [Kubernetes Operator Best Practices](https://kubernetes.io/docs/concepts/extend-kubernetes/operator/)\n- [Custom Resource Definition Documentation](https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/)\n\n[Back to top](#building-a-kubernetes-operator-with-pepr)","src/content/docs/v0.54/tutorials/create-pepr-operator.md","6f5d97696345065c",{"html":1957,"metadata":1958},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"introduction\">Introduction\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#introduction\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Introduction”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>This tutorial guides you through building a Kubernetes Operator using Pepr. You’ll create a WebApp Operator that manages custom WebApp resources in your Kubernetes cluster.\u003C/p>\n\u003Cp>If you get stuck at any point, you can reference the \u003Ca href=\"https://github.com/defenseunicorns/pepr-excellent-examples/tree/main/pepr-operator\">complete example code in the Pepr Excellent Examples repository\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"what-youll-build\">What You’ll Build\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#what-youll-build\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What You’ll Build”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The WebApp Operator will:\u003C/p>\n\u003Col>\n\u003Cli>Deploy a custom \u003Ccode dir=\"auto\">WebApp\u003C/code> resource definition (CRD)\u003C/li>\n\u003Cli>Watch for WebApp instances and reconcile them with the actual cluster state\u003C/li>\n\u003Cli>For each WebApp instance, manage:\n\u003Cul>\n\u003Cli>A \u003Ccode dir=\"auto\">Deployment\u003C/code> with configurable replicas\u003C/li>\n\u003Cli>A \u003Ccode dir=\"auto\">Service\u003C/code> to expose the application\u003C/li>\n\u003Cli>A \u003Ccode dir=\"auto\">ConfigMap\u003C/code> containing configurable HTML with language and theme options\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ol>\n\u003Cp>All resources will include \u003Ccode dir=\"auto\">ownerReferences\u003C/code>, triggering cascading deletion when a WebApp is removed. The operator will also automatically restore any managed resources that are deleted externally.\u003C/p>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#prerequisites\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Prerequisites”\u003C/span>\u003C/a>\u003C/div>\n\u003Cul>\n\u003Cli>A Kubernetes cluster (local or remote)\u003C/li>\n\u003Cli>Access to the \u003Ccode dir=\"auto\">curl\u003C/code> command\u003C/li>\n\u003Cli>Basic understanding of Kubernetes concepts\u003C/li>\n\u003Cli>Familiarity with TypeScript\u003C/li>\n\u003Cli>Node.js ≥ 20.0\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"tutorial-steps\">Tutorial Steps\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#tutorial-steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Tutorial Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\u003Ca href=\"#create-a-new-pepr-module\">Create a new Pepr Module\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#create-crd\">Define the WebApp CRD\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#create-helpers\">Create Helper Functions\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#create-reconciler\">Implement the Reconciler\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#build-and-deploy-your-operator\">Build and Deploy Your Operator\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"#test-your-operator\">Test Your Operator\u003C/a>\u003C/li>\n\u003C/ol>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-a-new-pepr-module\">Create a new Pepr Module\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-a-new-pepr-module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create a new Pepr Module”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢⚪⚪⚪⚪⚪] Step 1 of 6\u003C/strong>\u003C/p>\n\u003Cp>First, create a new Pepr module for your operator:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">operator\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--uuid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">my-operator-uuid\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--description\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Kubernetes Controller for WebApp Resources\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--error-behavior\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">reject\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--yes\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">cd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">operator\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># set working directory as the new pepr module\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr init \\  --name operator \\  --uuid my-operator-uuid \\  --description &#x22;Kubernetes Controller for WebApp Resources&#x22; \\  --error-behavior reject \\  --yes &#x26;&#x26;cd operator # set working directory as the new pepr module\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>To track your progress in this tutorial, let’s treat it as a \u003Ccode dir=\"auto\">git\u003C/code> repository:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">init\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--all\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">npx pepr init\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git init &#x26;&#x26; git add --all &#x26;&#x26; git commit -m &#x22;npx pepr init&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-crd\">Create CRD\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-crd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create CRD”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢⚪⚪⚪⚪] Step 2 of 6\u003C/strong>\u003C/p>\n\u003Cp>The WebApp Custom Resource Definition (CRD) specifies the structure and validation for your custom resource.\nCreate the necessary directory structure:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">mkdir\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-p\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/generated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/source\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"mkdir -p capabilities/crd/generated capabilities/crd/source\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Generate a class based on the WebApp CRD using \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">kubernetes-fluent-client\u003C/a>.\nThis allows us to react to the CRD fields in a type-safe manner.\nCreate a CRD named \u003Ccode dir=\"auto\">crd.yaml\u003C/code> for the WebApp that includes:\u003C/p>\n\u003Cul>\n\u003Cli>Theme selection (dark/light)\u003C/li>\n\u003Cli>Language selection (en/es)\u003C/li>\n\u003Cli>Configurable replica count\u003C/li>\n\u003Cli>Status tracking\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/crd.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/source/crd.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/crd.yaml \\  -o capabilities/crd/source/crd.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Examine the contents of \u003Ccode dir=\"auto\">capabilities/crd/source/crd.yaml\u003C/code>.\nNote that the status should be listed under \u003Ccode dir=\"auto\">subresources\u003C/code> to make it writable.\nWe provide descriptions for each property to clarify their purpose.\nEnums are used to restrict the values that can be assigned to a property.\u003C/p>\n\u003Cp>Create an interface for the CRD spec with the following command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/generated/webapp-v1alpha1.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/generated/webapp-v1alpha1.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/generated/webapp-v1alpha1.ts \\  -o capabilities/crd/generated/webapp-v1alpha1.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Examine the contents of \u003Ccode dir=\"auto\">capabilities/crd/generated/webapp-v1alpha1.ts\u003C/code>.\u003C/p>\n\u003Cp>Create a TypeScript file that contains the WebApp CRD named \u003Ccode dir=\"auto\">webapp.crd.ts\u003C/code>.\nThis will enable the controller to automatically create the CRD on startup.\nUse the command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/webapp.crd.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/source/webapp.crd.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/source/webapp.crd.ts \\  -o capabilities/crd/source/webapp.crd.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Take a moment to commit your changes for CRD creation:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Create WebApp CRD\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/crd/ &#x26;&#x26; git commit -m &#x22;Create WebApp CRD&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">webapp.crd.ts\u003C/code> file defines the structure of our CRD, including the validation rules and schema that Kubernetes will use when WebApp resources are created or modified.\u003C/p>\n\u003Cp>Create a file that will automatically register the CRD on startup named \u003Ccode dir=\"auto\">capabilities/crd/register.ts\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/register.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/register.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/register.ts \\  -o capabilities/crd/register.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">register.ts\u003C/code> file contains logic to ensure our CRD is created in the cluster when the operator starts up, avoiding the need for manual CRD installation.\u003C/p>\n\u003Cp>Create a file to validate that WebApp instances are in valid namespaces and have a maximum of \u003Ccode dir=\"auto\">7\u003C/code> replicas.\nCreate a \u003Ccode dir=\"auto\">validator.ts\u003C/code> file with the command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/validator.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/validator.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/crd/validator.ts \\  -o capabilities/crd/validator.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">validator.ts\u003C/code> file implements validation logic for our WebApp resources, ensuring they meet our requirements before they’re accepted by the cluster.\u003C/p>\n\u003Cp>In this section, we’ve generated the CRD class for WebApp, created a function to automatically register the CRD, and added a validator to ensure WebApp instances are in valid namespaces and don’t exceed 7 replicas.\u003C/p>\n\u003Cp>Commit your changes for CRD registration &#x26; validation:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/crd/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Create CRD handling logic\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/crd/ &#x26;&#x26; git commit -m &#x22;Create CRD handling logic&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-helpers\">Create Helpers\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-helpers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create Helpers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢⚪⚪⚪] Step 3 of 6\u003C/strong>\u003C/p>\n\u003Cp>Now, let’s create helper functions that will generate the Kubernetes resources managed by our operator. These helpers will simplify the creation of Deployments, Services, and ConfigMaps for each WebApp instance.\u003C/p>\n\u003Cp>Create a \u003Ccode dir=\"auto\">controller\u003C/code> folder in the \u003Ccode dir=\"auto\">capabilities\u003C/code> folder and create a \u003Ccode dir=\"auto\">generators.ts\u003C/code> file. This file will contain functions that generate Kubernetes objects for the operator to deploy (with the ownerReferences automatically included). Since these resources are owned by the WebApp resource, they will be deleted when the WebApp resource is deleted.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">mkdir\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-p\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/controller\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"mkdir -p capabilities/controller\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Create \u003Ccode dir=\"auto\">generators.ts\u003C/code> with the following command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/controller/generators.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/controller/generators.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/controller/generators.ts \\  -o capabilities/controller/generators.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">generators.ts\u003C/code> file contains functions to create all the necessary Kubernetes resources for our WebApp, including properly configured Deployments, Services, and ConfigMaps with appropriate labels and selectors.\u003C/p>\n\u003Cp>Our goal is to simplify WebApp deployment. Instead of requiring users to manage multiple Kubernetes objects, track versions, and handle revisions manually, they can focus solely on the \u003Ccode dir=\"auto\">WebApp\u003C/code> instance. The controller reconciles WebApp instances against the actual cluster state to achieve the desired configuration.\u003C/p>\n\u003Cp>The controller deploys a \u003Ccode dir=\"auto\">ConfigMap\u003C/code> based on the language and theme specified in the WebApp resource and sets the number of replicas according to the WebApp specification.\u003C/p>\n\u003Cp>Commit your changes for deployment, service, and configmap generation:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/controller/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Add generators for WebApp deployments, services, and configmaps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/controller/ &#x26;&#x26; git commit -m &#x22;Add generators for WebApp deployments, services, and configmaps&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"create-reconciler\">Create Reconciler\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#create-reconciler\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Create Reconciler”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢🟢⚪⚪] Step 4 of 6\u003C/strong>\u003C/p>\n\u003Cp>Now, create the function that reacts to changes in WebApp instances. This function will be called and placed into a queue, guaranteeing ordered and synchronous processing of events, even when the system is under heavy load.\u003C/p>\n\u003Cp>In the base of the \u003Ccode dir=\"auto\">capabilities\u003C/code> folder, create a \u003Ccode dir=\"auto\">reconciler.ts\u003C/code> file and add the following:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/reconciler.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/reconciler.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/reconciler.ts \\  -o capabilities/reconciler.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">reconciler.ts\u003C/code> file contains the core logic of our operator, handling the creation, updating, and deletion of WebApp resources and ensuring the cluster state matches the desired state.\u003C/p>\n\u003Cp>Finally, create the \u003Ccode dir=\"auto\">index.ts\u003C/code> file in the \u003Ccode dir=\"auto\">capabilities\u003C/code> folder and add the following:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/index.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/index.ts\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/capabilities/index.ts \\  -o capabilities/index.ts\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>The \u003Ccode dir=\"auto\">index.ts\u003C/code> file contains the WebAppController capability and the functions that are used to watch for changes to the WebApp resource and corresponding Kubernetes resources.\u003C/p>\n\u003Cul>\n\u003Cli>When a WebApp is created or updated, validate it, store the name of the instance and enqueue it for processing.\u003C/li>\n\u003Cli>If an “owned” resource (ConfigMap, Service, or Deployment) is deleted, redeploy it.\u003C/li>\n\u003Cli>Always redeploy the WebApp CRD if it was deleted as the controller depends on it\u003C/li>\n\u003C/ul>\n\u003Cp>In this section we created a \u003Ccode dir=\"auto\">reconciler.ts\u003C/code> file that contains the function responsible for reconciling the state of WebApp instances with the cluster and updating their status.\nThe \u003Ccode dir=\"auto\">index.ts\u003C/code> file contains the WebAppController capability and functions that watch for changes to WebApp resources and their corresponding Kubernetes objects.\nThe \u003Ccode dir=\"auto\">Reconcile\u003C/code> action processes callbacks in a queue, guaranteeing ordered and synchronous processing of events.\u003C/p>\n\u003Cp>Commit your changes with:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Create reconciler for webapps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/ &#x26;&#x26; git commit -m &#x22;Create reconciler for webapps&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"add-capability-to-pepr-module\">Add capability to Pepr Module\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#add-capability-to-pepr-module\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Add capability to Pepr Module”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Ensure that the PeprModule in \u003Ccode dir=\"auto\">pepr.ts\u003C/code> uses \u003Ccode dir=\"auto\">WebAppController\u003C/code>. The implementation should look something like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PeprModule\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(cfg, [WebAppController]);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"new PeprModule(cfg, [WebAppController]);\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Using \u003Ccode dir=\"auto\">sed\u003C/code>, replace the contents of the file to use our new \u003Ccode dir=\"auto\">WebAppController\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Use the WebAppController Module\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-e\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">/new PeprModule(cfg, \\[/,/\\]);/c\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">new PeprModule(cfg, [WebAppController]);\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">./pepr.ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Update Imports\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [[ \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$OSTYPE\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">==\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">darwin\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">*\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> ]]; \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">then\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">s|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">./pepr.ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">else\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sed\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">s|import { HelloPepr } from \"./capabilities/hello-pepr\";|import { WebAppController } from \"./capabilities\";|\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">./pepr.ts\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">fi\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"sed -i &#x27;&#x27; -e &#x27;/new PeprModule(cfg, \\[/,/\\]);/c\\new PeprModule(cfg, [WebAppController]);&#x27; ./pepr.tsif [[ &#x22;$OSTYPE&#x22; == &#x22;darwin&#x22;* ]]; then  sed -i &#x27;&#x27; &#x27;s|import { HelloPepr } from &#x22;./capabilities/hello-pepr&#x22;;|import { WebAppController } from &#x22;./capabilities&#x22;;|&#x27; ./pepr.tselse  sed -i &#x27;s|import { HelloPepr } from &#x22;./capabilities/hello-pepr&#x22;;|import { WebAppController } from &#x22;./capabilities&#x22;;|&#x27; ./pepr.tsfi\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Commit your changes now that the WebAppController is part of the Pepr Module:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.ts\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Register WebAppController with pepr module\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add pepr.ts &#x26;&#x26; git commit -m &#x22;Register WebAppController with pepr module&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"build-and-deploy-your-operator\">Build and Deploy Your Operator\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#build-and-deploy-your-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Build and Deploy Your Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢🟢🟢⚪] Step 5 of 6\u003C/strong>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"preparing-your-environment\">Preparing Your Environment\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#preparing-your-environment\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Preparing Your Environment”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create an ephemeral cluster with \u003Ccode dir=\"auto\">k3d\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--k3s-arg\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">--debug@server:0\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--wait\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rollout\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">status\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deployment\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kube-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster delete pepr-dev &#x26;&#x26;k3d cluster create pepr-dev --k3s-arg &#x27;--debug@server:0&#x27; --wait &#x26;&#x26;kubectl rollout status deployment -n kube-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>What is an ephemeral cluster?\u003C/strong>\u003Cbr>\nAn ephemeral cluster is a temporary Kubernetes cluster that exists only for testing purposes. Tools like Kind (Kubernetes in Docker) and k3d let you quickly create and destroy clusters without affecting your production environments.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"update-and-prepare-pepr\">Update and Prepare Pepr\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#update-and-prepare-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Update and Prepare Pepr”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Make sure Pepr is updated to the latest version:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">update\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--skip-template-update\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr update --skip-template-update\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cblockquote>\n\u003Cp>⚠️ \u003Cstrong>Important Note\u003C/strong>: Be cautious when updating Pepr in an existing project as it could potentially override custom configurations. The \u003Ccode dir=\"auto\">--skip-template-update\u003C/code> flag helps prevent this.\u003C/p>\n\u003C/blockquote>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"building-the-operator\">Building the Operator\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#building-the-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Building the Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Build the Pepr module by running:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">format\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr format &#x26;&#x26;npx pepr build\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Commit your changes after the build completes:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">capabilities/\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">package\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">*\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">.json\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Build pepr module\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add capabilities/ package*.json &#x26;&#x26; git commit -m &#x22;Build pepr module&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>The build process explained\u003C/strong>\u003C/p>\n\u003Cp>The \u003Ccode dir=\"auto\">pepr build\u003C/code> command performs three critical steps:\u003C/p>\n\u003Col>\n\u003Cli>\u003Cstrong>Compile TypeScript\u003C/strong>: Converts your TypeScript code to JavaScript using the settings in tsconfig.json\u003C/li>\n\u003Cli>\u003Cstrong>Bundle the Operator\u003C/strong>: Packages everything into a deployable format using esbuild\u003C/li>\n\u003Cli>\u003Cstrong>Generate Kubernetes Manifests\u003C/strong>: Creates all necessary YAML files in the \u003Ccode dir=\"auto\">dist\u003C/code> directory, including:\n\u003Cul>\n\u003Cli>Custom Resource Definitions (CRDs)\u003C/li>\n\u003Cli>The controller deployment\u003C/li>\n\u003Cli>ServiceAccounts and RBAC permissions\u003C/li>\n\u003Cli>Any other resources needed for your operator\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ol>\n\u003Cp>This process creates a self-contained deployment unit that includes everything needed to run your operator in a Kubernetes cluster.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌─────────────────────┐          ┌──────────────────┐          ┌───────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                     │          │                  │          │                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Your Pepr Code     │────────▶ │  pepr build      │────────▶ │ dist/             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  (TypeScript)       │          │  (Build Process) │          │(Deployment Files) │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                     │          │                  │          │                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└─────────────────────┘          └──────────────────┘          └───────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                                        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                                        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                                        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">▼\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Kubernetes       │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Cluster          │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">                                                               \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"┌─────────────────────┐          ┌──────────────────┐          ┌───────────────────┐│                     │          │                  │          │                   ││  Your Pepr Code     │────────▶ │  pepr build      │────────▶ │ dist/             ││  (TypeScript)       │          │  (Build Process) │          │(Deployment Files) ││                     │          │                  │          │                   │└─────────────────────┘          └──────────────────┘          └───────────────────┘                                                                        │                                                                        │                                                                        ▼                                                               ┌───────────────────┐                                                               │                   │                                                               │  Kubernetes       │                                                               │  Cluster          │                                                               │                   │                                                               └───────────────────┘\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"deploy-to-kubernetes\">Deploy to Kubernetes\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#deploy-to-kubernetes\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Deploy to Kubernetes”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To deploy your operator to a Kubernetes cluster:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dist/pepr-module-my-operator-uuid.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Wait for pods to have a status so we can check for readiness\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wait\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--for=condition=Ready\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pods\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--timeout=120s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl apply -f dist/pepr-module-my-operator-uuid.yaml;sleep 10;kubectl wait --for=condition=Ready pods -l app -n pepr-system --timeout=120s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>What’s happening during deployment?\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>The first command applies all the Kubernetes resources defined in the YAML file, including:\u003C/p>\n\u003Cul>\n\u003Cli>The WebApp CRD (Custom Resource Definition)\u003C/li>\n\u003Cli>A Deployment that runs your operator code\u003C/li>\n\u003Cli>The necessary RBAC permissions for your operator to function\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>The second command waits for the operator pod to be ready before proceeding. This ensures your operator is running before you attempt to create WebApp resources.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"troubleshooting-deployment-issues\">Troubleshooting Deployment Issues\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#troubleshooting-deployment-issues\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Troubleshooting Deployment Issues”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>Troubleshooting operator startup problems\u003C/strong>\u003C/p>\n\u003Cp>If your operator doesn’t start properly, check these common issues:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Check pod logs\u003C/strong>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--tail=100\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -n pepr-system -l app --tail=100\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Verify permissions\u003C/strong>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">describe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deployment\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl describe deployment -n pepr-system\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Look for permission-related errors in the events section.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp>Verify the deployment was successful by checking if the CRD has been properly registered:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Wait for crd to be registered\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">grep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"sleep 10;kubectl get crd | grep webapp\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You should see \u003Ccode dir=\"auto\">webapps.pepr.io\u003C/code> in the output, which confirms your Custom Resource Definition was created successfully.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h4\">\u003Ch4 id=\"understanding-the-webapp-resource\">Understanding the WebApp Resource\u003C/h4>\u003Ca class=\"sl-anchor-link\" href=\"#understanding-the-webapp-resource\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Understanding the WebApp Resource”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can use \u003Ccode dir=\"auto\">kubectl explain\u003C/code> to see the structure of your custom resource.\nIt may take a moment for the cluster to recognize this resource before the following command will work:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># This command takes a lot of time to succeed the first time after CRD creation\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">until\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">explain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa.spec\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">/dev/null\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">2>&#x26;1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">; \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">do\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">2\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">done\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">explain\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa.spec\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"until kubectl explain wa.spec >/dev/null 2>&#x26;1; do  sleep 2;donekubectl explain wa.spec\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">GROUP:      pepr.io\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">KIND:       WebApp\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">VERSION:    v1alpha1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">FIELD: spec &#x3C;Object>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">DESCRIPTION:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">&#x3C;empty>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">FIELDS:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">language      &#x3C;string> -required-\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Language defines the language of the web application, either English (en) or\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Spanish (es).\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">replicas      &#x3C;integer> -required-\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Replicas is the number of desired replicas.\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">theme &#x3C;string> -required-\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Theme defines the theme of the web application, either dark or light.\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"GROUP:      pepr.ioKIND:       WebAppVERSION:    v1alpha1FIELD: spec \u003CObject>DESCRIPTION:    \u003Cempty>FIELDS:  language      \u003Cstring> -required-    Language defines the language of the web application, either English (en) or    Spanish (es).  replicas      \u003Cinteger> -required-    Replicas is the number of desired replicas.  theme \u003Cstring> -required-    Theme defines the theme of the web application, either dark or light.\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cblockquote>\n\u003Cp>💡 \u003Cstrong>Note\u003C/strong>: \u003Ccode dir=\"auto\">wa\u003C/code> is the short form of \u003Ccode dir=\"auto\">webapp\u003C/code> that kubectl recognizes. This resource structure directly matches the TypeScript interface we defined earlier in our code.\u003C/p>\n\u003C/blockquote>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"test-your-operator\">Test Your Operator\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#test-your-operator\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Test Your Operator”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>\u003Cstrong>[🟢🟢🟢🟢🟢🟢] Step 6 of 6\u003C/strong>\u003C/p>\n\u003Cp>\u003Cstrong>Understanding reconciliation\u003C/strong>\u003C/p>\n\u003Cp>Reconciliation is the core concept behind Kubernetes operators. It’s the process of:\u003C/p>\n\u003Col>\n\u003Cli>Observing the current state of resources in the cluster\u003C/li>\n\u003Cli>Comparing it to the desired state (defined in your custom resource)\u003C/li>\n\u003Cli>Taking actions to align the actual state with the desired state\u003C/li>\n\u003C/ol>\n\u003Cp>This continuous loop ensures your application maintains its expected configuration even when disruptions occur.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Custom Resource  │◄────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  (WebApp)         │             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────┬───────────┘             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                         │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│ Observe                 │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">▼                         │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐    ┌────────────────┐\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │    │                │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Pepr Operator    │───►│  Reconcile     │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Controller       │    │  (Take Action) │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                   │    │                │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────┬───────────┘    └────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│                         ▲\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│ Create/Update           │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">        \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">▼                         │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">┌───────────────────┐             │\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  Owned Resources  │─────────────┘\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  • ConfigMap      │ If deleted or\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  • Service        │ changed, trigger\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">│  • Deployment     │ reconciliation\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">└───────────────────┘\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"┌───────────────────┐│                   ││  Custom Resource  │◄────────────┐│  (WebApp)         │             ││                   │             │└───────┬───────────┘             │        │                         │        │ Observe                 │        ▼                         │┌───────────────────┐    ┌────────────────┐│                   │    │                ││  Pepr Operator    │───►│  Reconcile     ││  Controller       │    │  (Take Action) ││                   │    │                │└───────┬───────────┘    └────────────────┘        │                         ▲        │ Create/Update           │        ▼                         │┌───────────────────┐             ││  Owned Resources  │─────────────┘│  • ConfigMap      │ If deleted or│  • Service        │ changed, trigger│  • Deployment     │ reconciliation└───────────────────┘\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"creating-a-webapp-instance\">Creating a WebApp Instance\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#creating-a-webapp-instance\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Creating a WebApp Instance”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Let’s create an instance of our custom \u003Ccode dir=\"auto\">WebApp\u003C/code> resource in English with a light theme and 1 replicas:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-light-en.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-light-en.yaml \\  -o webapp-light-en.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Examine the contents of \u003Ccode dir=\"auto\">webapp-light-en.yaml\u003C/code>. It defines a WebApp with English language, light theme, and 1 replica.\u003C/p>\n\u003Cp>Next, apply it to the cluster:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespace\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl create namespace webapps &#x26;&#x26;kubectl apply -f webapp-light-en.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>How resource creation works\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>Kubernetes API server receives the WebApp resource\u003C/li>\n\u003Cli>Our operator’s controller (in \u003Ccode dir=\"auto\">index.ts\u003C/code>) detects the new resource via its reconcile function\u003C/li>\n\u003Cli>The controller validates the WebApp using our validator\u003C/li>\n\u003Cli>The reconcile function creates three “owned” resources:\n\u003Cul>\n\u003Cli>A ConfigMap with HTML content based on the theme and language\u003C/li>\n\u003Cli>A Service to expose the web application\u003C/li>\n\u003Cli>A Deployment to run the web server pods with the specified number of replicas\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>The status is updated to track progress\u003C/li>\n\u003C/ol>\n\u003Cp>All this logic is in the code we wrote earlier in the tutorial.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"verifying-resource-creation\">Verifying Resource Creation\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#verifying-resource-creation\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Verifying Resource Creation”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Now, verify that the WebApp and its owned resources were created properly:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm,svc,deploy,webapp\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get cm,svc,deploy,webapp -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                                    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">DATA\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">configmap/kube-root-ca.crt\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">              \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">6s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">configmap/web-content-webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                      \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">TYPE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">CLUSTER-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">EXTERNAL-IP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">PORT\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">S\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">service/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterIP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10.43.85.1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">        \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">80/TCP\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">                              \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">READY\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">UP-TO-DATE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AVAILABLE\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">deployment.apps/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">   \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">1/1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">     \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">           \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">5s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"NAME                                    DATA   AGEconfigmap/kube-root-ca.crt              1      6sconfigmap/web-content-webapp-light-en   1      5sNAME                      TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGEservice/webapp-light-en   ClusterIP   10.43.85.1   \u003Cnone>        80/TCP    5sNAME                              READY   UP-TO-DATE   AVAILABLE   AGEdeployment.apps/webapp-light-en   1/1     1            1           5s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cblockquote>\n\u003Cp>💡 \u003Cstrong>Tip\u003C/strong>: Our operator created three resources based on our single WebApp definition - this is the power of operators in action!\u003C/p>\n\u003C/blockquote>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"checking-webapp-status\">Checking WebApp Status\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#checking-webapp-status\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Checking WebApp Status”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The status field is how our operator communicates the current state of the WebApp:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-ojsonpath=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{.status}\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">jq\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl get wa webapp-light-en -n webapps -ojsonpath=&#x22;{.status}&#x22; | jq\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"observedGeneration\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"phase\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">Ready\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;observedGeneration&#x22;: 1,  &#x22;phase&#x22;: &#x22;Ready&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Understanding status fields\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>observedGeneration\u003C/strong>: A counter that increments each time the resource spec is changed\u003C/li>\n\u003Cli>\u003Cstrong>phase\u003C/strong>: The current lifecycle state of the WebApp (“Pending” during creation, “Ready” when all components are operational)\u003C/li>\n\u003C/ul>\n\u003Cp>This status information comes from our reconciler code, which updates these fields during each reconciliation cycle.\u003C/p>\n\u003Cp>You can also see events related to your WebApp that provide a timeline of actions taken by the operator:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">describe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl describe wa webapp-light-en -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected Output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Name:         webapp-light-en\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Namespace:    webapps\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">API Version:  pepr.io/v1alpha1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Kind:         WebApp\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Metadata: ...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Spec:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Language:  en\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Replicas:  1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Theme:     light\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Status:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Observed Generation:  1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Phase:                Ready\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Events:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Type    Reason                    Age   From             Message\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">----    ------                    ----  ----             -------\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Pending\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Ready\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"Name:         webapp-light-enNamespace:    webappsAPI Version:  pepr.io/v1alpha1Kind:         WebAppMetadata: ...Spec:  Language:  en  Replicas:  1  Theme:     lightStatus:  Observed Generation:  1  Phase:                ReadyEvents:  Type    Reason                    Age   From             Message  ----    ------                    ----  ----             -------  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Pending  Normal  InstanceCreatedOrUpdated  36s   webapp-light-en  Ready\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"viewing-your-webapp\">Viewing Your WebApp\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#viewing-your-webapp\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Viewing Your WebApp”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To access your WebApp in a browser, use port-forwarding to connect to the service.\nThe following command runs the portforward in the background.\nBe sure to make note of the \u003Ccode dir=\"auto\">Port-forward PID\u003C/code> for later when we tear down the test environment.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">3000:80\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PID\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">$!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">echo\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Port-forward PID: \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$PID\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward svc/webapp-light-en -n webapps 3000:80 &#x26;PID=$!echo &#x22;Port-forward PID: $PID&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>About port-forwarding\u003C/strong>\u003C/p>\n\u003Cp>Port-forwarding creates a secure tunnel from your local machine to a pod or service in your Kubernetes cluster. In this case, we’re forwarding your local port 3000 to port 80 of the WebApp service, allowing you to access the application at \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser.\u003C/p>\n\u003Cp>Now open \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser or run \u003Ccode dir=\"auto\">curl http://localhost:3000\u003C/code> to see the response in a terminal.\nThe browser should display a light theme web application:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/light.png\" alt=\"WebApp Light Theme\">\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"testing-the-reconciliation-loop\">Testing the Reconciliation Loop\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#testing-the-reconciliation-loop\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Testing the Reconciliation Loop”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>A key feature of operators is their ability to automatically repair resources when they’re deleted or changed. Let’s test this by deleting the ConfigMap:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--all\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">10\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl delete cm -n webapps --all &#x26;&#x26;sleep 10 &#x26;&#x26;kubectl get cm -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Expected output:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"text\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">configmap \"kube-root-ca.crt\" deleted\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">configmap \"web-content-webapp-light-en\" deleted\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">NAME                          DATA   AGE\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">kube-root-ca.crt              1      0s\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#d6deeb;--1:#403f53\">web-content-webapp-light-en   1      0s\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"configmap &#x22;kube-root-ca.crt&#x22; deletedconfigmap &#x22;web-content-webapp-light-en&#x22; deletedNAME                          DATA   AGEkube-root-ca.crt              1      0sweb-content-webapp-light-en   1      0s\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now that we’ve successfully deployed a WebApp, commit your changes:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Add WebApp resource for light mode in english\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add webapp-light-en.yaml &#x26;&#x26; git commit -m &#x22;Add WebApp resource for light mode in english&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Behind the scenes of reconciliation\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>When you deleted the ConfigMap, Kubernetes sent a DELETE event\u003C/li>\n\u003Cli>Our operator (in \u003Ccode dir=\"auto\">index.ts\u003C/code>) was watching for these events via the \u003Ccode dir=\"auto\">onDeleteOwnedResource\u003C/code> handler\u003C/li>\n\u003Cli>This triggered the reconciliation loop, which detected that the ConfigMap was missing\u003C/li>\n\u003Cli>The reconciler recreated the ConfigMap based on the WebApp definition\u003C/li>\n\u003Cli>This all happened automatically without manual intervention - the core benefit of using an operator!\u003C/li>\n\u003C/ol>\n\u003Cblockquote>\n\u003Cp>🛠️ \u003Cstrong>Try it yourself\u003C/strong>: Try deleting the Service or Deployment. What happens? The operator should recreate those too!\u003C/p>\n\u003C/blockquote>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"updating-the-webapp\">Updating the WebApp\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#updating-the-webapp\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Updating the WebApp”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Now let’s test changing the WebApp’s specification.\nCopy down the next WebApp resource with the following command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-s\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-dark-es.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"curl -s https://raw.githubusercontent.com/defenseunicorns/pepr-excellent-examples/main/pepr-operator/webapp-dark-es.yaml \\  -o webapp-dark-es.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Compare the contents of \u003Ccode dir=\"auto\">webapp-light-en.yaml\u003C/code> and \u003Ccode dir=\"auto\">webapp-dark-es.yaml\u003C/code> with the command:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">diff\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--side-by-side\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-light-en.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"diff --side-by-side \\  webapp-light-en.yaml \\  webapp-dark-es.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apply\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-f\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl apply -f webapp-dark-es.yaml\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cblockquote>\n\u003Cp>💡 \u003Cstrong>Note\u003C/strong>: We’ve changed the theme from light to dark and the language from English (en) to Spanish (es).\u003C/p>\n\u003C/blockquote>\n\u003Cp>Your port-forward should still be active, so you can refresh your browser to see the changes.\nIf your porf-forward is no longer active for some reason, create a new one:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Only needed if previous port-forward closed\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">port-forward\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">svc/webapp-light-en\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">3000:80\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PID\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">$!\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">echo\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Port-forward PID: \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$PID\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl port-forward svc/webapp-light-en -n webapps 3000:80 &#x26;PID=$!echo &#x22;Port-forward PID: $PID&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Now open \u003Ca href=\"http://localhost:3000\">http://localhost:3000\u003C/a> in your browser or run \u003Ccode dir=\"auto\">curl http://localhost:3000\u003C/code> to see the response in a terminal.\nThe browser should display a dark theme web application:\u003C/p>\n\u003Cp>\u003Cimg src=\"/assets/dark.png\" alt=\"WebApp Dark Theme\">\u003C/p>\n\u003Cp>Now that we’ve successfully updated a WebApp, commit your changes:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">add\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapp-dark-es.yaml\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">git\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">commit\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-m\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Update WebApp resource for dark mode in spanish\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"git add webapp-dark-es.yaml &#x26;&#x26; git commit -m &#x22;Update WebApp resource for dark mode in spanish&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>How updating works\u003C/strong>\u003C/p>\n\u003Col>\n\u003Cli>When you apply the changed WebApp, Kubernetes sends an UPDATE event\u003C/li>\n\u003Cli>Our operator’s controller (in \u003Ccode dir=\"auto\">index.ts\u003C/code>) detects this via the \u003Ccode dir=\"auto\">onUpdate\u003C/code> handler\u003C/li>\n\u003Cli>The updated spec is validated and then queued for reconciliation\u003C/li>\n\u003Cli>The reconciler compares the current resources with what’s needed for the new spec\u003C/li>\n\u003Cli>It updates the ConfigMap with the new theme and language content\u003C/li>\n\u003Cli>The Deployment automatically detects the ConfigMap change and restarts the pod with the new content\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"cleanup\">Cleanup\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#cleanup\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Cleanup”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>When you’re done testing, you can delete your WebApp and verify that all owned resources are removed:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">kill\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$PID\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Close port-forward\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">wa\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--all\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sleep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">5\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> &#x26;&#x26;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm,deploy,svc\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">webapps\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kill $PID &#x26;&#x26; # Close port-forwardkubectl delete wa -n webapps --all &#x26;&#x26;sleep 5 &#x26;&#x26;kubectl get cm,deploy,svc -n webapps\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You can also delete the entire test cluster when you’re finished:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">k3d\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cluster\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">delete\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-dev\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"k3d cluster delete pepr-dev\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"congratulations\">Congratulations\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#congratulations\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Congratulations”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You’ve successfully built a Kubernetes operator using Pepr. Through this tutorial, you:\u003C/p>\n\u003Col>\n\u003Cli>Created a custom resource definition (CRD) for WebApps\u003C/li>\n\u003Cli>Implemented a controller with reconciliation logic\u003C/li>\n\u003Cli>Added validation for your custom resources\u003C/li>\n\u003Cli>Deployed your operator to a Kubernetes cluster\u003C/li>\n\u003Cli>Verified that your operator correctly manages the lifecycle of WebApp resources\u003C/li>\n\u003C/ol>\n\u003Cp>This pattern is powerful for creating self-managing applications in Kubernetes. Your operator now handles the complex task of maintaining your application’s state according to your specifications, reducing the need for manual intervention.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"what-youve-learned\">What You’ve Learned\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#what-youve-learned\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “What You’ve Learned”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By completing this tutorial, you’ve gained experience with several important concepts:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>Custom Resource Definitions (CRDs)\u003C/strong>: You defined a structured, validated schema for your WebApp resources\u003C/li>\n\u003Cli>\u003Cstrong>Reconciliation\u003C/strong>: You implemented the core operator pattern that maintains desired state\u003C/li>\n\u003Cli>\u003Cstrong>Owner References\u003C/strong>: You used Kubernetes ownership to manage resource lifecycles\u003C/li>\n\u003Cli>\u003Cstrong>Status Reporting\u003C/strong>: Your operator provides feedback about resource state through status fields\u003C/li>\n\u003Cli>\u003Cstrong>Watch Patterns\u003C/strong>: Your operator reacts to changes in both custom and standard Kubernetes resources\u003C/li>\n\u003C/ul>\n\u003Cp>These concepts form the foundation of the operator pattern and can be applied to manage any application or service on Kubernetes.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"next-steps\">Next Steps\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#next-steps\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Next Steps”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Now that you understand the basics of building an operator with Pepr, you might want to:\u003C/p>\n\u003Cul>\n\u003Cli>Add more sophisticated validation logic\u003C/li>\n\u003Cli>Implement status conditions that provide detailed health information\u003C/li>\n\u003Cli>Add support for upgrading between versions of your application\u003C/li>\n\u003Cli>Explore more complex reconciliation patterns for multi-component applications\u003C/li>\n\u003Cli>Add metrics and monitoring to your operator\u003C/li>\n\u003C/ul>\n\u003Cp>For more information, check out:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://docs.pepr.dev\">Pepr Documentation\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kubernetes.io/docs/concepts/extend-kubernetes/operator/\">Kubernetes Operator Best Practices\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/\">Custom Resource Definition Documentation\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Ca href=\"#building-a-kubernetes-operator-with-pepr\">Back to top\u003C/a>\u003C/p>",{"headings":1959,"localImagePaths":1987,"remoteImagePaths":1988,"frontmatter":1989,"imagePaths":1990},[1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":815,"text":816},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":819,"text":820},{"depth":80,"slug":822,"text":823},{"depth":80,"slug":825,"text":826},{"depth":80,"slug":828,"text":829},{"depth":80,"slug":831,"text":832},{"depth":80,"slug":834,"text":835},{"depth":80,"slug":837,"text":838},{"depth":131,"slug":840,"text":841},{"depth":131,"slug":843,"text":844},{"depth":131,"slug":846,"text":847},{"depth":131,"slug":849,"text":850},{"depth":716,"slug":852,"text":853},{"depth":716,"slug":855,"text":856},{"depth":80,"slug":858,"text":859},{"depth":131,"slug":861,"text":862},{"depth":131,"slug":864,"text":865},{"depth":131,"slug":867,"text":868},{"depth":131,"slug":870,"text":871},{"depth":131,"slug":873,"text":874},{"depth":131,"slug":876,"text":877},{"depth":131,"slug":879,"text":880},{"depth":80,"slug":882,"text":883},{"depth":131,"slug":885,"text":886},{"depth":131,"slug":888,"text":889},[],[],{"title":802,"description":802,"slug":1947},[],"v0.54/tutorials/pepr-gitops-workflow",{"id":1991,"data":1993,"body":901,"filePath":1997,"digest":1998,"rendered":1999},{"title":897,"description":897,"editUrl":66,"head":1994,"template":68,"sidebar":1995,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":1996},{},"src/content/docs/v0.54/tutorials/pepr-gitops-workflow.md","2cee8d2963fc627f",{"html":905,"metadata":2000},{"headings":2001,"localImagePaths":2002,"remoteImagePaths":2003,"frontmatter":2004,"imagePaths":2005},[],[],[],{"title":897,"description":897,"slug":1991},[],"v0.54/user-guide/capabilities",{"id":2006,"data":2008,"body":2012,"filePath":2013,"digest":2014,"rendered":2015},{"title":915,"description":915,"editUrl":66,"head":2009,"template":68,"sidebar":2010,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2011},{},"A capability is set of related [actions](../actions/) that work together to achieve a specific transformation or operation on Kubernetes resources. Capabilities are user-defined and can include one or more actions. They are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations. A Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\n\nWhen you [`npx pepr init`](../pepr-cli#pepr-init), a `capabilities` directory is created for you. This directory is where you will define your capabilities. You can create as many capabilities as you need, and each capability can contain one or more actions. Pepr also automatically creates a `HelloPepr` capability with a number of example actions to help you get started.\n\n## Creating a Capability\n\nDefining a new capability can be done via a [VSCode Snippet](https://code.visualstudio.com/docs/editor/userdefinedsnippets) generated during [`npx pepr init`](../pepr-cli#pepr-init).\n\n1. Create a new file in the `capabilities` directory with the name of your capability. For example, `capabilities/my-capability.ts`.\n\n1. Open the new file in VSCode and type `create` in the file. A suggestion should prompt you to generate the content from there.\n\n[\u003Cvideo class=\"td-content\" controls src=\"https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4](https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4\">\u003C/video>)\n\n_If you prefer not to use VSCode, you can also modify or copy the `HelloPepr` capability to meet your needs instead._\n\n## Reusable Capabilities\n\nPepr has an NPM org managed by Defense Unicorns, `@pepr`, where capabilities are published for reuse in other Pepr Modules. You can find a list of [published capabilities here](https://www.npmjs.com/search?q=@pepr).\n\nYou also can publish your own Pepr capabilities to NPM and import them.  A couple of things you'll want to be aware of when publishing your own capabilities:\n\n- Reuseable capability versions should use the format `0.x.x` or `0.12.x` as examples to determine compatibility with other reusable capabilities. Before `1.x.x`, we recommend binding to `0.x.x` if you can for maximum compatibility.\n\n- `pepr.ts` will still be used for local development, but you'll also need to publish an `index.ts` that exports your capabilities. When you build & publish the capability to NPM, you can use `npx pepr build --entry-point index.ts` to generate the code needed for reuse by other Pepr modules.","src/content/docs/v0.54/user-guide/capabilities.md","04dae4977048bba9",{"html":2016,"metadata":2017},"\u003Cp>A capability is set of related \u003Ca href=\"../actions/\">actions\u003C/a> that work together to achieve a specific transformation or operation on Kubernetes resources. Capabilities are user-defined and can include one or more actions. They are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations. A Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.\u003C/p>\n\u003Cp>When you \u003Ca href=\"../pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>, a \u003Ccode dir=\"auto\">capabilities\u003C/code> directory is created for you. This directory is where you will define your capabilities. You can create as many capabilities as you need, and each capability can contain one or more actions. Pepr also automatically creates a \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability with a number of example actions to help you get started.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"creating-a-capability\">Creating a Capability\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#creating-a-capability\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Creating a Capability”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Defining a new capability can be done via a \u003Ca href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets\">VSCode Snippet\u003C/a> generated during \u003Ca href=\"../pepr-cli#pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/a>.\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>Create a new file in the \u003Ccode dir=\"auto\">capabilities\u003C/code> directory with the name of your capability. For example, \u003Ccode dir=\"auto\">capabilities/my-capability.ts\u003C/code>.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>Open the new file in VSCode and type \u003Ccode dir=\"auto\">create\u003C/code> in the file. A suggestion should prompt you to generate the content from there.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Cp>[\u003Cvideo class=\"td-content\" controls src=\"https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4](https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4\">\u003C/video>)\u003C/p>\n\u003Cp>\u003Cem>If you prefer not to use VSCode, you can also modify or copy the \u003Ccode dir=\"auto\">HelloPepr\u003C/code> capability to meet your needs instead.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"reusable-capabilities\">Reusable Capabilities\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#reusable-capabilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Reusable Capabilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Pepr has an NPM org managed by Defense Unicorns, \u003Ccode dir=\"auto\">@pepr\u003C/code>, where capabilities are published for reuse in other Pepr Modules. You can find a list of \u003Ca href=\"https://www.npmjs.com/search?q=@pepr\">published capabilities here\u003C/a>.\u003C/p>\n\u003Cp>You also can publish your own Pepr capabilities to NPM and import them.  A couple of things you’ll want to be aware of when publishing your own capabilities:\u003C/p>\n\u003Cul>\n\u003Cli>\n\u003Cp>Reuseable capability versions should use the format \u003Ccode dir=\"auto\">0.x.x\u003C/code> or \u003Ccode dir=\"auto\">0.12.x\u003C/code> as examples to determine compatibility with other reusable capabilities. Before \u003Ccode dir=\"auto\">1.x.x\u003C/code>, we recommend binding to \u003Ccode dir=\"auto\">0.x.x\u003C/code> if you can for maximum compatibility.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Ccode dir=\"auto\">pepr.ts\u003C/code> will still be used for local development, but you’ll also need to publish an \u003Ccode dir=\"auto\">index.ts\u003C/code> that exports your capabilities. When you build &#x26; publish the capability to NPM, you can use \u003Ccode dir=\"auto\">npx pepr build --entry-point index.ts\u003C/code> to generate the code needed for reuse by other Pepr modules.\u003C/p>\n\u003C/li>\n\u003C/ul>",{"headings":2018,"localImagePaths":2021,"remoteImagePaths":2022,"frontmatter":2023,"imagePaths":2024},[2019,2020],{"depth":80,"slug":927,"text":928},{"depth":80,"slug":930,"text":931},[],[],{"title":915,"description":915,"slug":2006},[],"v0.54/user-guide/customization",{"id":2025,"data":2027,"body":2031,"filePath":2032,"digest":2033,"rendered":2034},{"title":1024,"description":1024,"editUrl":66,"head":2028,"template":68,"sidebar":2029,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2030},{},"This document outlines how to customize the build output through Helm overrides and `package.json` configurations.\n\n## Redact Store Values from Logs\n\nBy default, the store values are displayed in logs, to redact them you can set the `PEPR_STORE_REDACT_VALUES` environment variable to `true` in the `package.json` file or directly on the Watcher or Admission `Deployment`. The default value is `undefined`.\n\n```json\n{\n  \"env\": {\n    \"PEPR_STORE_REDACT_VALUES\": \"true\"\n  }\n}\n```\n\n## Display Node Warnings\n\nYou can display warnings in the logs by setting the `PEPR_NODE_WARNINGS` environment variable to `true` in the `package.json` file or directly on the Watcher or Admission `Deployment`. The default value is `undefined`.\n\n```json\n{\n  \"env\": {\n    \"PEPR_NODE_WARNINGS\": \"true\"\n  }\n}\n```\n\n## Customizing Log Format\n\nThe log format can be customized by setting the `PINO_TIME_STAMP` environment variable in the `package.json` file or directly on the Watcher or Admission `Deployment`. The default value is a partial JSON timestamp string representation of the time. If set to `iso`, the timestamp is displayed in an ISO format.\n\n**Caution**: attempting to format time in-process will significantly impact logging performance.\n\n```json\n{\n  \"env\": {\n    \"PINO_TIME_STAMP\": \"iso\"\n  }\n}\n```\n\nWith ISO:\n\n```json\n{\"level\":30,\"time\":\"2024-05-14T14:26:03.788Z\",\"pid\":16,\"hostname\":\"pepr-static-test-7f4d54b6cc-9lxm6\",\"method\":\"GET\",\"url\":\"/healthz\",\"status\":200,\"duration\":\"1 ms\"}\n```\n\nDefault (without):\n\n```json\n{\"level\":30,\"time\":\"1715696764106\",\"pid\":16,\"hostname\":\"pepr-static-test-watcher-559d94447f-xkq2h\",\"method\":\"GET\",\"url\":\"/healthz\",\"status\":200,\"duration\":\"1 ms\"}\n```\n\n## Customizing Watch Configuration\n\nThe Watch configuration is a part of the Pepr module that allows you to watch for specific resources in the Kubernetes cluster. The Watch configuration can be customized by specific enviroment variables of the Watcher Deployment and can be set in the field in the `package.json` or in the helm `values.yaml` file.\n\n| Field                        | Description                                                                                                      | Example Values                  |\n|------------------------------|------------------------------------------------------------------------------------------------------------------|---------------------------------|\n| `PEPR_RESYNC_FAILURE_MAX`    | The maximum number of times to fail on a resync interval before re-establishing the watch URL and doing a relist. | default: `\"5\"`                |\n| `PEPR_RETRY_DELAY_SECONDS`     | The delay between retries in seconds.                                                                            | default: `\"10\"`                 |\n| `PEPR_LAST_SEEN_LIMIT_SECONDS` | Max seconds to go without receiving a watch event before re-establishing the watch | default: `\"300\"` (5 mins)       |\n| `PEPR_RELIST_INTERVAL_SECONDS` | Amount of seconds to wait before a relist of the watched resources  | default: `\"600\"` (10 mins)       |\n\n## Configuring Reconcile\n\nThe [Reconcile Action](../actions/reconcile/) allows you to maintain ordering of resource updates processed by a Pepr controller. The Reconcile configuration can be customized via enviroment variable on the Watcher Deployment, which can be set in the `package.json` or in the helm `values.yaml` file.\n\n| Field | Description | Example Values |\n|-|-|-|\n| `PEPR_RECONCILE_STRATEGY` | How Pepr should order resource updates being Reconcile()'d. | default: `\"kind\"` |\n\n| Available Options ||\n|-|-|\n| `kind`  | separate queues of events for Reconcile()'d resources of a kind |\n| `kindNs` | separate queues of events for Reconcile()'d resources of a kind, within a namespace |\n| `kindNsName` | separate queues of events for Reconcile()'d resources of a kind, within a namespace, per name |\n| `global` | a single queue of events for all Reconcile()'d resources |\n\n## Customizing with Helm\n\nBelow are the available Helm override configurations after you have built your Pepr module that you can put in the `values.yaml`.\n\n### Helm Overrides Table\n\n| Parameter                       | Description                               | Example Values                                 |\n|---------------------------------|-------------------------------------------|------------------------------------------------|\n| `additionalIgnoredNamespaces`              | Namespaces to ignore in addition to alwaysIgnore.namespaces from Pepr config in `package.json`.                    | `- pepr-playground`     |\n| `secrets.apiToken`              | Kube API-Server Token.                    | `Buffer.from(apiToken).toString(\"base64\")`     |\n| `hash`                          | Unique hash for deployment. Do not change.| `\u003Cyour_hash>`                                  |\n| `namespace.annotations`         | Namespace annotations                     | `{}`                                           |\n| `namespace.labels`              | Namespace labels                          | `{\"pepr.dev\": \"\"}`                             |\n| `uuid`                          | Unique identifier for the module          | `hub-operator`                                 |\n| `admission.*`                   | Admission controller configurations       | Various, see subparameters below               |\n| `watcher.*`                     | Watcher configurations                    | Various, see subparameters below               |\n\n### Admission and Watcher Subparameters\n\n| Subparameter                                 | Description                                                         |\n|----------------------------------------------|---------------------------------------------------------------------|\n| `failurePolicy`                              | Webhook failure policy [Ignore, Fail]                               |\n| `webhookTimeout`                             | Timeout seconds for webhooks [1 - 30]                               |\n| `env`                                        | Container environment variables                                     |\n| `image`                                      | Container image                                                     |\n| `annotations`                                | Deployment annotations                                              |\n| `labels`                                     | Deployment labels                                                   |\n| `securityContext`                            | Pod security context                                                |\n| `readinessProbe`                             | Pod readiness probe definition                                      |\n| `livenessProbe`                              | Pod liveness probe definition                                       |\n| `resources`                                  | Resource limits                                                     |\n| `containerSecurityContext`                   | Container's security context                                        |\n| `nodeSelector`                               | Node selection constraints                                          |\n| `tolerations`                                | Tolerations to taints                                               |\n| `affinity`                                   | Node scheduling options                                             |\n| `terminationGracePeriodSeconds`              | Optional duration in seconds the pod needs to terminate gracefully  |\n\nNote: Replace `*` within `admission.*` or `watcher.*` to apply settings specific to the desired subparameter (e.g. `admission.failurePolicy`).\n\n## Customizing with package.json\n\nBelow are the available configurations through `package.json`.\n\n### package.json Configurations Table\n\n| Field            | Description                            | Example Values                      |\n|------------------|----------------------------------------|-------------------------------------|\n| `uuid`           | Unique identifier for the module       | `hub-operator`                      |\n| `onError`        | Behavior of the webhook failure policy | `audit`, `ignore`, `reject`         |\n| `webhookTimeout` | Webhook timeout in seconds             | `1` - `30`                          |\n| `customLabels`   | Custom labels for namespaces           | `{namespace: {}}`                   |\n| `alwaysIgnore`   | Conditions to always ignore            | `{namespaces: []}`                  |\n| `admission`      | admission namespaces to always ignore  | `{alwaysIgnore: {namespaces: []}}`  |\n| `watch`          | watcher namespaces to always ignore    | `{alwaysIgnore: {namespaces: []}}`  |\n| `includedFiles`  | For working with WebAssembly           | [\"main.wasm\", \"wasm_exec.js\"]       |\n| `env`            | Environment variables for the container| `{LOG_LEVEL: \"warn\"}`               |\n| `rbac`           | Custom RBAC rules (requires building with `rbacMode: scoped`)                | `[{\"apiGroups\": [\"\u003CapiGroups>\"], \"resources\": [\"\u003Cresources>\"], \"verbs\": [\"\u003Cverbs>\"]}]` |\n| `rbacMode`       | Configures module to build binding RBAC with principal of least privilege | `scoped`, `admin` |\n| `additionalWebhooks` | Additional webhooks configuration | `[{\"failurePolicy\": \"Fail\", \"namespace\": \"example-namespace\"}]` |\n\n**admission.alwaysIgnore && watcher.alwaysIgnore**: These configurations cannot be used with the global `alwaysIgnore` field. They are used to specify namespaces that should always be ignored by the admission controller or watcher, respectively.\n**uuid**: An identifier for the module in the `pepr-system` namespace. If not provided, a UUID will be generated. It can be any [kubernetes acceptable name](https://kubernetes.io/docs/concepts/overview/working-with-objects/names/) that is under 36 characters.\n\nThese tables provide a comprehensive overview of the fields available for customization within the Helm overrides and the `package.json` file. Modify these according to your deployment requirements.\n\n### Example Custom RBAC Rules\n\nThe following example demonstrates how to add custom RBAC rules to the Pepr module.\n\n```json\n{\n  \"pepr\": {\n    \"rbac\": [\n      {\n        \"apiGroups\": [\"pepr.dev\"],\n        \"resources\": [\"customresources\"],\n        \"verbs\": [\"get\", \"list\"]\n      },\n      {\n        \"apiGroups\": [\"apps\"],\n        \"resources\": [\"deployments\"],\n        \"verbs\": [\"create\", \"delete\"]\n      }\n    ]\n  }\n}\n```","src/content/docs/v0.54/user-guide/customization.md","20b6a784bc514b36",{"html":2035,"metadata":2036},"\u003Cp>This document outlines how to customize the build output through Helm overrides and \u003Ccode dir=\"auto\">package.json\u003C/code> configurations.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"redact-store-values-from-logs\">Redact Store Values from Logs\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#redact-store-values-from-logs\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Redact Store Values from Logs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>By default, the store values are displayed in logs, to redact them you can set the \u003Ccode dir=\"auto\">PEPR_STORE_REDACT_VALUES\u003C/code> environment variable to \u003Ccode dir=\"auto\">true\u003C/code> in the \u003Ccode dir=\"auto\">package.json\u003C/code> file or directly on the Watcher or Admission \u003Ccode dir=\"auto\">Deployment\u003C/code>. The default value is \u003Ccode dir=\"auto\">undefined\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_STORE_REDACT_VALUES\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;env&#x22;: {    &#x22;PEPR_STORE_REDACT_VALUES&#x22;: &#x22;true&#x22;  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"display-node-warnings\">Display Node Warnings\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#display-node-warnings\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Display Node Warnings”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can display warnings in the logs by setting the \u003Ccode dir=\"auto\">PEPR_NODE_WARNINGS\u003C/code> environment variable to \u003Ccode dir=\"auto\">true\u003C/code> in the \u003Ccode dir=\"auto\">package.json\u003C/code> file or directly on the Watcher or Admission \u003Ccode dir=\"auto\">Deployment\u003C/code>. The default value is \u003Ccode dir=\"auto\">undefined\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_NODE_WARNINGS\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;env&#x22;: {    &#x22;PEPR_NODE_WARNINGS&#x22;: &#x22;true&#x22;  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-log-format\">Customizing Log Format\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-log-format\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing Log Format”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The log format can be customized by setting the \u003Ccode dir=\"auto\">PINO_TIME_STAMP\u003C/code> environment variable in the \u003Ccode dir=\"auto\">package.json\u003C/code> file or directly on the Watcher or Admission \u003Ccode dir=\"auto\">Deployment\u003C/code>. The default value is a partial JSON timestamp string representation of the time. If set to \u003Ccode dir=\"auto\">iso\u003C/code>, the timestamp is displayed in an ISO format.\u003C/p>\n\u003Cp>\u003Cstrong>Caution\u003C/strong>: attempting to format time in-process will significantly impact logging performance.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PINO_TIME_STAMP\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">iso\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;env&#x22;: {    &#x22;PINO_TIME_STAMP&#x22;: &#x22;iso&#x22;  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>With ISO:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"level\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">30\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"time\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">2024-05-14T14:26:03.788Z\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">16\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">pepr-static-test-7f4d54b6cc-9lxm6\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"method\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">GET\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"url\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">/healthz\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"status\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">200\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"duration\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">1 ms\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:&#x22;2024-05-14T14:26:03.788Z&#x22;,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-7f4d54b6cc-9lxm6&#x22;,&#x22;method&#x22;:&#x22;GET&#x22;,&#x22;url&#x22;:&#x22;/healthz&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;1 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Default (without):\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"level\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">30\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"time\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">1715696764106\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">16\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">pepr-static-test-watcher-559d94447f-xkq2h\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"method\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">GET\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"url\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">/healthz\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"status\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">200\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"duration\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">1 ms\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{&#x22;level&#x22;:30,&#x22;time&#x22;:&#x22;1715696764106&#x22;,&#x22;pid&#x22;:16,&#x22;hostname&#x22;:&#x22;pepr-static-test-watcher-559d94447f-xkq2h&#x22;,&#x22;method&#x22;:&#x22;GET&#x22;,&#x22;url&#x22;:&#x22;/healthz&#x22;,&#x22;status&#x22;:200,&#x22;duration&#x22;:&#x22;1 ms&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-watch-configuration\">Customizing Watch Configuration\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-watch-configuration\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing Watch Configuration”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The Watch configuration is a part of the Pepr module that allows you to watch for specific resources in the Kubernetes cluster. The Watch configuration can be customized by specific enviroment variables of the Watcher Deployment and can be set in the field in the \u003Ccode dir=\"auto\">package.json\u003C/code> or in the helm \u003Ccode dir=\"auto\">values.yaml\u003C/code> file.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Field\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RESYNC_FAILURE_MAX\u003C/code>\u003C/td>\u003Ctd>The maximum number of times to fail on a resync interval before re-establishing the watch URL and doing a relist.\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"5\"\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RETRY_DELAY_SECONDS\u003C/code>\u003C/td>\u003Ctd>The delay between retries in seconds.\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"10\"\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_LAST_SEEN_LIMIT_SECONDS\u003C/code>\u003C/td>\u003Ctd>Max seconds to go without receiving a watch event before re-establishing the watch\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"300\"\u003C/code> (5 mins)\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RELIST_INTERVAL_SECONDS\u003C/code>\u003C/td>\u003Ctd>Amount of seconds to wait before a relist of the watched resources\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"600\"\u003C/code> (10 mins)\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"configuring-reconcile\">Configuring Reconcile\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#configuring-reconcile\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Configuring Reconcile”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The \u003Ca href=\"../actions/reconcile/\">Reconcile Action\u003C/a> allows you to maintain ordering of resource updates processed by a Pepr controller. The Reconcile configuration can be customized via enviroment variable on the Watcher Deployment, which can be set in the \u003Ccode dir=\"auto\">package.json\u003C/code> or in the helm \u003Ccode dir=\"auto\">values.yaml\u003C/code> file.\u003C/p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Field\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">PEPR_RECONCILE_STRATEGY\u003C/code>\u003C/td>\u003Ctd>How Pepr should order resource updates being Reconcile()‘d.\u003C/td>\u003Ctd>default: \u003Ccode dir=\"auto\">\"kind\"\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Available Options\u003C/th>\u003Cth>\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kind\u003C/code>\u003C/td>\u003Ctd>separate queues of events for Reconcile()‘d resources of a kind\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNs\u003C/code>\u003C/td>\u003Ctd>separate queues of events for Reconcile()‘d resources of a kind, within a namespace\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">kindNsName\u003C/code>\u003C/td>\u003Ctd>separate queues of events for Reconcile()‘d resources of a kind, within a namespace, per name\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">global\u003C/code>\u003C/td>\u003Ctd>a single queue of events for all Reconcile()‘d resources\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-with-helm\">Customizing with Helm\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-with-helm\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing with Helm”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Below are the available Helm override configurations after you have built your Pepr module that you can put in the \u003Ccode dir=\"auto\">values.yaml\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"helm-overrides-table\">Helm Overrides Table\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#helm-overrides-table\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Helm Overrides Table”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Parameter\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">additionalIgnoredNamespaces\u003C/code>\u003C/td>\u003Ctd>Namespaces to ignore in addition to alwaysIgnore.namespaces from Pepr config in \u003Ccode dir=\"auto\">package.json\u003C/code>.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">- pepr-playground\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">secrets.apiToken\u003C/code>\u003C/td>\u003Ctd>Kube API-Server Token.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">Buffer.from(apiToken).toString(\"base64\")\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">hash\u003C/code>\u003C/td>\u003Ctd>Unique hash for deployment. Do not change.\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">&#x3C;your_hash>\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">namespace.annotations\u003C/code>\u003C/td>\u003Ctd>Namespace annotations\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">namespace.labels\u003C/code>\u003C/td>\u003Ctd>Namespace labels\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{\"pepr.dev\": \"\"}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">uuid\u003C/code>\u003C/td>\u003Ctd>Unique identifier for the module\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">hub-operator\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">admission.*\u003C/code>\u003C/td>\u003Ctd>Admission controller configurations\u003C/td>\u003Ctd>Various, see subparameters below\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">watcher.*\u003C/code>\u003C/td>\u003Ctd>Watcher configurations\u003C/td>\u003Ctd>Various, see subparameters below\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"admission-and-watcher-subparameters\">Admission and Watcher Subparameters\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#admission-and-watcher-subparameters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Admission and Watcher Subparameters”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Subparameter\u003C/th>\u003Cth>Description\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">failurePolicy\u003C/code>\u003C/td>\u003Ctd>Webhook failure policy [Ignore, Fail]\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">webhookTimeout\u003C/code>\u003C/td>\u003Ctd>Timeout seconds for webhooks [1 - 30]\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">env\u003C/code>\u003C/td>\u003Ctd>Container environment variables\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">image\u003C/code>\u003C/td>\u003Ctd>Container image\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">annotations\u003C/code>\u003C/td>\u003Ctd>Deployment annotations\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">labels\u003C/code>\u003C/td>\u003Ctd>Deployment labels\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">securityContext\u003C/code>\u003C/td>\u003Ctd>Pod security context\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">readinessProbe\u003C/code>\u003C/td>\u003Ctd>Pod readiness probe definition\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">livenessProbe\u003C/code>\u003C/td>\u003Ctd>Pod liveness probe definition\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">resources\u003C/code>\u003C/td>\u003Ctd>Resource limits\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">containerSecurityContext\u003C/code>\u003C/td>\u003Ctd>Container’s security context\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">nodeSelector\u003C/code>\u003C/td>\u003Ctd>Node selection constraints\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">tolerations\u003C/code>\u003C/td>\u003Ctd>Tolerations to taints\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">affinity\u003C/code>\u003C/td>\u003Ctd>Node scheduling options\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">terminationGracePeriodSeconds\u003C/code>\u003C/td>\u003Ctd>Optional duration in seconds the pod needs to terminate gracefully\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>Note: Replace \u003Ccode dir=\"auto\">*\u003C/code> within \u003Ccode dir=\"auto\">admission.*\u003C/code> or \u003Ccode dir=\"auto\">watcher.*\u003C/code> to apply settings specific to the desired subparameter (e.g. \u003Ccode dir=\"auto\">admission.failurePolicy\u003C/code>).\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"customizing-with-packagejson\">Customizing with package.json\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#customizing-with-packagejson\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customizing with package.json”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Below are the available configurations through \u003Ccode dir=\"auto\">package.json\u003C/code>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"packagejson-configurations-table\">package.json Configurations Table\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#packagejson-configurations-table\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “package.json Configurations Table”\u003C/span>\u003C/a>\u003C/div>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>Field\u003C/th>\u003Cth>Description\u003C/th>\u003Cth>Example Values\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">uuid\u003C/code>\u003C/td>\u003Ctd>Unique identifier for the module\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">hub-operator\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">onError\u003C/code>\u003C/td>\u003Ctd>Behavior of the webhook failure policy\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">audit\u003C/code>, \u003Ccode dir=\"auto\">ignore\u003C/code>, \u003Ccode dir=\"auto\">reject\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">webhookTimeout\u003C/code>\u003C/td>\u003Ctd>Webhook timeout in seconds\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">1\u003C/code> - \u003Ccode dir=\"auto\">30\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">customLabels\u003C/code>\u003C/td>\u003Ctd>Custom labels for namespaces\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{namespace: {}}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">alwaysIgnore\u003C/code>\u003C/td>\u003Ctd>Conditions to always ignore\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{namespaces: []}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">admission\u003C/code>\u003C/td>\u003Ctd>admission namespaces to always ignore\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{alwaysIgnore: {namespaces: []}}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">watch\u003C/code>\u003C/td>\u003Ctd>watcher namespaces to always ignore\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{alwaysIgnore: {namespaces: []}}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">includedFiles\u003C/code>\u003C/td>\u003Ctd>For working with WebAssembly\u003C/td>\u003Ctd>[“main.wasm”, “wasm_exec.js”]\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">env\u003C/code>\u003C/td>\u003Ctd>Environment variables for the container\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">{LOG_LEVEL: \"warn\"}\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">rbac\u003C/code>\u003C/td>\u003Ctd>Custom RBAC rules (requires building with \u003Ccode dir=\"auto\">rbacMode: scoped\u003C/code>)\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">[{\"apiGroups\": [\"&#x3C;apiGroups>\"], \"resources\": [\"&#x3C;resources>\"], \"verbs\": [\"&#x3C;verbs>\"]}]\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">rbacMode\u003C/code>\u003C/td>\u003Ctd>Configures module to build binding RBAC with principal of least privilege\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">scoped\u003C/code>, \u003Ccode dir=\"auto\">admin\u003C/code>\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>\u003Ccode dir=\"auto\">additionalWebhooks\u003C/code>\u003C/td>\u003Ctd>Additional webhooks configuration\u003C/td>\u003Ctd>\u003Ccode dir=\"auto\">[{\"failurePolicy\": \"Fail\", \"namespace\": \"example-namespace\"}]\u003C/code>\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Cp>\u003Cstrong>admission.alwaysIgnore &#x26;&#x26; watcher.alwaysIgnore\u003C/strong>: These configurations cannot be used with the global \u003Ccode dir=\"auto\">alwaysIgnore\u003C/code> field. They are used to specify namespaces that should always be ignored by the admission controller or watcher, respectively.\n\u003Cstrong>uuid\u003C/strong>: An identifier for the module in the \u003Ccode dir=\"auto\">pepr-system\u003C/code> namespace. If not provided, a UUID will be generated. It can be any \u003Ca href=\"https://kubernetes.io/docs/concepts/overview/working-with-objects/names/\">kubernetes acceptable name\u003C/a> that is under 36 characters.\u003C/p>\n\u003Cp>These tables provide a comprehensive overview of the fields available for customization within the Helm overrides and the \u003Ccode dir=\"auto\">package.json\u003C/code> file. Modify these according to your deployment requirements.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"example-custom-rbac-rules\">Example Custom RBAC Rules\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#example-custom-rbac-rules\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Example Custom RBAC Rules”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>The following example demonstrates how to add custom RBAC rules to the Pepr module.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"pepr\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"rbac\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"apiGroups\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">pepr.dev\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"resources\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">customresources\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"verbs\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">get\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">list\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"apiGroups\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">apps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"resources\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">deployments\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">        \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"verbs\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: [\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">create\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C789D6;--1:#7C5686\">delete\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"{  &#x22;pepr&#x22;: {    &#x22;rbac&#x22;: [      {        &#x22;apiGroups&#x22;: [&#x22;pepr.dev&#x22;],        &#x22;resources&#x22;: [&#x22;customresources&#x22;],        &#x22;verbs&#x22;: [&#x22;get&#x22;, &#x22;list&#x22;]      },      {        &#x22;apiGroups&#x22;: [&#x22;apps&#x22;],        &#x22;resources&#x22;: [&#x22;deployments&#x22;],        &#x22;verbs&#x22;: [&#x22;create&#x22;, &#x22;delete&#x22;]      }    ]  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":2037,"localImagePaths":2049,"remoteImagePaths":2050,"frontmatter":2051,"imagePaths":2052},[2038,2039,2040,2041,2042,2043,2044,2045,2046,2047,2048],{"depth":80,"slug":1036,"text":1037},{"depth":80,"slug":1039,"text":1040},{"depth":80,"slug":1042,"text":1043},{"depth":80,"slug":1045,"text":1046},{"depth":80,"slug":1048,"text":1049},{"depth":80,"slug":1051,"text":1052},{"depth":131,"slug":1054,"text":1055},{"depth":131,"slug":1057,"text":1058},{"depth":80,"slug":1060,"text":1061},{"depth":131,"slug":1063,"text":1064},{"depth":131,"slug":1066,"text":1067},[],[],{"title":1024,"description":1024,"slug":2025},[],"v0.54/user-guide/custom-resources",{"id":2053,"data":2055,"body":943,"filePath":2059,"digest":2060,"rendered":2061},{"title":939,"description":939,"editUrl":66,"head":2056,"template":68,"sidebar":2057,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2058},{},"src/content/docs/v0.54/user-guide/custom-resources.md","cc1c5ee68f0ff1f3",{"html":947,"metadata":2062},{"headings":2063,"localImagePaths":2067,"remoteImagePaths":2068,"frontmatter":2069,"imagePaths":2070},[2064,2065,2066],{"depth":80,"slug":951,"text":952},{"depth":80,"slug":954,"text":955},{"depth":80,"slug":957,"text":958},[],[],{"title":939,"description":939,"slug":2053},[],"v0.54/user-guide/feature-flags",{"id":2071,"data":2073,"body":2077,"filePath":2078,"digest":2079,"rendered":2080},{"title":966,"description":966,"editUrl":66,"head":2074,"template":68,"sidebar":2075,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2076},{},"Feature flags allow you to enable, disable, or configure features in Pepr.\nThey provide a way to manage feature rollouts, toggle experimental features, and maintain configuration across different environments.\nFeature flags work across both CLI and in-cluster environments, using the same underlying implementation.\n\nPepr's feature flag system supports:\n\n- Boolean flags\n- String values\n- Numeric values\n- Default values for flags\n- Type safety through TypeScript\n- Configuration via environment variables\n- Configuration via initialization strings\n- Consistent behavior in both CLI and in-cluster environments\n\n## Best Practices\n\n1. **Temporary Usage**: Use feature flags for temporary changes, gradual rollouts, or experimental features. Do NOT use feature flags for permanent configuration.\n1. **Descriptive Names**: Choose descriptive flag names and provide detailed descriptions in the metadata.\n1. **Default Values**: Always provide sensible default values for feature flags.\n1. **Type Safety**: Leverage TypeScript's type system when accessing feature flags.\n1. **Cleanup**: Remove feature flags that are no longer needed to maintain a clean codebase and stay within the feature flag limit.\n\n## Getting Started\n\n### Using Feature Flags\n\n1. **Enable a CLI feature flag via environment variable:**\n\n   ```bash\n   PEPR_FEATURE_REFERENCE_FLAG=true npx pepr@latest\n   ```\n\n2. **Enable a CLI feature flag via argument:**\n\n   ```bash\n   npx pepr@latest --features=\"reference_flag=true\"\n   ```\n\n3. **Configure feature flags for a Pepr module:**\n   Add to your `package.json`:\n\n   ```json\n   \"pepr\": {\n     \"env\": {\n       \"PEPR_FEATURE_REFERENCE_FLAG\": true\n     }\n   }\n   ```\n\n## Defining Feature Flags\n\nFeature flags in Pepr are defined in the `FeatureFlags` object.\nThe `FeatureFlags` object is the source of truth for all available feature flags.\n\n> **Important**: To reduce complexity, Pepr enforces a limit of 4 active feature flags.\n> Exceeding this limit results in an error (e.g., `Error: Too many feature flags active: 5 (maximum: 4).`)\n\nFeature Flags have:\n\n- A unique key used for programmatic access\n- Metadata containing name, description, and default value\n\nFeature flag values are converted to appropriate types:\n\n- `\"true\"` and `\"false\"` strings are converted to boolean values\n- Numeric strings are converted to numbers\n- All other values remain as strings\n\nExample definition:\n\n```typescript\nexport const FeatureFlags: Record\u003Cstring, FeatureInfo> = {\n  REFERENCE_FLAG: {\n    key: \"reference_flag\",\n    metadata: {\n      name: \"Reference Flag\",\n      description: \"A feature flag to show intended usage.\",\n      defaultValue: false,\n    },\n  },\n};\n```\n\n## Configuration and Workflows\n\nFeature flags are configured in two ways for either CLI or Module use.\nOnly feature flags defined in the `FeatureFlags` object can be configured.\nAttempting to use an undefined flag will result in an error.\n\n### Pepr CLI Workflow\n\n1. **Using environment variables** with the format `PEPR_FEATURE_\u003CFLAG_NAME>`:\n\n   ```bash\n   # Run Pepr with debug logging to verify feature flags\n   PEPR_FEATURE_REFERENCE_FLAG=true LOG_LEVEL=debug npx pepr@latest\n   ```\n\n2. **Using the `--features` CLI argument**:\n\n   ```bash\n   LOG_LEVEL=debug npx pepr@latest --features=\"reference_flag=true\"\n   ```\n\n### Pepr Module Deployment Workflow\n\nFor deployed modules, configure feature flags in the module's `package.json`:\n\n```json\n  \"pepr\": {\n    \"env\": {\n      \"PEPR_FEATURE_REFERENCE_FLAG\": true\n    }\n  },\n```\n\nBuild and deploy the module once environment variables are set with a known `$APP_NAME`:\n\n```bash\n# Edit your package.json to include feature flags\njq '.pepr.env.PEPR_FEATURE_REFERENCE_FLAG = true' package.json\n\nnpx pepr@latest build\nnpx pepr@latest deploy -i pepr:dev\n\nAPP_NAME=pepr-module-name\nkubectl logs -n pepr-system --selector app=$APP_NAME | grep \"Feature flags store initialized\"\n```\n\n## Troubleshooting\n\n### Feature Flag Not Recognized\n\nIf your feature flag isn't recognized:\n\n1. Verify the flag is defined in the `FeatureFlags` object\n2. Check the case of the environment variable (`PEPR_FEATURE_REFERENCE_FLAG` vs `pepr_feature_reference_flag`)\n3. Ensure correct format for CLI flags (`reference_flag=true` not `REFERENCE_FLAG=true`)\n\n### Too Many Feature Flags\n\nIf you receive the error: `Error: Too many feature flags active: 5 (maximum: 4)`\n\n1. Review active feature flags using `featureFlagStore.getAll()`\n2. Remove or consolidate unnecessary feature flags\n3. Consider if some flags could be regular configuration instead\n\n### Flag Value Incorrect Type\n\nIf your feature flag has an unexpected type:\n\n1. Remember that strings `\"true\"` and `\"false\"` are automatically converted to booleans\n2. Numeric strings are automatically converted to numbers\n3. Use explicit type checking in your code: `typeof featureFlagStore.get(...)`\n\n---\n\n## For Maintainers\n\n## Development Guidelines\n\n### Accessing and Implementing Feature Flags\n\nTo add a new feature flag, update the `FeatureFlags` object in the source code.\nAny feature flag not defined in this object cannot be used in the application.\n\nAccess feature flags the same way in both CLI and in-cluster environments using the `featureFlagStore`.\n\nThis snippet shows how to execute different code paths based upon a feature flag value.\nTo execute within the Pepr project, save the snippet to `file.ts` and run `npx tsx file.ts`.\n\n```typescript\nimport { featureFlagStore } from \"./lib/features/store\";\nimport { FeatureFlags } from \"./lib/features/FeatureFlags\";\n\n// Get a boolean flag\nconst isReferenceEnabled = featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key);\n\nconst allFlags = featureFlagStore.getAll();\n\n// Use feature flags for conditional logic\nif (featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)) {\n  Log.info(`Flag value: ${isReferenceEnabled} of type ${typeof featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)}`)\n} else {\n  Log.info(`All flags: ${JSON.stringify(allFlags)}`)\n}\n```","src/content/docs/v0.54/user-guide/feature-flags.md","a4074bcd4f9e6c26",{"html":2081,"metadata":2082},"\u003Cp>Feature flags allow you to enable, disable, or configure features in Pepr.\nThey provide a way to manage feature rollouts, toggle experimental features, and maintain configuration across different environments.\nFeature flags work across both CLI and in-cluster environments, using the same underlying implementation.\u003C/p>\n\u003Cp>Pepr’s feature flag system supports:\u003C/p>\n\u003Cul>\n\u003Cli>Boolean flags\u003C/li>\n\u003Cli>String values\u003C/li>\n\u003Cli>Numeric values\u003C/li>\n\u003Cli>Default values for flags\u003C/li>\n\u003Cli>Type safety through TypeScript\u003C/li>\n\u003Cli>Configuration via environment variables\u003C/li>\n\u003Cli>Configuration via initialization strings\u003C/li>\n\u003Cli>Consistent behavior in both CLI and in-cluster environments\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"best-practices\">Best Practices\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#best-practices\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Best Practices”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\u003Cstrong>Temporary Usage\u003C/strong>: Use feature flags for temporary changes, gradual rollouts, or experimental features. Do NOT use feature flags for permanent configuration.\u003C/li>\n\u003Cli>\u003Cstrong>Descriptive Names\u003C/strong>: Choose descriptive flag names and provide detailed descriptions in the metadata.\u003C/li>\n\u003Cli>\u003Cstrong>Default Values\u003C/strong>: Always provide sensible default values for feature flags.\u003C/li>\n\u003Cli>\u003Cstrong>Type Safety\u003C/strong>: Leverage TypeScript’s type system when accessing feature flags.\u003C/li>\n\u003Cli>\u003Cstrong>Cleanup\u003C/strong>: Remove feature flags that are no longer needed to maintain a clean codebase and stay within the feature flag limit.\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"getting-started\">Getting Started\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#getting-started\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Getting Started”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"using-feature-flags\">Using Feature Flags\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#using-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Using Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Enable a CLI feature flag via environment variable:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PEPR_FEATURE_REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">true\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"PEPR_FEATURE_REFERENCE_FLAG=true npx pepr@latest\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Enable a CLI feature flag via argument:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--features=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reference_flag=true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr@latest --features=&#x22;reference_flag=true&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Configure feature flags for a Pepr module:\u003C/strong>\nAdd to your \u003Ccode dir=\"auto\">package.json\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_FEATURE_REFERENCE_FLAG\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"&#x22;pepr&#x22;: {  &#x22;env&#x22;: {    &#x22;PEPR_FEATURE_REFERENCE_FLAG&#x22;: true  }}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"defining-feature-flags\">Defining Feature Flags\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#defining-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Defining Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Feature flags in Pepr are defined in the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object.\nThe \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object is the source of truth for all available feature flags.\u003C/p>\n\u003Cblockquote>\n\u003Cp>\u003Cstrong>Important\u003C/strong>: To reduce complexity, Pepr enforces a limit of 4 active feature flags.\nExceeding this limit results in an error (e.g., \u003Ccode dir=\"auto\">Error: Too many feature flags active: 5 (maximum: 4).\u003C/code>)\u003C/p>\n\u003C/blockquote>\n\u003Cp>Feature Flags have:\u003C/p>\n\u003Cul>\n\u003Cli>A unique key used for programmatic access\u003C/li>\n\u003Cli>Metadata containing name, description, and default value\u003C/li>\n\u003C/ul>\n\u003Cp>Feature flag values are converted to appropriate types:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">\"true\"\u003C/code> and \u003Ccode dir=\"auto\">\"false\"\u003C/code> strings are converted to boolean values\u003C/li>\n\u003Cli>Numeric strings are converted to numbers\u003C/li>\n\u003Cli>All other values remain as strings\u003C/li>\n\u003C/ul>\n\u003Cp>Example definition:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">FeatureFlags\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">:\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">Record\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">&#x3C;\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">string\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#FFCB8B;--1:#111111\">FeatureInfo\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">> = {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">REFERENCE_FLAG: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">key: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reference_flag\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">metadata: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Reference Flag\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">description: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">A feature flag to show intended usage.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">defaultValue: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">false\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"export const FeatureFlags: Record\u003Cstring, FeatureInfo> = {  REFERENCE_FLAG: {    key: &#x22;reference_flag&#x22;,    metadata: {      name: &#x22;Reference Flag&#x22;,      description: &#x22;A feature flag to show intended usage.&#x22;,      defaultValue: false,    },  },};\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"configuration-and-workflows\">Configuration and Workflows\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#configuration-and-workflows\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Configuration and Workflows”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Feature flags are configured in two ways for either CLI or Module use.\nOnly feature flags defined in the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object can be configured.\nAttempting to use an undefined flag will result in an error.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-cli-workflow\">Pepr CLI Workflow\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-cli-workflow\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr CLI Workflow”\u003C/span>\u003C/a>\u003C/div>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Using environment variables\u003C/strong> with the format \u003Ccode dir=\"auto\">PEPR_FEATURE_&#x3C;FLAG_NAME>\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Run Pepr with debug logging to verify feature flags\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">PEPR_FEATURE_REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">true\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">LOG_LEVEL\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"PEPR_FEATURE_REFERENCE_FLAG=true LOG_LEVEL=debug npx pepr@latest\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Using the \u003Ccode dir=\"auto\">--features\u003C/code> CLI argument\u003C/strong>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">LOG_LEVEL\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">debug\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--features=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">reference_flag=true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"LOG_LEVEL=debug npx pepr@latest --features=&#x22;reference_flag=true&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-module-deployment-workflow\">Pepr Module Deployment Workflow\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-module-deployment-workflow\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Module Deployment Workflow”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>For deployed modules, configure feature flags in the module’s \u003Ccode dir=\"auto\">package.json\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"json\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"env\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">\"PEPR_FEATURE_REFERENCE_FLAG\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#FF6A83;--1:#A24848\">true\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"  &#x22;pepr&#x22;: {    &#x22;env&#x22;: {      &#x22;PEPR_FEATURE_REFERENCE_FLAG&#x22;: true    }  },\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Build and deploy the module once environment variables are set with a known \u003Ccode dir=\"auto\">$APP_NAME\u003C/code>:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Edit your package.json to include feature flags\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">jq\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">.pepr.env.PEPR_FEATURE_REFERENCE_FLAG = true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">package.json\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr@latest\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr:dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">APP_NAME\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-module-name\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--selector\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app=\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$APP_NAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">grep\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Feature flags store initialized\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"jq &#x27;.pepr.env.PEPR_FEATURE_REFERENCE_FLAG = true&#x27; package.jsonnpx pepr@latest buildnpx pepr@latest deploy -i pepr:devAPP_NAME=pepr-module-namekubectl logs -n pepr-system --selector app=$APP_NAME | grep &#x22;Feature flags store initialized&#x22;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"troubleshooting\">Troubleshooting\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#troubleshooting\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Troubleshooting”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"feature-flag-not-recognized\">Feature Flag Not Recognized\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#feature-flag-not-recognized\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Feature Flag Not Recognized”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If your feature flag isn’t recognized:\u003C/p>\n\u003Col>\n\u003Cli>Verify the flag is defined in the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object\u003C/li>\n\u003Cli>Check the case of the environment variable (\u003Ccode dir=\"auto\">PEPR_FEATURE_REFERENCE_FLAG\u003C/code> vs \u003Ccode dir=\"auto\">pepr_feature_reference_flag\u003C/code>)\u003C/li>\n\u003Cli>Ensure correct format for CLI flags (\u003Ccode dir=\"auto\">reference_flag=true\u003C/code> not \u003Ccode dir=\"auto\">REFERENCE_FLAG=true\u003C/code>)\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"too-many-feature-flags\">Too Many Feature Flags\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#too-many-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Too Many Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If you receive the error: \u003Ccode dir=\"auto\">Error: Too many feature flags active: 5 (maximum: 4)\u003C/code>\u003C/p>\n\u003Col>\n\u003Cli>Review active feature flags using \u003Ccode dir=\"auto\">featureFlagStore.getAll()\u003C/code>\u003C/li>\n\u003Cli>Remove or consolidate unnecessary feature flags\u003C/li>\n\u003Cli>Consider if some flags could be regular configuration instead\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"flag-value-incorrect-type\">Flag Value Incorrect Type\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#flag-value-incorrect-type\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Flag Value Incorrect Type”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If your feature flag has an unexpected type:\u003C/p>\n\u003Col>\n\u003Cli>Remember that strings \u003Ccode dir=\"auto\">\"true\"\u003C/code> and \u003Ccode dir=\"auto\">\"false\"\u003C/code> are automatically converted to booleans\u003C/li>\n\u003Cli>Numeric strings are automatically converted to numbers\u003C/li>\n\u003Cli>Use explicit type checking in your code: \u003Ccode dir=\"auto\">typeof featureFlagStore.get(...)\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"for-maintainers\">For Maintainers\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#for-maintainers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “For Maintainers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"development-guidelines\">Development Guidelines\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#development-guidelines\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Development Guidelines”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"accessing-and-implementing-feature-flags\">Accessing and Implementing Feature Flags\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#accessing-and-implementing-feature-flags\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Accessing and Implementing Feature Flags”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>To add a new feature flag, update the \u003Ccode dir=\"auto\">FeatureFlags\u003C/code> object in the source code.\nAny feature flag not defined in this object cannot be used in the application.\u003C/p>\n\u003Cp>Access feature flags the same way in both CLI and in-cluster environments using the \u003Ccode dir=\"auto\">featureFlagStore\u003C/code>.\u003C/p>\n\u003Cp>This snippet shows how to execute different code paths based upon a feature flag value.\nTo execute within the Pepr project, save the snippet to \u003Ccode dir=\"auto\">file.ts\u003C/code> and run \u003Ccode dir=\"auto\">npx tsx file.ts\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { featureFlagStore } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">./lib/features/store\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { FeatureFlags } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">./lib/features/FeatureFlags\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Get a boolean flag\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">isReferenceEnabled\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(FeatureFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">key\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">allFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getAll\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">();\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Use feature flags for conditional logic\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">if\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> (featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(FeatureFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">key\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)) {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Flag value: \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">isReferenceEnabled\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\"> of type \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">typeof\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\"> \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">featureFlagStore\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(FeatureFlags\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">REFERENCE_FLAG\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">key\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">} \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">else\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">Log\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">info\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">All flags: \u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">${\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">JSON\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">stringify\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(allFlags)\u003C/span>\u003Cspan style=\"--0:#E2817F;--1:#B23834\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">`\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { featureFlagStore } from &#x22;./lib/features/store&#x22;;import { FeatureFlags } from &#x22;./lib/features/FeatureFlags&#x22;;// Get a boolean flagconst isReferenceEnabled = featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key);const allFlags = featureFlagStore.getAll();// Use feature flags for conditional logicif (featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)) {  Log.info(&#x60;Flag value: ${isReferenceEnabled} of type ${typeof featureFlagStore.get(FeatureFlags.REFERENCE_FLAG.key)}&#x60;)} else {  Log.info(&#x60;All flags: ${JSON.stringify(allFlags)}&#x60;)}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":2083,"localImagePaths":2098,"remoteImagePaths":2099,"frontmatter":2100,"imagePaths":2101},[2084,2085,2086,2087,2088,2089,2090,2091,2092,2093,2094,2095,2096,2097],{"depth":80,"slug":978,"text":979},{"depth":80,"slug":295,"text":296},{"depth":131,"slug":982,"text":983},{"depth":80,"slug":985,"text":986},{"depth":80,"slug":988,"text":989},{"depth":131,"slug":991,"text":992},{"depth":131,"slug":994,"text":995},{"depth":80,"slug":997,"text":998},{"depth":131,"slug":1000,"text":1001},{"depth":131,"slug":1003,"text":1004},{"depth":131,"slug":1006,"text":1007},{"depth":80,"slug":1009,"text":1010},{"depth":80,"slug":1012,"text":1013},{"depth":131,"slug":1015,"text":1016},[],[],{"title":966,"description":966,"slug":2071},[],"v0.54/user-guide/filters",{"id":2102,"data":2104,"body":1079,"filePath":2108,"digest":2109,"rendered":2110},{"title":1075,"description":1075,"editUrl":66,"head":2105,"template":68,"sidebar":2106,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2107},{},"src/content/docs/v0.54/user-guide/filters.md","140801f3b3989506",{"html":1083,"metadata":2111},{"headings":2112,"localImagePaths":2114,"remoteImagePaths":2115,"frontmatter":2116,"imagePaths":2117},[2113],{"depth":80,"slug":1087,"text":1088},[],[],{"title":1075,"description":1075,"slug":2102},[],"v0.54/user-guide/generating-crds",{"id":2118,"data":2120,"body":2124,"filePath":2125,"digest":2126,"rendered":2127},{"title":1096,"description":1096,"editUrl":66,"head":2121,"template":68,"sidebar":2122,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2123},{},"Pepr comes with the ability to generate Kubernetes Custom Resource Definitions (CRDs) from TypeScript types. This feature is particularly useful for operator developers who are creating Operators that utilize CRDs.\n\nTo generate a TypeScript types for a CRD, you can use the `pepr crd create` command. This command allows you to specify the group, version, kind, short name, plural name, and scope of the CRD.\n\n```bash\nnpx pepr crd create \\\n  --group cache \\\n  --version v1alpha1 \\\n  --kind Memcache \\\n  --short-name mc \\\n  --plural memcaches \\\n  --scope Namespaced\n```\n\nThis command will create a TypeScript file in the `crds` directory with the generated types for the specified CRD. The generated file will include the necessary type definitions for the CRD.\n\n> Note: The comments in the interface spec and condition type become descriptions for the CRD properties, so you can add comments to your properties to provide additional context or documentation for the generated types.\n\nAfter adding the required types for your CRD, you can then generate the CRD YAML file using the `pepr crd generate` command. This command will create a YAML file that defines the CRD in Kubernetes format.\n\n```bash\nnpx pepr crd generate\n```\n\nYou can control the output directory for the generated CRD YAML file by using the `--output` option. If not, it will be generated in the crds directory by default.\n\nAt this point, you can apply the generated CRD to your Kubernetes cluster using `kubectl apply -f crds/your-crd-file.yaml`.\n\n```bash\n> kubectl apply -f crds\ncustomresourcedefinition.apiextensions.k8s.io/memcaches.cache.pepr.dev created\n```","src/content/docs/v0.54/user-guide/generating-crds.md","117b0f3f2923cf82",{"html":2128,"metadata":2129},"\u003Cp>Pepr comes with the ability to generate Kubernetes Custom Resource Definitions (CRDs) from TypeScript types. This feature is particularly useful for operator developers who are creating Operators that utilize CRDs.\u003C/p>\n\u003Cp>To generate a TypeScript types for a CRD, you can use the \u003Ccode dir=\"auto\">pepr crd create\u003C/code> command. This command allows you to specify the group, version, kind, short name, plural name, and scope of the CRD.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--group\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cache\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--version\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">v1alpha1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Memcache\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--short-name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">mc\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--plural\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">memcaches\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--scope\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Namespaced\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr crd create \\  --group cache \\  --version v1alpha1 \\  --kind Memcache \\  --short-name mc \\  --plural memcaches \\  --scope Namespaced\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>This command will create a TypeScript file in the \u003Ccode dir=\"auto\">crds\u003C/code> directory with the generated types for the specified CRD. The generated file will include the necessary type definitions for the CRD.\u003C/p>\n\u003Cblockquote>\n\u003Cp>Note: The comments in the interface spec and condition type become descriptions for the CRD properties, so you can add comments to your properties to provide additional context or documentation for the generated types.\u003C/p>\n\u003C/blockquote>\n\u003Cp>After adding the required types for your CRD, you can then generate the CRD YAML file using the \u003Ccode dir=\"auto\">pepr crd generate\u003C/code> command. This command will create a YAML file that defines the CRD in Kubernetes format.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">crd\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">generate\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr crd generate\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You can control the output directory for the generated CRD YAML file by using the \u003Ccode dir=\"auto\">--output\u003C/code> option. If not, it will be generated in the crds directory by default.\u003C/p>\n\u003Cp>At this point, you can apply the generated CRD to your Kubernetes cluster using \u003Ccode dir=\"auto\">kubectl apply -f crds/your-crd-file.yaml\u003C/code>.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> kubectl apply -f crds\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">customresourcedefinition.apiextensions.k8s.io/memcaches.cache.pepr.dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">created\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"> kubectl apply -f crdscustomresourcedefinition.apiextensions.k8s.io/memcaches.cache.pepr.dev created\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":2130,"localImagePaths":2131,"remoteImagePaths":2132,"frontmatter":2133,"imagePaths":2134},[],[],[],{"title":1096,"description":1096,"slug":2118},[],"v0.54/user-guide/generating_custom_metrics",{"id":2135,"data":2137,"body":2141,"filePath":2142,"digest":2143,"rendered":2144},{"title":1114,"description":1114,"editUrl":66,"head":2138,"template":68,"sidebar":2139,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2140},{},"Pepr provides a `metricCollector` utility that lets you define custom metrics such as counters and gauges for your module.\n\nFor example, to track how often a specific event occurs, you can create a custom counter and gauge like this:\n\n```typescript\nimport { Capability, a, metricsCollector } from \"pepr\";\n\nexport const HelloPepr = new Capability({\n  name: \"hello-pepr\",\n  description: \"An example using the metric collector.\",\n});\n\n// Register a metric collector to count the number of times the hello-pepr label has been applied\nmetricsCollector.addCounter(\n  \"label_counter\",\n  \"example counter for counting number of times hello-pepr label has been applied\",\n);\n\n// Register a gauge to count how many times a given label has been applied\nmetricsCollector.addGauge(\n  \"label_guage\",\n  \"example gauge for counting how times times a given label has been applied\",\n  [\"label\"],\n);\n\nconst { When } = HelloPepr;\nWhen(a.Pod)\n  .IsCreatedOrUpdated()\n  .Mutate(po => {\n    po.SetLabel(\"hello-pepr\", \"true\");\n    po.SetLabel(\"blue\", \"true\");\n    po.SetLabel(\"green\", \"true\");\n    metricsCollector.incCounter(\"label_counter\");\n    metricsCollector.incGauge(\"label_guage\", { label: \"blue\" }, 1);\n    metricsCollector.incGauge(\"label_guage\", { label: \"green\" }, 1);\n    metricsCollector.incGauge(\"label_guage\", { label: \"hello-pepr\" }, 1);\n  });\n```\n\nYou can access these metrics through the `/metrics` endpoint of your module. For example, if you are running `npx pepr dev --yes`, you can create some pods and then query the metrics like this:\n\n```bash\nterminal_a > npx pepr dev --yes\nterminal_b > curl -k http://localhost:3000/metrics\n...\n# HELP pepr_label_counter example counter for counting number of times hello-pepr label has been applied\n# TYPE pepr_label_counter counter\npepr_label_counter 0\n\n# HELP pepr_label_guage example gauge for counting how times times a given label has been applied\n# TYPE pepr_label_guage gauge\nterminal_b > kubectl run a --image=nginx \nterminal_b > kubectl run b --image=nginx\nterminal_b > kubectl run c --image=nginx\nterminal_b > curl -k http://localhost:3000/metrics\n...\n# TYPE pepr_label_counter counter\npepr_label_counter 3\n\n# HELP pepr_label_guage example gauge for counting how times times a given label has been applied\n# TYPE pepr_label_guage gauge\npepr_label_guage{label=\"blue\"} 3\npepr_label_guage{label=\"green\"} 3\npepr_label_guage{label=\"hello-pepr\"} 3\n```","src/content/docs/v0.54/user-guide/generating_custom_metrics.md","46c4e6d1d3a7f379",{"html":2145,"metadata":2146},"\u003Cp>Pepr provides a \u003Ccode dir=\"auto\">metricCollector\u003C/code> utility that lets you define custom metrics such as counters and gauges for your module.\u003C/p>\n\u003Cp>For example, to track how often a specific event occurs, you can create a custom counter and gauge like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { Capability, a, metricsCollector } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">export const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HelloPepr\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">new\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Capability\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">name: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">description: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">An example using the metric collector.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Register a metric collector to count the number of times the hello-pepr label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">addCounter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_counter\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example counter for counting number of times hello-pepr label has been applied\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5D6376\">// Register a gauge to count how many times a given label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">addGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_guage\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">example gauge for counting how times times a given label has been applied\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">[\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">],\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">HelloPepr;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">When\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(a\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">Pod\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">IsCreatedOrUpdated\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">()\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Mutate\u003C/span>\u003Cspan style=\"--1:#403F53\">\u003Cspan style=\"--0:#D6DEEB\">(\u003C/span>\u003Cspan style=\"--0:#D7DBE0\">po\u003C/span>\u003Cspan style=\"--0:#D6DEEB\"> \u003C/span>\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">blue\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">po\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">SetLabel\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">green\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">true\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incCounter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_counter\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_guage\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, { label: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">blue\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> }, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_guage\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, { label: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">green\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> }, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">metricsCollector\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">incGauge\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">label_guage\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">, { label: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">hello-pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> }, \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">1\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">);\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { Capability, a, metricsCollector } from &#x22;pepr&#x22;;export const HelloPepr = new Capability({  name: &#x22;hello-pepr&#x22;,  description: &#x22;An example using the metric collector.&#x22;,});// Register a metric collector to count the number of times the hello-pepr label has been appliedmetricsCollector.addCounter(  &#x22;label_counter&#x22;,  &#x22;example counter for counting number of times hello-pepr label has been applied&#x22;,);// Register a gauge to count how many times a given label has been appliedmetricsCollector.addGauge(  &#x22;label_guage&#x22;,  &#x22;example gauge for counting how times times a given label has been applied&#x22;,  [&#x22;label&#x22;],);const { When } = HelloPepr;When(a.Pod)  .IsCreatedOrUpdated()  .Mutate(po => {    po.SetLabel(&#x22;hello-pepr&#x22;, &#x22;true&#x22;);    po.SetLabel(&#x22;blue&#x22;, &#x22;true&#x22;);    po.SetLabel(&#x22;green&#x22;, &#x22;true&#x22;);    metricsCollector.incCounter(&#x22;label_counter&#x22;);    metricsCollector.incGauge(&#x22;label_guage&#x22;, { label: &#x22;blue&#x22; }, 1);    metricsCollector.incGauge(&#x22;label_guage&#x22;, { label: &#x22;green&#x22; }, 1);    metricsCollector.incGauge(&#x22;label_guage&#x22;, { label: &#x22;hello-pepr&#x22; }, 1);  });\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>You can access these metrics through the \u003Ccode dir=\"auto\">/metrics\u003C/code> endpoint of your module. For example, if you are running \u003Ccode dir=\"auto\">npx pepr dev --yes\u003C/code>, you can create some pods and then query the metrics like this:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_a\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--yes\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-k\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">http://localhost:3000/metrics\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># HELP pepr_label_counter example counter for counting number of times hello-pepr label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_counter counter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_counter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">0\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># HELP pepr_label_guage example gauge for counting how times times a given label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_guage gauge\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">a\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--image=nginx\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--image=nginx\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">run\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">c\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--image=nginx\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">terminal_b\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">curl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-k\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">http://localhost:3000/metrics\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_counter counter\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_counter\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># HELP pepr_label_guage example gauge for counting how times times a given label has been applied\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># TYPE pepr_label_guage gauge\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_guage\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">{label=\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\"blue\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_guage\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">{label=\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\"green\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">pepr_label_guage\u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#ECC48D\">{label=\u003C/span>\u003Cspan style=\"--0:#82AAFF\">\"hello-pepr\"\u003C/span>\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">}\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">3\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"terminal_a > npx pepr dev --yesterminal_b > curl -k http://localhost:3000/metrics...pepr_label_counter 0terminal_b > kubectl run a --image=nginxterminal_b > kubectl run b --image=nginxterminal_b > kubectl run c --image=nginxterminal_b > curl -k http://localhost:3000/metrics...pepr_label_counter 3pepr_label_guage{label=&#x22;blue&#x22;} 3pepr_label_guage{label=&#x22;green&#x22;} 3pepr_label_guage{label=&#x22;hello-pepr&#x22;} 3\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>",{"headings":2147,"localImagePaths":2148,"remoteImagePaths":2149,"frontmatter":2150,"imagePaths":2151},[],[],[],{"title":1114,"description":1114,"slug":2135},[],"v0.54/user-guide",{"id":2152,"data":2154,"body":2158,"filePath":2159,"digest":2160,"rendered":2161},{"title":16,"description":16,"editUrl":66,"head":2155,"template":68,"sidebar":2156,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2157},{},"In this section you can find detailed information about Pepr and how to use it.\n\n# Sections\n\nYou can find the following information in this section:\n\n### [Pepr CLI](pepr-cli/)\n\n### [SDK](sdk/)\n\n### [Pepr Modules](pepr-modules/)\n\n### [Pepr Actions](actions/)\n\n### [Pepr Capabilities](capabilities/)\n\n### [Pepr Store](store/)\n\n### [Custom Resources](custom-resources/)\n\n### [OnSchedule](onschedule/)\n\n### [RBAC](rbac/)\n\n### [Metrics](metrics/)\n\n### [Customization](customization/)\n\n### [Filters](filters/)\n\n### [Generating CRDs](generating-crds/)\n\n### [Custom Metrics](generating_custom_metrics/)","src/content/docs/v0.54/user-guide/index.md","17e7dcb4ab388972",{"html":2162,"metadata":2163},"\u003Cp>In this section you can find detailed information about Pepr and how to use it.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h1\">\u003Ch1 id=\"sections\">Sections\u003C/h1>\u003Ca class=\"sl-anchor-link\" href=\"#sections\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Sections”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>You can find the following information in this section:\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-cli\">\u003Ca href=\"pepr-cli/\">Pepr CLI\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-cli\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr CLI”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"sdk\">\u003Ca href=\"sdk/\">SDK\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#sdk\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “SDK”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-modules\">\u003Ca href=\"pepr-modules/\">Pepr Modules\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-modules\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Modules”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-actions\">\u003Ca href=\"actions/\">Pepr Actions\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-actions\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Actions”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-capabilities\">\u003Ca href=\"capabilities/\">Pepr Capabilities\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-capabilities\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Capabilities”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"pepr-store\">\u003Ca href=\"store/\">Pepr Store\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#pepr-store\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Pepr Store”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"custom-resources\">\u003Ca href=\"custom-resources/\">Custom Resources\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#custom-resources\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Custom Resources”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"onschedule\">\u003Ca href=\"onschedule/\">OnSchedule\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#onschedule\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “OnSchedule”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"rbac\">\u003Ca href=\"rbac/\">RBAC\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#rbac\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “RBAC”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"metrics\">\u003Ca href=\"metrics/\">Metrics\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#metrics\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Metrics”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"customization\">\u003Ca href=\"customization/\">Customization\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#customization\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Customization”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"filters\">\u003Ca href=\"filters/\">Filters\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#filters\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Filters”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"generating-crds\">\u003Ca href=\"generating-crds/\">Generating CRDs\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#generating-crds\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Generating CRDs”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"custom-metrics\">\u003Ca href=\"generating_custom_metrics/\">Custom Metrics\u003C/a>\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#custom-metrics\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Custom Metrics”\u003C/span>\u003C/a>\u003C/div>",{"headings":2164,"localImagePaths":2182,"remoteImagePaths":2183,"frontmatter":2184,"imagePaths":2185},[2165,2166,2167,2168,2169,2172,2173,2174,2175,2176,2177,2178,2179,2180,2181],{"depth":523,"slug":1142,"text":1143},{"depth":131,"slug":1145,"text":1146},{"depth":131,"slug":1148,"text":1149},{"depth":131,"slug":1151,"text":1152},{"depth":131,"slug":2170,"text":2171},"pepr-actions","Pepr Actions",{"depth":131,"slug":1154,"text":915},{"depth":131,"slug":749,"text":750},{"depth":131,"slug":1156,"text":939},{"depth":131,"slug":741,"text":742},{"depth":131,"slug":1172,"text":1173},{"depth":131,"slug":1168,"text":1169},{"depth":131,"slug":1158,"text":1024},{"depth":131,"slug":1087,"text":1088},{"depth":131,"slug":1166,"text":1096},{"depth":131,"slug":1163,"text":1164},[],[],{"title":16,"description":16,"slug":2152},[],"v0.54/user-guide/metrics",{"id":2186,"data":2188,"body":1186,"filePath":2192,"digest":2193,"rendered":2194},{"title":1182,"description":1182,"editUrl":66,"head":2189,"template":68,"sidebar":2190,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2191},{},"src/content/docs/v0.54/user-guide/metrics.md","aa52fddbf1236b4a",{"html":1190,"metadata":2195},{"headings":2196,"localImagePaths":2204,"remoteImagePaths":2205,"frontmatter":2206,"imagePaths":2207},[2197,2198,2199,2200,2201,2202,2203],{"depth":80,"slug":1194,"text":1195},{"depth":80,"slug":1197,"text":1198},{"depth":80,"slug":1200,"text":1201},{"depth":80,"slug":1203,"text":1204},{"depth":131,"slug":1206,"text":1207},{"depth":131,"slug":1209,"text":1210},{"depth":80,"slug":1212,"text":1213},[],[],{"title":1182,"description":1182,"slug":2186},[],"v0.54/user-guide/onschedule",{"id":2208,"data":2210,"body":1224,"filePath":2214,"digest":2215,"rendered":2216},{"title":742,"description":742,"editUrl":66,"head":2211,"template":68,"sidebar":2212,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2213},{},"src/content/docs/v0.54/user-guide/onschedule.md","2e035f69a32aec33",{"html":1228,"metadata":2217},{"headings":2218,"localImagePaths":2223,"remoteImagePaths":2224,"frontmatter":2225,"imagePaths":2226},[2219,2220,2221,2222],{"depth":80,"slug":978,"text":979},{"depth":80,"slug":1233,"text":1234},{"depth":80,"slug":1203,"text":1204},{"depth":80,"slug":1237,"text":1238},[],[],{"title":742,"description":742,"slug":2208},[],"v0.54/user-guide/pepr-modules",{"id":2227,"data":2229,"body":1249,"filePath":2233,"digest":2234,"rendered":2235},{"title":1152,"description":1152,"editUrl":66,"head":2230,"template":68,"sidebar":2231,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2232},{},"src/content/docs/v0.54/user-guide/pepr-modules.md","140280ff6e4bafa9",{"html":1253,"metadata":2236},{"headings":2237,"localImagePaths":2239,"remoteImagePaths":2240,"frontmatter":2241,"imagePaths":2242},[2238],{"depth":80,"slug":1257,"text":1258},[],[],{"title":1152,"description":1152,"slug":2227},[],"v0.54/user-guide/pepr-cli",{"id":2243,"data":2245,"body":2249,"filePath":2250,"digest":2251,"rendered":2252},{"title":1146,"description":1146,"editUrl":66,"head":2246,"template":68,"sidebar":2247,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2248},{},"## `npx pepr`\n\nType safe K8s middleware for humans\n\n**Options:**\n\n- `-V, --version` - output the version number\n- `--features \u003Cfeatures>` - Comma-separated feature flags (feature=value,feature2=value2)\n- `-h, --help` - display help for command\n\n**Commands:**\n\n  crd                      Scaffold and generate Kubernetes CRDs from structured TypeScript definitions\n  init [options]           Initialize a new Pepr Module\n  build [options]          Build a Pepr Module for deployment\n  deploy [options]         Deploy a Pepr Module\n  dev [options]            Setup a local webhook development environment\n  update [options]         Update this Pepr module. Not recommended for prod as it may change files.\n  format [options]         Lint and format this Pepr module\n  monitor [module-uuid]    Monitor a Pepr Module\n  uuid [uuid]              Module UUID(s) currently deployed in the cluster\n  kfc [options] [args...]  Execute Kubernetes Fluent Client commands\n\n## `npx pepr build`\n\nBuild a Pepr Module for deployment.\n\n**Options:**\n\n- `-M, --rbac-mode \u003Cmode>` - Override module config and set RBAC mode. (choices: \"admin\", \"scoped\")\n- `-I, --registry-info \u003Cregistry/username>` - Provide the image registry and username for building and pushing a custom WASM container. Requires authentication. Conflicts with --custom-image and --registry. Builds and pushes `'\u003Cregistry/username>/custom-pepr-controller:\u003Ccurrent-version>'`.\n- `-P, --with-pull-secret \u003Cname>` - Use image pull secret for controller Deployment. (default: \"\")\n- `-c, --custom-name \u003Cname>` - Set name for zarf component and service monitors in helm charts.\n- `-e, --entry-point \u003Cfile>` - Specify the entry point file to build with. (default: pepr.ts)\n- `-i, --custom-image \u003Cimage>` - Specify a custom image with version for deployments. Conflicts with --registry-info and --registry. Example: 'docker.io/username/custom-pepr-controller:v1.0.0'\n- `-n, --no-embed` - Disable embedding of deployment files into output module. Useful when creating library modules intended solely for reuse/distribution via NPM.\n- `-o, --output \u003Cdirectory>` - Set output directory. (default: \"dist\")\n- `-r, --registry \u003Cregistry>` - Container registry: Choose container registry for deployment manifests. Conflicts with --custom-image and --registry-info. (choices: \"GitHub\", \"Iron Bank\")\n- `-t, --timeout \u003Cseconds>` - How long the API server should wait for a webhook to respond before treating the call as a failure.\n- `-z, --zarf \u003Cmanifest|chart>` - Set Zarf package type (choices: \"manifest\", \"chart\", default: \"manifest\")\n- `-h, --help` - display help for command\n\nCreate a [zarf.yaml](https://zarf.dev) and K8s manifest for the current module. This includes everything needed to deploy Pepr and the current module into production environments.\n\n## `npx pepr crd`\n\nScaffold and generate Kubernetes CRDs from structured TypeScript definitions.\n\n**Options:**\n\n- `-h, --help` - display help for command\n\n**Commands:**\n\n  create [options]    Create a new CRD TypeScript definition\n  generate [options]  Generate CRD manifests from TypeScript definitions stored in 'api/' of the current directory.\n  help [command]      display help for command\n\n## `npx pepr crd create`\n\nCreate a new CRD TypeScript definition.\n\n**Options:**\n\n- `-S, --scope \u003Cscope>` - Whether the resulting custom resource is cluster- or namespace-scoped (choices: \"Namespaced\", \"Cluster\", default: \"Namespaced\")\n- `-d, --domain \u003Cdomain>` - Optional domain for CRD (e.g. pepr.dev) (default: \"pepr.dev\")\n- `-g, --group \u003Cgroup>` - API group (e.g. cache)\n- `-k, --kind \u003Ckind>` - Kind name (e.g. memcached)\n- `-p, --plural \u003Cplural>` - Plural name for CRD (e.g. memcacheds)\n- `-s, --short-name \u003Cname>` - Short name for CRD (e.g. mc)\n- `-v, --version \u003Cversion>` - API version (e.g. v1alpha1)\n- `-h, --help` - display help for command\n\n## `npx pepr crd generate`\n\nGenerate CRD manifests from TypeScript definitions stored in 'api/' of the current directory.\n\n**Options:**\n\n- `-o, --output \u003Cdirectory>` - Output directory for generated CRDs (default: \"./crds\")\n- `-h, --help` - display help for command\n\n## `npx pepr deploy`\n\nDeploy the current module into a Kubernetes cluster, useful for CI systems. Not recommended for production use.\n\n**Options:**\n\n- `-E, --docker-email \u003Cemail>` - Email for Docker registry.\n- `-P, --docker-password \u003Cpassword>` - Password for Docker registry.\n- `-S, --docker-server \u003Cserver>` - Docker server address.\n- `-U, --docker-username \u003Cusername>` - Docker registry username.\n- `-f, --force` - Force deploy the module, override manager field.\n- `-i, --image \u003Cimage>` - Override the image tag.\n- `-p, --pull-secret \u003Cname>` - Deploy imagePullSecret for Controller private registry.\n- `-y, --yes` - Skip confirmation prompts.\n- `-h, --help` - display help for command\n\n## `npx pepr dev`\n\nSetup a local webhook development environment\n\n**Options:**\n\n- `-H, --host \u003Chost>` - Host to listen on (default: \"host.k3d.internal\")\n- `-y, --yes` - Skip confirmation prompt\n- `-h, --help` - display help for command\n\nConnect a local cluster to a local version of the Pepr Controller to do real-time debugging of your module. Note the `npx pepr dev` assumes a K3d cluster is running by default. If you are working with Kind or another docker-based K8s distro, you will need to pass the `--host host.docker.internal` option to `npx pepr dev`. If working with a remote cluster you will have to give Pepr a host path to your machine that is reachable from the K8s cluster.\n\nNOTE: This command, by necessity, installs resources into the cluster you run it against.  Generally, these resources are removed once the `pepr dev` session ends but there are two notable exceptions:\n\n- the `pepr-system` namespace, and\n- the `PeprStore` CRD.\n\nThese can't be auto-removed because they're global in scope & doing so would risk wrecking any other Pepr deployments that are already running in-cluster.  If (for some strange reason) you're _not_ `pepr dev`-ing against an ephemeral dev cluster and need to keep the cluster clean, you'll have to remove these hold-overs yourself (or not)!\n\n## `npx pepr format`\n\nLint and format this Pepr module.\n\n**Options:**\n\n- `-v, --validate-only` - Do not modify files, only validate formatting.\n- `-h, --help` - display help for command\n\n## `npx pepr init`\n\nInitialize a new Pepr Module.\n\n**Options:**\n\n- `-d, --description \u003Cstring>` - Explain the purpose of the new module.\n- `-e, --error-behavior \u003Cbehavior>` - Set an error behavior. (choices: \"audit\", \"ignore\", \"reject\")\n- `-n, --name \u003Cstring>` - Set the name of the new module.\n- `-s, --skip-post-init` - Skip npm install, git init, and VSCode launch.\n- `-u, --uuid \u003Cstring>` - Unique identifier for your module with a max length of 36 characters.\n- `-y, --yes` - Skip verification prompt when creating a new module.\n- `-h, --help` - display help for command\n\n## `npx pepr kfc`\n\nExecute a `kubernetes-fluent-client` command. This command is a wrapper around `kubernetes-fluent-client`.\n\n**Options:**\n\n- `-y, --yes` - Skip confirmation prompt.\n- `-h, --help` - display help for command\n\nUsage:\n\n```bash\nnpx pepr kfc [options] [command]\n```\n\nIf you are unsure of what commands are available, you can run `npx pepr kfc` to see the available commands.\n\nFor example, to generate usable types from a Kubernetes CRD, you can run `npx pepr kfc crd [source] [directory]`. This will generate the types for the `[source]` CRD and output the generated types to the `[directory]`.\n\nYou can [learn more about the `kubernetes-fluent-client` here](https://github.com/defenseunicorns/kubernetes-fluent-client).\n\n## `npx pepr monitor`\n\nMonitor Validations for a given Pepr Module or all Pepr Modules.\n\n**Options:**\n\n- `-h, --help` - display help for command\n\nUsage:\n\n```bash\nnpx pepr monitor [options] [module-uuid]\n```\n\n**Options:**\n\n- `-h, --help` - display help for command\n\n## `npx pepr update`\n\nUpdate the current Pepr Module to the latest SDK version. This command is not recommended for production use, instead, we recommend Renovate or Dependabot for automated updates.\n\n**Options:**\n\n- `-s, --skip-template-update` - Do not update template files\n- `-h, --help` - display help for command\n\n## `npx pepr uuid`\n\nModule UUID(s) currently deployed in the cluster with their descriptions. `[uuid]` represents a specific module uuid in the cluster.\n\n**Options:**\n\n- `-h, --help` - display help for command","src/content/docs/v0.54/user-guide/pepr-cli.md","e348bf5d891f010c",{"html":2253,"metadata":2254},"\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr\">\u003Ccode dir=\"auto\">npx pepr\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Type safe K8s middleware for humans\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-V, --version\u003C/code> - output the version number\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">--features &#x3C;features>\u003C/code> - Comma-separated feature flags (feature=value,feature2=value2)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Commands:\u003C/strong>\u003C/p>\n\u003Cp>crd                      Scaffold and generate Kubernetes CRDs from structured TypeScript definitions\ninit [options]           Initialize a new Pepr Module\nbuild [options]          Build a Pepr Module for deployment\ndeploy [options]         Deploy a Pepr Module\ndev [options]            Setup a local webhook development environment\nupdate [options]         Update this Pepr module. Not recommended for prod as it may change files.\nformat [options]         Lint and format this Pepr module\nmonitor [module-uuid]    Monitor a Pepr Module\nuuid [uuid]              Module UUID(s) currently deployed in the cluster\nkfc [options] [args…]  Execute Kubernetes Fluent Client commands\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-build\">\u003Ccode dir=\"auto\">npx pepr build\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-build\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr build”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Build a Pepr Module for deployment.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-M, --rbac-mode &#x3C;mode>\u003C/code> - Override module config and set RBAC mode. (choices: “admin”, “scoped”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-I, --registry-info &#x3C;registry/username>\u003C/code> - Provide the image registry and username for building and pushing a custom WASM container. Requires authentication. Conflicts with —custom-image and —registry. Builds and pushes \u003Ccode dir=\"auto\">'&#x3C;registry/username>/custom-pepr-controller:&#x3C;current-version>'\u003C/code>.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-P, --with-pull-secret &#x3C;name>\u003C/code> - Use image pull secret for controller Deployment. (default: \"\")\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-c, --custom-name &#x3C;name>\u003C/code> - Set name for zarf component and service monitors in helm charts.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-e, --entry-point &#x3C;file>\u003C/code> - Specify the entry point file to build with. (default: pepr.ts)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-i, --custom-image &#x3C;image>\u003C/code> - Specify a custom image with version for deployments. Conflicts with —registry-info and —registry. Example: ‘docker.io/username/custom-pepr-controller:v1.0.0’\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-n, --no-embed\u003C/code> - Disable embedding of deployment files into output module. Useful when creating library modules intended solely for reuse/distribution via NPM.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-o, --output &#x3C;directory>\u003C/code> - Set output directory. (default: “dist”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-r, --registry &#x3C;registry>\u003C/code> - Container registry: Choose container registry for deployment manifests. Conflicts with —custom-image and —registry-info. (choices: “GitHub”, “Iron Bank”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-t, --timeout &#x3C;seconds>\u003C/code> - How long the API server should wait for a webhook to respond before treating the call as a failure.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-z, --zarf &#x3C;manifest|chart>\u003C/code> - Set Zarf package type (choices: “manifest”, “chart”, default: “manifest”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Create a \u003Ca href=\"https://zarf.dev\">zarf.yaml\u003C/a> and K8s manifest for the current module. This includes everything needed to deploy Pepr and the current module into production environments.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-crd\">\u003Ccode dir=\"auto\">npx pepr crd\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-crd\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr crd”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Scaffold and generate Kubernetes CRDs from structured TypeScript definitions.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Commands:\u003C/strong>\u003C/p>\n\u003Cp>create [options]    Create a new CRD TypeScript definition\ngenerate [options]  Generate CRD manifests from TypeScript definitions stored in ‘api/’ of the current directory.\nhelp [command]      display help for command\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-crd-create\">\u003Ccode dir=\"auto\">npx pepr crd create\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-crd-create\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr crd create”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Create a new CRD TypeScript definition.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-S, --scope &#x3C;scope>\u003C/code> - Whether the resulting custom resource is cluster- or namespace-scoped (choices: “Namespaced”, “Cluster”, default: “Namespaced”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-d, --domain &#x3C;domain>\u003C/code> - Optional domain for CRD (e.g. pepr.dev) (default: “pepr.dev”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-g, --group &#x3C;group>\u003C/code> - API group (e.g. cache)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-k, --kind &#x3C;kind>\u003C/code> - Kind name (e.g. memcached)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-p, --plural &#x3C;plural>\u003C/code> - Plural name for CRD (e.g. memcacheds)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-s, --short-name &#x3C;name>\u003C/code> - Short name for CRD (e.g. mc)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-v, --version &#x3C;version>\u003C/code> - API version (e.g. v1alpha1)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-crd-generate\">\u003Ccode dir=\"auto\">npx pepr crd generate\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-crd-generate\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr crd generate”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Generate CRD manifests from TypeScript definitions stored in ‘api/’ of the current directory.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-o, --output &#x3C;directory>\u003C/code> - Output directory for generated CRDs (default: ”./crds”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-deploy\">\u003Ccode dir=\"auto\">npx pepr deploy\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-deploy\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr deploy”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Deploy the current module into a Kubernetes cluster, useful for CI systems. Not recommended for production use.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-E, --docker-email &#x3C;email>\u003C/code> - Email for Docker registry.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-P, --docker-password &#x3C;password>\u003C/code> - Password for Docker registry.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-S, --docker-server &#x3C;server>\u003C/code> - Docker server address.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-U, --docker-username &#x3C;username>\u003C/code> - Docker registry username.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-f, --force\u003C/code> - Force deploy the module, override manager field.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-i, --image &#x3C;image>\u003C/code> - Override the image tag.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-p, --pull-secret &#x3C;name>\u003C/code> - Deploy imagePullSecret for Controller private registry.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompts.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-dev\">\u003Ccode dir=\"auto\">npx pepr dev\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-dev\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr dev”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Setup a local webhook development environment\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-H, --host &#x3C;host>\u003C/code> - Host to listen on (default: “host.k3d.internal”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompt\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Connect a local cluster to a local version of the Pepr Controller to do real-time debugging of your module. Note the \u003Ccode dir=\"auto\">npx pepr dev\u003C/code> assumes a K3d cluster is running by default. If you are working with Kind or another docker-based K8s distro, you will need to pass the \u003Ccode dir=\"auto\">--host host.docker.internal\u003C/code> option to \u003Ccode dir=\"auto\">npx pepr dev\u003C/code>. If working with a remote cluster you will have to give Pepr a host path to your machine that is reachable from the K8s cluster.\u003C/p>\n\u003Cp>NOTE: This command, by necessity, installs resources into the cluster you run it against.  Generally, these resources are removed once the \u003Ccode dir=\"auto\">pepr dev\u003C/code> session ends but there are two notable exceptions:\u003C/p>\n\u003Cul>\n\u003Cli>the \u003Ccode dir=\"auto\">pepr-system\u003C/code> namespace, and\u003C/li>\n\u003Cli>the \u003Ccode dir=\"auto\">PeprStore\u003C/code> CRD.\u003C/li>\n\u003C/ul>\n\u003Cp>These can’t be auto-removed because they’re global in scope &#x26; doing so would risk wrecking any other Pepr deployments that are already running in-cluster.  If (for some strange reason) you’re \u003Cem>not\u003C/em> \u003Ccode dir=\"auto\">pepr dev\u003C/code>-ing against an ephemeral dev cluster and need to keep the cluster clean, you’ll have to remove these hold-overs yourself (or not)!\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-format\">\u003Ccode dir=\"auto\">npx pepr format\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-format\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr format”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Lint and format this Pepr module.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-v, --validate-only\u003C/code> - Do not modify files, only validate formatting.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-init\">\u003Ccode dir=\"auto\">npx pepr init\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-init\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr init”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Initialize a new Pepr Module.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-d, --description &#x3C;string>\u003C/code> - Explain the purpose of the new module.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-e, --error-behavior &#x3C;behavior>\u003C/code> - Set an error behavior. (choices: “audit”, “ignore”, “reject”)\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-n, --name &#x3C;string>\u003C/code> - Set the name of the new module.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-s, --skip-post-init\u003C/code> - Skip npm install, git init, and VSCode launch.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-u, --uuid &#x3C;string>\u003C/code> - Unique identifier for your module with a max length of 36 characters.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip verification prompt when creating a new module.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-kfc\">\u003Ccode dir=\"auto\">npx pepr kfc\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-kfc\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr kfc”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Execute a \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> command. This command is a wrapper around \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code>.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-y, --yes\u003C/code> - Skip confirmation prompt.\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Usage:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">kfc\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [options] [command]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr kfc [options] [command]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>If you are unsure of what commands are available, you can run \u003Ccode dir=\"auto\">npx pepr kfc\u003C/code> to see the available commands.\u003C/p>\n\u003Cp>For example, to generate usable types from a Kubernetes CRD, you can run \u003Ccode dir=\"auto\">npx pepr kfc crd [source] [directory]\u003C/code>. This will generate the types for the \u003Ccode dir=\"auto\">[source]\u003C/code> CRD and output the generated types to the \u003Ccode dir=\"auto\">[directory]\u003C/code>.\u003C/p>\n\u003Cp>You can \u003Ca href=\"https://github.com/defenseunicorns/kubernetes-fluent-client\">learn more about the \u003Ccode dir=\"auto\">kubernetes-fluent-client\u003C/code> here\u003C/a>.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-monitor\">\u003Ccode dir=\"auto\">npx pepr monitor\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-monitor\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr monitor”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Monitor Validations for a given Pepr Module or all Pepr Modules.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cp>Usage:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">monitor\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> [options] [module-uuid]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr monitor [options] [module-uuid]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-update\">\u003Ccode dir=\"auto\">npx pepr update\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-update\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr update”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Update the current Pepr Module to the latest SDK version. This command is not recommended for production use, instead, we recommend Renovate or Dependabot for automated updates.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-s, --skip-template-update\u003C/code> - Do not update template files\u003C/li>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"npx-pepr-uuid\">\u003Ccode dir=\"auto\">npx pepr uuid\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#npx-pepr-uuid\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “npx pepr uuid”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Module UUID(s) currently deployed in the cluster with their descriptions. \u003Ccode dir=\"auto\">[uuid]\u003C/code> represents a specific module uuid in the cluster.\u003C/p>\n\u003Cp>\u003Cstrong>Options:\u003C/strong>\u003C/p>\n\u003Cul>\n\u003Cli>\u003Ccode dir=\"auto\">-h, --help\u003C/code> - display help for command\u003C/li>\n\u003C/ul>",{"headings":2255,"localImagePaths":2269,"remoteImagePaths":2270,"frontmatter":2271,"imagePaths":2272},[2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268],{"depth":80,"slug":1277,"text":1278},{"depth":80,"slug":1280,"text":1281},{"depth":80,"slug":1283,"text":1284},{"depth":80,"slug":1286,"text":1287},{"depth":80,"slug":1289,"text":1290},{"depth":80,"slug":1292,"text":1293},{"depth":80,"slug":1295,"text":1296},{"depth":80,"slug":1298,"text":1299},{"depth":80,"slug":1301,"text":1302},{"depth":80,"slug":1304,"text":1305},{"depth":80,"slug":1307,"text":1308},{"depth":80,"slug":1310,"text":1311},{"depth":80,"slug":1313,"text":1314},[],[],{"title":1146,"description":1146,"slug":2243},[],"v0.54/user-guide/rbac",{"id":2273,"data":2275,"body":2279,"filePath":2280,"digest":2281,"rendered":2282},{"title":1322,"description":1322,"editUrl":66,"head":2276,"template":68,"sidebar":2277,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2278},{},"During the build phase of Pepr (`npx pepr build --rbac-mode [admin|scoped]`), you have the option to specify the desired RBAC mode through specific flags. This allows fine-tuning the level of access granted based on requirements and preferences.\n\n## Modes\n\n### admin\n\n```bash\nnpx pepr build --rbac-mode admin\n```\n\n**Description:** The service account is given cluster-admin permissions, granting it full, unrestricted access across the entire cluster. This can be useful for administrative tasks where broad permissions are necessary. However, use this mode with caution, as it can pose security risks if misused. This is the default mode.\n\n### scoped\n\n```bash\nnpx pepr build --rbac-mode scoped\n```\n\n**Description:** The service account is provided just enough permissions to perform its required tasks, and no more. This mode is recommended for most use cases as it limits potential attack vectors and aligns with best practices in security. _The admission controller's primary mutating or validating action doesn't require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller's logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole. See how in [Updating the ClusterRole](#updating-the-clusterrole)._\n\n## Debugging RBAC Issues\n\nIf encountering unexpected behaviors in Pepr while running in scoped mode, check to see if they are related to RBAC.\n\n1. Check Deployment logs for RBAC errors:\n\n```bash\nkubectl logs -n pepr-system  -l app | jq\n\n# example output\n{\n  \"level\": 50,\n  \"time\": 1697983053758,\n  \"pid\": 16,\n  \"hostname\": \"pepr-static-test-watcher-745d65857d-pndg7\",\n  \"data\": {\n    \"kind\": \"Status\",\n    \"apiVersion\": \"v1\",\n    \"metadata\": {},\n    \"status\": \"Failure\",\n    \"message\": \"configmaps \\\"pepr-ssa-demo\\\" is forbidden: User \\\"system:serviceaccount:pepr-system:pepr-static-test\\\" cannot patch resource \\\"configmaps\\\" in API group \\\"\\\" in the namespace \\\"pepr-demo-2\\\"\",\n    \"reason\": \"Forbidden\",\n    \"details\": {\n      \"name\": \"pepr-ssa-demo\",\n      \"kind\": \"configmaps\"\n    },\n    \"code\": 403\n  },\n  \"ok\": false,\n  \"status\": 403,\n  \"statusText\": \"Forbidden\",\n  \"msg\": \"Dooes the ServiceAccount permissions to CREATE and PATCH this ConfigMap?\"\n}\n```\n\n1. Verify ServiceAccount Permissions with `kubectl auth can-i`\n\n```bash\nSA=$(kubectl get deploy -n pepr-system -o=jsonpath='{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}')\n\n# Can i create configmaps as the service account in pepr-demo-2?\nkubectl auth can-i create cm --as=system:serviceaccount:pepr-system:$SA -n pepr-demo-2\n\n# example output: no\n```\n\n1. Describe the ClusterRole\n\n```bash\nSA=$(kubectl get deploy -n pepr-system -o=jsonpath='{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}')\n\nkubectl describe clusterrole $SA\n\n# example output:\nName:         pepr-static-test\nLabels:       \u003Cnone>\nAnnotations:  \u003Cnone>\nPolicyRule:\n  Resources            Non-Resource URLs  Resource Names  Verbs\n  ---------            -----------------  --------------  -----\n  peprstores.pepr.dev  []                 []              [create delete get list patch update watch]\n  configmaps           []                 []              [watch]\n  namespaces           []                 []              [watch]\n```\n\n## Updating the ClusterRole\n\nAs discussed in the [Modes](#modes) section, the admission controller's primary mutating or validating action doesn't require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller's logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole.\n\nStep 1: Figure out the desired permissions. (`kubectl create clusterrole --help` is a good place to start figuring out the syntax)\n\n```bash\n kubectl create clusterrole configMapApplier --verb=create,patch --resource=configmap --dry-run=client -oyaml\n\n # example output\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  creationTimestamp: null\n  name: configMapApplier\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - create\n  - patch\n```\n\nStep 2: Update the ClusterRole in the `dist` folder.\n\n```yaml\n...\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: pepr-static-test\nrules:\n  - apiGroups:\n      - pepr.dev\n    resources:\n      - peprstores\n    verbs:\n      - create\n      - get\n      - patch\n      - watch\n  - apiGroups:\n      - ''\n    resources:\n      - namespaces\n    verbs:\n      - watch\n  - apiGroups:\n      - ''\n    resources:\n      - configmaps\n    verbs:\n      - watch\n      - create # New\n      - patch  # New\n...\n```\n\nStep 3: Apply the updated configuration","src/content/docs/v0.54/user-guide/rbac.md","76755f9107082e09",{"html":2283,"metadata":2284},"\u003Cp>During the build phase of Pepr (\u003Ccode dir=\"auto\">npx pepr build --rbac-mode [admin|scoped]\u003C/code>), you have the option to specify the desired RBAC mode through specific flags. This allows fine-tuning the level of access granted based on requirements and preferences.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"modes\">Modes\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#modes\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Modes”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"admin\">admin\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#admin\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “admin”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--rbac-mode\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">admin\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr build --rbac-mode admin\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Description:\u003C/strong> The service account is given cluster-admin permissions, granting it full, unrestricted access across the entire cluster. This can be useful for administrative tasks where broad permissions are necessary. However, use this mode with caution, as it can pose security risks if misused. This is the default mode.\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h3\">\u003Ch3 id=\"scoped\">scoped\u003C/h3>\u003Ca class=\"sl-anchor-link\" href=\"#scoped\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “scoped”\u003C/span>\u003C/a>\u003C/div>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">npx\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">build\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--rbac-mode\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">scoped\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"npx pepr build --rbac-mode scoped\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>Description:\u003C/strong> The service account is provided just enough permissions to perform its required tasks, and no more. This mode is recommended for most use cases as it limits potential attack vectors and aligns with best practices in security. \u003Cem>The admission controller’s primary mutating or validating action doesn’t require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller’s logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole. See how in \u003Ca href=\"#updating-the-clusterrole\">Updating the ClusterRole\u003C/a>.\u003C/em>\u003C/p>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"debugging-rbac-issues\">Debugging RBAC Issues\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#debugging-rbac-issues\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Debugging RBAC Issues”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>If encountering unexpected behaviors in Pepr while running in scoped mode, check to see if they are related to RBAC.\u003C/p>\n\u003Col>\n\u003Cli>Check Deployment logs for RBAC errors:\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">logs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-l\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">app\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#096E72\">|\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">jq\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"level\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">50,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"time\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">1697983053758,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"pid\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">16,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"hostname\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-static-test-watcher-745d65857d-pndg7\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"data\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"kind\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Status\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"apiVersion\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">v1\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"metadata\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"status\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Failure\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"message\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">configmaps \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> is forbidden: User \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">system:serviceaccount:pepr-system:pepr-static-test\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> cannot patch resource \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">configmaps\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> in API group \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\"> in the namespace \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-demo-2\u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">\\\"\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"reason\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Forbidden\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"details\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">{\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"name\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr-ssa-demo\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">      \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"kind\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">configmaps\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">    \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"code\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#F78C6C;--1:#AA0982\">403\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">},\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"ok\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#82AAFF\">false\u003C/span>\u003Cspan style=\"--0:#ECC48D\">,\u003C/span>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"status\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">403,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"statusText\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Forbidden\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">\"msg\"\u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Dooes the ServiceAccount permissions to CREATE and PATCH this ConfigMap?\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">}\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl logs -n pepr-system  -l app | jq{  &#x22;level&#x22;: 50,  &#x22;time&#x22;: 1697983053758,  &#x22;pid&#x22;: 16,  &#x22;hostname&#x22;: &#x22;pepr-static-test-watcher-745d65857d-pndg7&#x22;,  &#x22;data&#x22;: {    &#x22;kind&#x22;: &#x22;Status&#x22;,    &#x22;apiVersion&#x22;: &#x22;v1&#x22;,    &#x22;metadata&#x22;: {},    &#x22;status&#x22;: &#x22;Failure&#x22;,    &#x22;message&#x22;: &#x22;configmaps \\&#x22;pepr-ssa-demo\\&#x22; is forbidden: User \\&#x22;system:serviceaccount:pepr-system:pepr-static-test\\&#x22; cannot patch resource \\&#x22;configmaps\\&#x22; in API group \\&#x22;\\&#x22; in the namespace \\&#x22;pepr-demo-2\\&#x22;&#x22;,    &#x22;reason&#x22;: &#x22;Forbidden&#x22;,    &#x22;details&#x22;: {      &#x22;name&#x22;: &#x22;pepr-ssa-demo&#x22;,      &#x22;kind&#x22;: &#x22;configmaps&#x22;    },    &#x22;code&#x22;: 403  },  &#x22;ok&#x22;: false,  &#x22;status&#x22;: 403,  &#x22;statusText&#x22;: &#x22;Forbidden&#x22;,  &#x22;msg&#x22;: &#x22;Dooes the ServiceAccount permissions to CREATE and PATCH this ConfigMap?&#x22;}\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Col>\n\u003Cli>Verify ServiceAccount Permissions with \u003Ccode dir=\"auto\">kubectl auth can-i\u003C/code>\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">SA\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">$(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o=jsonpath=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># Can i create configmaps as the service account in pepr-demo-2?\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">auth\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">can-i\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">cm\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--1:#3B61B0\">\u003Cspan style=\"--0:#82AAFF\">--as=system:serviceaccount:pepr-system:\u003C/span>\u003Cspan style=\"--0:#C5E478\">$SA\u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-demo-2\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output: no\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"SA=$(kubectl get deploy -n pepr-system -o=jsonpath=&#x27;{range .items[0]}{.spec.template.spec.serviceAccountName}{&#x22;\\n&#x22;}{end}&#x27;)kubectl auth can-i create cm --as=system:serviceaccount:pepr-system:$SA -n pepr-demo-2\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Col>\n\u003Cli>Describe the ClusterRole\u003C/li>\n\u003C/ol>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">SA\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">=\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">$(\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">deploy\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-n\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-system\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-o=jsonpath=\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">{range .items[0]}{.spec.template.spec.serviceAccountName}{\"\\n\"}{end}\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">'\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">describe\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">clusterrole\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#C5E478;--1:#3B61B0\">$SA\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Name:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">         \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Labels:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">       \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Annotations:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">&#x3C;none>\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">PolicyRule:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">Resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Non-Resource\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">URLs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Resource\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Names\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">Verbs\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">---------\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">            \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-----------------\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--------------\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-----\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">peprstores.pepr.dev\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  []                 []              [create delete get list patch update watch]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">configmaps\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">           []                 []              [watch]\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">namespaces\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">           []                 []              [watch]\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"SA=$(kubectl get deploy -n pepr-system -o=jsonpath=&#x27;{range .items[0]}{.spec.template.spec.serviceAccountName}{&#x22;\\n&#x22;}{end}&#x27;)kubectl describe clusterrole $SAName:         pepr-static-testLabels:       \u003Cnone>Annotations:  \u003Cnone>PolicyRule:  Resources            Non-Resource URLs  Resource Names  Verbs  ---------            -----------------  --------------  -----  peprstores.pepr.dev  []                 []              [create delete get list patch update watch]  configmaps           []                 []              [watch]  namespaces           []                 []              [watch]\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"updating-the-clusterrole\">Updating the ClusterRole\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#updating-the-clusterrole\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “Updating the ClusterRole”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>As discussed in the \u003Ca href=\"#modes\">Modes\u003C/a> section, the admission controller’s primary mutating or validating action doesn’t require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller’s logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole.\u003C/p>\n\u003Cp>Step 1: Figure out the desired permissions. (\u003Ccode dir=\"auto\">kubectl create clusterrole --help\u003C/code> is a good place to start figuring out the syntax)\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame is-terminal not-content\">\u003Cfigcaption class=\"header\">\u003Cspan class=\"title\">\u003C/span>\u003Cspan class=\"sr-only\">Terminal window\u003C/span>\u003C/figcaption>\u003Cpre data-language=\"bash\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kubectl\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">clusterrole\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configMapApplier\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--verb=create,patch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--resource=configmap\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">--dry-run=client\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-oyaml\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\n\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># example output\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">apiVersion:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rbac.authorization.k8s.io/v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">kind:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterRole\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">metadata:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">creationTimestamp:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">null\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">name:\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configMapApplier\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">rules:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">apiGroups:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\"\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">resources:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configmaps\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">verbs:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">-\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">patch\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"kubectl create clusterrole configMapApplier --verb=create,patch --resource=configmap --dry-run=client -oyamlapiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata:  creationTimestamp: null  name: configMapApplierrules:- apiGroups:  - &#x22;&#x22;  resources:  - configmaps  verbs:  - create  - patch\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Step 2: Update the ClusterRole in the \u003Ccode dir=\"auto\">dist\u003C/code> folder.\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"yaml\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">...\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiVersion\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">rbac.authorization.k8s.io/v1\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">kind\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">ClusterRole\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">metadata\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">  \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">name\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">: \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr-static-test\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">rules\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroups\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">pepr.dev\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">peprstores\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">verbs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">get\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">patch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroups\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">namespaces\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">verbs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">apiGroups\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">''\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">resources\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">configmaps\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">    \u003C/span>\u003Cspan style=\"--0:#7FDBCA;--1:#111111\">verbs\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">:\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">watch\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">create\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># New\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">      \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">- \u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#3B61B0\">patch\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003Cspan style=\"--0:#919F9F;--1:#5F636F\"># New\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">...\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"...apiVersion: rbac.authorization.k8s.io/v1kind: ClusterRolemetadata:  name: pepr-static-testrules:  - apiGroups:      - pepr.dev    resources:      - peprstores    verbs:      - create      - get      - patch      - watch  - apiGroups:      - &#x27;&#x27;    resources:      - namespaces    verbs:      - watch  - apiGroups:      - &#x27;&#x27;    resources:      - configmaps    verbs:      - watch      - create # New      - patch  # New...\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>Step 3: Apply the updated configuration\u003C/p>",{"headings":2285,"localImagePaths":2291,"remoteImagePaths":2292,"frontmatter":2293,"imagePaths":2294},[2286,2287,2288,2289,2290],{"depth":80,"slug":1334,"text":1335},{"depth":131,"slug":1337,"text":1337},{"depth":131,"slug":1339,"text":1339},{"depth":80,"slug":1341,"text":1342},{"depth":80,"slug":1344,"text":1345},[],[],{"title":1322,"description":1322,"slug":2273},[],"v0.54/user-guide/sdk",{"id":2295,"data":2297,"body":2301,"filePath":2302,"digest":2303,"rendered":2304},{"title":1353,"description":1353,"editUrl":66,"head":2298,"template":68,"sidebar":2299,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2300},{},"To use, import the `sdk` from the `pepr` package:\n\n```typescript\nimport { sdk } from \"pepr\";\n```\n\n## `containers`\n\nReturns list of all containers in a pod. Accepts the following parameters:\n\n- **\\@param peprValidationRequest** The request/pod to get the containers from\n- **\\@param containerType** The type of container to get\n\n**Usage:**\n\n**_Get all containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest)\n```\n\n**_Get only the standard containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest, \"containers\")\n```\n\n**_Get only the init containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest, \"initContainers\")\n```\n\n**_Get only the ephemeral containers_**\n\n```typescript\nconst { containers } = sdk;\nlet result = containers(peprValidationRequest, \"ephemeralContainers\")\n```\n\n---\n\n## `getOwnerRefFrom`\n\nReturns the owner reference for a Kubernetes resource as an array. Accepts the following parameters:\n\n- **\\@param kubernetesResource: GenericKind** The Kubernetes resource to get the owner reference for\n- **\\@param blockOwnerDeletion: boolean** If true, AND if the owner has the \"foregroundDeletion\" finalizer, then the owner cannot be deleted from the key-value store until this reference is removed.\n- **\\@param controller: boolean** If true, this reference points to the managing controller.\n\n**Usage:**\n\n```typescript\nconst { getOwnerRefFrom } = sdk;\nconst ownerRef = getOwnerRefFrom(kubernetesResource);\n```\n\n---\n\n## `writeEvent`\n\nWrite a K8s event for a CRD. Accepts the following parameters:\n\n- **\\@param kubernetesResource: GenericKind** The Kubernetes resource to write the event for\n- **\\@param event** The event to write, should contain a human-readable message for the event\n- **\\@param options** Configuration options for the event.\n  - eventType: string – The type of event to write, for example \"Warning\"\n  - eventReason: string – The reason for the event, for example \"ReconciliationFailed\"\n  - reportingComponent: string – The component that is reporting the event, for example \"uds.dev/operator\"\n  - reportingInstance: string – The instance of the component that is reporting the event, for example process.env.HOSTNAME\n\n**Usage:**\n\n```typescript\nconst { writeEvent } = sdk;\nconst event = { message: \"Resource was created.\" };\nwriteEvent(kubernetesResource, event, {\n  eventType: \"Info\",\n  eventReason: \"ReconciliationSuccess\",\n  reportingComponent: \"uds.dev/operator\",\n  reportingInstance: process.env.HOSTNAME,\n});\n```\n\n---\n\n## `sanitizeResourceName`\n\nReturns a sanitized resource name to make the given name a valid Kubernetes resource name. Accepts the following parameter:\n\n- **\\@param resourceName** The name of the resource to sanitize\n\n**Usage:**\n\n```typescript\nconst { sanitizeResourceName } = sdk;\nconst sanitizedResourceName = sanitizeResourceName(resourceName)\n```\n\n---\n\n## See Also\n\nLooking for information on the Pepr mutate helpers? See [Mutate Helpers](../actions/mutate#mutate-helpers) for information on those.","src/content/docs/v0.54/user-guide/sdk.md","46e28dccf63b6c74",{"html":2305,"metadata":2306},"\u003Cp>To use, import the \u003Ccode dir=\"auto\">sdk\u003C/code> from the \u003Ccode dir=\"auto\">pepr\u003C/code> package:\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Clink rel=\"stylesheet\" href=\"/_astro/ec.v4551.css\">\u003Cscript type=\"module\" src=\"/_astro/ec.p1z7b.js\">\u003C/script>\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">import\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> { sdk } \u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">from\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\"> \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">pepr\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"import { sdk } from &#x22;pepr&#x22;;\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"containers\">\u003Ccode dir=\"auto\">containers\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#containers\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “containers”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Returns list of all containers in a pod. Accepts the following parameters:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param peprValidationRequest\u003C/strong> The request/pod to get the containers from\u003C/li>\n\u003Cli>\u003Cstrong>@param containerType\u003C/strong> The type of container to get\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cp>\u003Cstrong>\u003Cem>Get all containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>\u003Cem>Get only the standard containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">containers\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest, &#x22;containers&#x22;)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>\u003Cem>Get only the init containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">initContainers\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest, &#x22;initContainers&#x22;)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Cp>\u003Cstrong>\u003Cem>Get only the ephemeral containers\u003C/em>\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">let \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">result\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">containers\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(peprValidationRequest\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">, \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ephemeralContainers\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { containers } = sdk;let result = containers(peprValidationRequest, &#x22;ephemeralContainers&#x22;)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"getownerreffrom\">\u003Ccode dir=\"auto\">getOwnerRefFrom\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#getownerreffrom\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “getOwnerRefFrom”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Returns the owner reference for a Kubernetes resource as an array. Accepts the following parameters:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param kubernetesResource: GenericKind\u003C/strong> The Kubernetes resource to get the owner reference for\u003C/li>\n\u003Cli>\u003Cstrong>@param blockOwnerDeletion: boolean\u003C/strong> If true, AND if the owner has the “foregroundDeletion” finalizer, then the owner cannot be deleted from the key-value store until this reference is removed.\u003C/li>\n\u003Cli>\u003Cstrong>@param controller: boolean\u003C/strong> If true, this reference points to the managing controller.\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getOwnerRefFrom\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">ownerRef\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">getOwnerRefFrom\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kubernetesResource);\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { getOwnerRefFrom } = sdk;const ownerRef = getOwnerRefFrom(kubernetesResource);\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"writeevent\">\u003Ccode dir=\"auto\">writeEvent\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#writeevent\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “writeEvent”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Write a K8s event for a CRD. Accepts the following parameters:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param kubernetesResource: GenericKind\u003C/strong> The Kubernetes resource to write the event for\u003C/li>\n\u003Cli>\u003Cstrong>@param event\u003C/strong> The event to write, should contain a human-readable message for the event\u003C/li>\n\u003Cli>\u003Cstrong>@param options\u003C/strong> Configuration options for the event.\n\u003Cul>\n\u003Cli>eventType: string – The type of event to write, for example “Warning”\u003C/li>\n\u003Cli>eventReason: string – The reason for the event, for example “ReconciliationFailed”\u003C/li>\n\u003Cli>reportingComponent: string – The component that is reporting the event, for example “uds.dev/operator”\u003C/li>\n\u003Cli>reportingInstance: string – The instance of the component that is reporting the event, for example process.env.HOSTNAME\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">writeEvent\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">event\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = { message: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Resource was created.\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> }\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">writeEvent\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(kubernetesResource, event, {\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">eventType: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">Info\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">eventReason: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">ReconciliationSuccess\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">reportingComponent: \u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#ECC48D;--1:#984E4D\">uds.dev/operator\u003C/span>\u003Cspan style=\"--0:#D9F5DD;--1:#111111\">\"\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan class=\"indent\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">  \u003C/span>\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">reportingInstance: process\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#FAF39F;--1:#111111\">env\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">.\u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">HOSTNAME\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">,\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">});\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { writeEvent } = sdk;const event = { message: &#x22;Resource was created.&#x22; };writeEvent(kubernetesResource, event, {  eventType: &#x22;Info&#x22;,  eventReason: &#x22;ReconciliationSuccess&#x22;,  reportingComponent: &#x22;uds.dev/operator&#x22;,  reportingInstance: process.env.HOSTNAME,});\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"sanitizeresourcename\">\u003Ccode dir=\"auto\">sanitizeResourceName\u003C/code>\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#sanitizeresourcename\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “sanitizeResourceName”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Returns a sanitized resource name to make the given name a valid Kubernetes resource name. Accepts the following parameter:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>@param resourceName\u003C/strong> The name of the resource to sanitize\u003C/li>\n\u003C/ul>\n\u003Cp>\u003Cstrong>Usage:\u003C/strong>\u003C/p>\n\u003Cdiv class=\"expressive-code\">\u003Cfigure class=\"frame not-content\">\u003Cfigcaption class=\"header\">\u003C/figcaption>\u003Cpre data-language=\"typescript\">\u003Ccode>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const { \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sanitizeResourceName\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> } = \u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">sdk;\u003C/span>\u003C/div>\u003C/div>\u003Cdiv class=\"ec-line\">\u003Cdiv class=\"code\">\u003Cspan style=\"--0:#C792EA;--1:#8844AE\">const \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sanitizedResourceName\u003C/span>\u003Cspan style=\"--0:#C792EA;--1:#8844AE\"> = \u003C/span>\u003Cspan style=\"--0:#82AAFF;--1:#3B61B0\">sanitizeResourceName\u003C/span>\u003Cspan style=\"--0:#D6DEEB;--1:#403F53\">(resourceName)\u003C/span>\u003C/div>\u003C/div>\u003C/code>\u003C/pre>\u003Cdiv class=\"copy\">\u003Cbutton title=\"Copy to clipboard\" data-copied=\"Copied!\" data-code=\"const { sanitizeResourceName } = sdk;const sanitizedResourceName = sanitizeResourceName(resourceName)\">\u003Cdiv>\u003C/div>\u003C/button>\u003C/div>\u003C/figure>\u003C/div>\n\u003Chr>\n\u003Cdiv class=\"sl-heading-wrapper level-h2\">\u003Ch2 id=\"see-also\">See Also\u003C/h2>\u003Ca class=\"sl-anchor-link\" href=\"#see-also\">\u003Cspan aria-hidden=\"true\" class=\"sl-anchor-icon\">\u003Csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\u003Cpath fill=\"currentcolor\" d=\"m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z\">\u003C/path>\u003C/svg>\u003C/span>\u003Cspan class=\"sr-only\">Section titled “See Also”\u003C/span>\u003C/a>\u003C/div>\n\u003Cp>Looking for information on the Pepr mutate helpers? See \u003Ca href=\"../actions/mutate#mutate-helpers\">Mutate Helpers\u003C/a> for information on those.\u003C/p>",{"headings":2307,"localImagePaths":2313,"remoteImagePaths":2314,"frontmatter":2315,"imagePaths":2316},[2308,2309,2310,2311,2312],{"depth":80,"slug":1365,"text":1365},{"depth":80,"slug":1367,"text":1368},{"depth":80,"slug":1370,"text":1371},{"depth":80,"slug":1373,"text":1374},{"depth":80,"slug":539,"text":540},[],[],{"title":1353,"description":1353,"slug":2295},[],"v0.55/actions/finalize",{"id":2317,"data":2319,"body":339,"filePath":2323,"digest":2324,"rendered":2325},{"title":335,"description":335,"editUrl":66,"head":2320,"template":68,"sidebar":2321,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2322},{},"src/content/docs/v0.55/actions/finalize.md","b09ab48b9af27ce2",{"html":343,"metadata":2326},{"headings":2327,"localImagePaths":2328,"remoteImagePaths":2329,"frontmatter":2330,"imagePaths":2331},[],[],[],{"title":335,"description":335,"slug":2317},[],"v0.54/user-guide/store",{"id":2332,"data":2334,"body":1386,"filePath":2338,"digest":2339,"rendered":2340},{"title":750,"description":750,"editUrl":66,"head":2335,"template":68,"sidebar":2336,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2337},{},"src/content/docs/v0.54/user-guide/store.md","a51d42a2ace9ec1a",{"html":1390,"metadata":2341},{"headings":2342,"localImagePaths":2348,"remoteImagePaths":2349,"frontmatter":2350,"imagePaths":2351},[2343,2344,2345,2346,2347],{"depth":80,"slug":1394,"text":1395},{"depth":80,"slug":1397,"text":1398},{"depth":80,"slug":1400,"text":1401},{"depth":80,"slug":1403,"text":1404},{"depth":131,"slug":1406,"text":1407},[],[],{"title":750,"description":750,"slug":2332},[],"v0.55/actions",{"id":2352,"data":2354,"body":569,"filePath":2358,"digest":2359,"rendered":2360},{"title":20,"description":20,"editUrl":66,"head":2355,"template":68,"sidebar":2356,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2357},{},"src/content/docs/v0.55/actions/index.md","1550d9aad5750f1c",{"html":573,"metadata":2361},{"headings":2362,"localImagePaths":2364,"remoteImagePaths":2365,"frontmatter":2366,"imagePaths":2367},[2363],{"depth":80,"slug":577,"text":578},[],[],{"title":20,"description":20,"slug":2352},[],"v0.55/actions/mutate",{"id":2368,"data":2370,"body":515,"filePath":2374,"digest":2375,"rendered":2376},{"title":511,"description":511,"editUrl":66,"head":2371,"template":68,"sidebar":2372,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2373},{},"src/content/docs/v0.55/actions/mutate.md","a04de2a00e903ef8",{"html":519,"metadata":2377},{"headings":2378,"localImagePaths":2385,"remoteImagePaths":2386,"frontmatter":2387,"imagePaths":2388},[2379,2380,2381,2382,2383,2384],{"depth":523,"slug":524,"text":525},{"depth":131,"slug":527,"text":528},{"depth":131,"slug":530,"text":531},{"depth":131,"slug":533,"text":534},{"depth":131,"slug":536,"text":537},{"depth":80,"slug":539,"text":540},[],[],{"title":511,"description":511,"slug":2368},[],"v0.55/actions/reconcile",{"id":2389,"data":2391,"body":357,"filePath":2395,"digest":2396,"rendered":2397},{"title":353,"description":353,"editUrl":66,"head":2392,"template":68,"sidebar":2393,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2394},{},"src/content/docs/v0.55/actions/reconcile.md","70211215886f073e",{"html":361,"metadata":2398},{"headings":2399,"localImagePaths":2400,"remoteImagePaths":2401,"frontmatter":2402,"imagePaths":2403},[],[],[],{"title":353,"description":353,"slug":2389},[],"v0.55/actions/using-alias-child-logger",{"id":2404,"data":2406,"body":552,"filePath":2410,"digest":2411,"rendered":2412},{"title":548,"description":548,"editUrl":66,"head":2407,"template":68,"sidebar":2408,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2409},{},"src/content/docs/v0.55/actions/using-alias-child-logger.md","1b7b991d56073318",{"html":556,"metadata":2413},{"headings":2414,"localImagePaths":2416,"remoteImagePaths":2417,"frontmatter":2418,"imagePaths":2419},[2415],{"depth":80,"slug":539,"text":540},[],[],{"title":548,"description":548,"slug":2404},[],"v0.55/actions/watch",{"id":2420,"data":2422,"body":375,"filePath":2426,"digest":2427,"rendered":2428},{"title":371,"description":371,"editUrl":66,"head":2423,"template":68,"sidebar":2424,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2425},{},"src/content/docs/v0.55/actions/watch.md","24109a379163e646",{"html":379,"metadata":2429},{"headings":2430,"localImagePaths":2431,"remoteImagePaths":2432,"frontmatter":2433,"imagePaths":2434},[],[],[],{"title":371,"description":371,"slug":2420},[],"v0.55/actions/validate",{"id":2435,"data":2437,"body":450,"filePath":2441,"digest":2442,"rendered":2443},{"title":446,"description":446,"editUrl":66,"head":2438,"template":68,"sidebar":2439,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2440},{},"src/content/docs/v0.55/actions/validate.md","ba1e73240106fd5d",{"html":454,"metadata":2444},{"headings":2445,"localImagePaths":2450,"remoteImagePaths":2451,"frontmatter":2452,"imagePaths":2453},[2446,2447,2448,2449],{"depth":80,"slug":458,"text":459},{"depth":80,"slug":461,"text":462},{"depth":131,"slug":464,"text":465},{"depth":131,"slug":467,"text":468},[],[],{"title":446,"description":446,"slug":2435},[],"v0.55/community/community",{"id":2454,"data":2456,"body":117,"filePath":2460,"digest":2461,"rendered":2462},{"title":32,"description":32,"editUrl":66,"head":2457,"template":68,"sidebar":2458,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2459},{},"src/content/docs/v0.55/community/community.md","2dc34bca4a6143e7",{"html":121,"metadata":2463},{"headings":2464,"localImagePaths":2469,"remoteImagePaths":2470,"frontmatter":2471,"imagePaths":2472},[2465,2466,2467,2468],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":128,"text":129},{"depth":131,"slug":132,"text":133},{"depth":131,"slug":135,"text":136},[],[],{"title":32,"description":32,"slug":2454},[],"v0.55/community/pepr-media",{"id":2473,"data":2475,"body":148,"filePath":2479,"digest":2480,"rendered":2481},{"title":144,"description":144,"editUrl":66,"head":2476,"template":68,"sidebar":2477,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2478},{},"src/content/docs/v0.55/community/pepr-media.md","94ef8aae6435c16f",{"html":152,"metadata":2482},{"headings":2483,"localImagePaths":2492,"remoteImagePaths":2493,"frontmatter":2494,"imagePaths":2495},[2484,2485,2486,2487,2488,2489,2490,2491],{"depth":80,"slug":156,"text":156},{"depth":131,"slug":158,"text":159},{"depth":80,"slug":161,"text":161},{"depth":131,"slug":163,"text":164},{"depth":131,"slug":166,"text":167},{"depth":131,"slug":169,"text":170},{"depth":80,"slug":172,"text":172},{"depth":131,"slug":174,"text":164},[],[],{"title":144,"description":144,"slug":2473},[],"v0.55/community/security",{"id":2496,"data":2498,"body":186,"filePath":2502,"digest":2503,"rendered":2504},{"title":182,"description":182,"editUrl":66,"head":2499,"template":68,"sidebar":2500,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2501},{},"src/content/docs/v0.55/community/security.md","5f8046ffe2e75178",{"html":190,"metadata":2505},{"headings":2506,"localImagePaths":2509,"remoteImagePaths":2510,"frontmatter":2511,"imagePaths":2512},[2507,2508],{"depth":80,"slug":194,"text":195},{"depth":80,"slug":197,"text":198},[],[],{"title":182,"description":182,"slug":2496},[],"v0.55/community/support",{"id":2513,"data":2515,"body":210,"filePath":2519,"digest":2520,"rendered":2521},{"title":206,"description":206,"editUrl":66,"head":2516,"template":68,"sidebar":2517,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2518},{},"src/content/docs/v0.55/community/support.md","fae677b124947935",{"html":214,"metadata":2522},{"headings":2523,"localImagePaths":2526,"remoteImagePaths":2527,"frontmatter":2528,"imagePaths":2529},[2524,2525],{"depth":80,"slug":132,"text":133},{"depth":80,"slug":197,"text":198},[],[],{"title":206,"description":206,"slug":2513},[],"v0.55/contribute/contributor-guide",{"id":2530,"data":2532,"body":281,"filePath":2536,"digest":2537,"rendered":2538},{"title":277,"description":277,"editUrl":66,"head":2533,"template":68,"sidebar":2534,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2535},{},"src/content/docs/v0.55/contribute/contributor-guide.md","c971954fcdf2b5a2",{"html":285,"metadata":2539},{"headings":2540,"localImagePaths":2555,"remoteImagePaths":2556,"frontmatter":2557,"imagePaths":2558},[2541,2542,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2553,2554],{"depth":80,"slug":289,"text":290},{"depth":80,"slug":292,"text":293},{"depth":80,"slug":295,"text":296},{"depth":131,"slug":298,"text":299},{"depth":131,"slug":301,"text":302},{"depth":80,"slug":304,"text":305},{"depth":131,"slug":307,"text":308},{"depth":80,"slug":310,"text":311},{"depth":131,"slug":313,"text":314},{"depth":80,"slug":316,"text":317},{"depth":131,"slug":319,"text":320},{"depth":131,"slug":322,"text":323},{"depth":131,"slug":325,"text":326},{"depth":80,"slug":197,"text":198},[],[],{"title":277,"description":277,"slug":2530},[],"v0.55/contribute/code_of_conduct",{"id":2559,"data":2561,"body":230,"filePath":2565,"digest":2566,"rendered":2567},{"title":226,"description":226,"editUrl":66,"head":2562,"template":68,"sidebar":2563,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2564},{},"src/content/docs/v0.55/contribute/code_of_conduct.md","0d559680a2e63472",{"html":234,"metadata":2568},{"headings":2569,"localImagePaths":2581,"remoteImagePaths":2582,"frontmatter":2583,"imagePaths":2584},[2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580],{"depth":80,"slug":238,"text":239},{"depth":80,"slug":241,"text":242},{"depth":80,"slug":244,"text":245},{"depth":80,"slug":247,"text":248},{"depth":80,"slug":250,"text":251},{"depth":80,"slug":253,"text":254},{"depth":131,"slug":256,"text":257},{"depth":131,"slug":259,"text":260},{"depth":131,"slug":262,"text":263},{"depth":131,"slug":265,"text":266},{"depth":80,"slug":268,"text":269},[],[],{"title":226,"description":226,"slug":2559},[],"v0.55/reference/best-practices",{"id":2585,"data":2587,"body":683,"filePath":2591,"digest":2592,"rendered":2593},{"title":679,"description":679,"editUrl":66,"head":2588,"template":68,"sidebar":2589,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2590},{},"src/content/docs/v0.55/reference/best-practices.md","f25716b70457c46e",{"html":687,"metadata":2594},{"headings":2595,"localImagePaths":2618,"remoteImagePaths":2619,"frontmatter":2620,"imagePaths":2621},[2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617],{"depth":80,"slug":289,"text":290},{"depth":80,"slug":692,"text":693},{"depth":80,"slug":695,"text":696},{"depth":131,"slug":698,"text":699},{"depth":131,"slug":701,"text":702},{"depth":80,"slug":704,"text":705},{"depth":80,"slug":707,"text":708},{"depth":131,"slug":710,"text":711},{"depth":131,"slug":713,"text":714},{"depth":716,"slug":717,"text":718},{"depth":716,"slug":720,"text":721},{"depth":131,"slug":723,"text":724},{"depth":131,"slug":726,"text":727},{"depth":80,"slug":729,"text":730},{"depth":80,"slug":732,"text":733},{"depth":80,"slug":735,"text":736},{"depth":80,"slug":738,"text":739},{"depth":80,"slug":741,"text":742},{"depth":80,"slug":744,"text":745},{"depth":80,"slug":747,"text":353},{"depth":80,"slug":749,"text":750},{"depth":80,"slug":752,"text":371},[],[],{"title":679,"description":679,"slug":2585},[],"v0.55/reference/faq",{"id":2622,"data":2624,"body":590,"filePath":2628,"digest":2629,"rendered":2630},{"title":586,"description":586,"editUrl":66,"head":2625,"template":68,"sidebar":2626,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2627},{},"src/content/docs/v0.55/reference/faq.md","1b093c42b03c3b90",{"html":594,"metadata":2631},{"headings":2632,"localImagePaths":2649,"remoteImagePaths":2650,"frontmatter":2651,"imagePaths":2652},[2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648],{"depth":80,"slug":598,"text":599},{"depth":80,"slug":601,"text":602},{"depth":131,"slug":604,"text":605},{"depth":131,"slug":607,"text":608},{"depth":131,"slug":610,"text":611},{"depth":131,"slug":613,"text":614},{"depth":80,"slug":616,"text":617},{"depth":80,"slug":619,"text":620},{"depth":80,"slug":622,"text":623},{"depth":80,"slug":625,"text":626},{"depth":80,"slug":628,"text":629},{"depth":80,"slug":631,"text":632},{"depth":80,"slug":634,"text":635},{"depth":80,"slug":637,"text":638},{"depth":80,"slug":640,"text":641},{"depth":80,"slug":643,"text":644},[],[],{"title":586,"description":586,"slug":2622},[],"v0.55/reference/module-examples",{"id":2653,"data":2655,"body":480,"filePath":2659,"digest":2660,"rendered":2661},{"title":476,"description":476,"editUrl":66,"head":2656,"template":68,"sidebar":2657,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2658},{},"src/content/docs/v0.55/reference/module-examples.md","03b08c6d2005937a",{"html":484,"metadata":2662},{"headings":2663,"localImagePaths":2664,"remoteImagePaths":2665,"frontmatter":2666,"imagePaths":2667},[],[],[],{"title":476,"description":476,"slug":2653},[],"v0.55/tutorials/create-pepr-dashboard",{"id":2668,"data":2670,"body":764,"filePath":2674,"digest":2675,"rendered":2676},{"title":760,"description":760,"editUrl":66,"head":2671,"template":68,"sidebar":2672,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2673},{},"src/content/docs/v0.55/tutorials/create-pepr-dashboard.md","8e5b3bcb2ce8f26f",{"html":768,"metadata":2677},{"headings":2678,"localImagePaths":2689,"remoteImagePaths":2690,"frontmatter":2691,"imagePaths":2692},[2679,2680,2681,2682,2683,2684,2685,2686,2687,2688],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":666,"text":667},{"depth":131,"slug":774,"text":775},{"depth":131,"slug":777,"text":778},{"depth":131,"slug":780,"text":781},{"depth":131,"slug":783,"text":784},{"depth":131,"slug":786,"text":787},{"depth":131,"slug":789,"text":790},{"depth":131,"slug":792,"text":793},{"depth":80,"slug":613,"text":614},[],[],{"title":760,"description":760,"slug":2668},[],"v0.55/tutorials/create-pepr-module",{"id":2693,"data":2695,"body":656,"filePath":2699,"digest":2700,"rendered":2701},{"title":652,"description":652,"editUrl":66,"head":2696,"template":68,"sidebar":2697,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2698},{},"src/content/docs/v0.55/tutorials/create-pepr-module.md","02177e9638ddd264",{"html":660,"metadata":2702},{"headings":2703,"localImagePaths":2709,"remoteImagePaths":2710,"frontmatter":2711,"imagePaths":2712},[2704,2705,2706,2707,2708],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":666,"text":667},{"depth":80,"slug":669,"text":670},{"depth":80,"slug":613,"text":614},[],[],{"title":652,"description":652,"slug":2693},[],"v0.55/tutorials/create-pepr-operator",{"id":2713,"data":2715,"body":806,"filePath":2719,"digest":2720,"rendered":2721},{"title":802,"description":802,"editUrl":66,"head":2716,"template":68,"sidebar":2717,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2718},{},"src/content/docs/v0.55/tutorials/create-pepr-operator.md","648e99596af4cb75",{"html":810,"metadata":2722},{"headings":2723,"localImagePaths":2751,"remoteImagePaths":2752,"frontmatter":2753,"imagePaths":2754},[2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2736,2737,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750],{"depth":80,"slug":125,"text":126},{"depth":80,"slug":815,"text":816},{"depth":80,"slug":414,"text":415},{"depth":80,"slug":819,"text":820},{"depth":80,"slug":822,"text":823},{"depth":80,"slug":825,"text":826},{"depth":80,"slug":828,"text":829},{"depth":80,"slug":831,"text":832},{"depth":80,"slug":834,"text":835},{"depth":80,"slug":837,"text":838},{"depth":131,"slug":840,"text":841},{"depth":131,"slug":843,"text":844},{"depth":131,"slug":846,"text":847},{"depth":131,"slug":849,"text":850},{"depth":716,"slug":852,"text":853},{"depth":716,"slug":855,"text":856},{"depth":80,"slug":858,"text":859},{"depth":131,"slug":861,"text":862},{"depth":131,"slug":864,"text":865},{"depth":131,"slug":867,"text":868},{"depth":131,"slug":870,"text":871},{"depth":131,"slug":873,"text":874},{"depth":131,"slug":876,"text":877},{"depth":131,"slug":879,"text":880},{"depth":80,"slug":882,"text":883},{"depth":131,"slug":885,"text":886},{"depth":131,"slug":888,"text":889},[],[],{"title":802,"description":802,"slug":2713},[],"v0.55/tutorials",{"id":2755,"data":2757,"body":497,"filePath":2761,"digest":2762,"rendered":2763},{"title":493,"description":493,"editUrl":66,"head":2758,"template":68,"sidebar":2759,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2760},{},"src/content/docs/v0.55/tutorials/index.md","3c8d25a854d40fb9",{"html":501,"metadata":2764},{"headings":2765,"localImagePaths":2766,"remoteImagePaths":2767,"frontmatter":2768,"imagePaths":2769},[],[],[],{"title":493,"description":493,"slug":2755},[],"v0.55/user-guide/capabilities",{"id":2770,"data":2772,"body":919,"filePath":2776,"digest":2777,"rendered":2778},{"title":915,"description":915,"editUrl":66,"head":2773,"template":68,"sidebar":2774,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2775},{},"src/content/docs/v0.55/user-guide/capabilities.md","72f52819b0212a08",{"html":923,"metadata":2779},{"headings":2780,"localImagePaths":2783,"remoteImagePaths":2784,"frontmatter":2785,"imagePaths":2786},[2781,2782],{"depth":80,"slug":927,"text":928},{"depth":80,"slug":930,"text":931},[],[],{"title":915,"description":915,"slug":2770},[],"v0.55/tutorials/pepr-gitops-workflow",{"id":2787,"data":2789,"body":901,"filePath":2793,"digest":2794,"rendered":2795},{"title":897,"description":897,"editUrl":66,"head":2790,"template":68,"sidebar":2791,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2792},{},"src/content/docs/v0.55/tutorials/pepr-gitops-workflow.md","1a0f005ebcbc3bd5",{"html":905,"metadata":2796},{"headings":2797,"localImagePaths":2798,"remoteImagePaths":2799,"frontmatter":2800,"imagePaths":2801},[],[],[],{"title":897,"description":897,"slug":2787},[],"v0.55/user-guide/custom-resources",{"id":2802,"data":2804,"body":943,"filePath":2808,"digest":2809,"rendered":2810},{"title":939,"description":939,"editUrl":66,"head":2805,"template":68,"sidebar":2806,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2807},{},"src/content/docs/v0.55/user-guide/custom-resources.md","27ca891136642ff6",{"html":947,"metadata":2811},{"headings":2812,"localImagePaths":2816,"remoteImagePaths":2817,"frontmatter":2818,"imagePaths":2819},[2813,2814,2815],{"depth":80,"slug":951,"text":952},{"depth":80,"slug":954,"text":955},{"depth":80,"slug":957,"text":958},[],[],{"title":939,"description":939,"slug":2802},[],"v0.55/user-guide/customization",{"id":2820,"data":2822,"body":1028,"filePath":2826,"digest":2827,"rendered":2828},{"title":1024,"description":1024,"editUrl":66,"head":2823,"template":68,"sidebar":2824,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2825},{},"src/content/docs/v0.55/user-guide/customization.md","37480028f70c31e8",{"html":1032,"metadata":2829},{"headings":2830,"localImagePaths":2842,"remoteImagePaths":2843,"frontmatter":2844,"imagePaths":2845},[2831,2832,2833,2834,2835,2836,2837,2838,2839,2840,2841],{"depth":80,"slug":1036,"text":1037},{"depth":80,"slug":1039,"text":1040},{"depth":80,"slug":1042,"text":1043},{"depth":80,"slug":1045,"text":1046},{"depth":80,"slug":1048,"text":1049},{"depth":80,"slug":1051,"text":1052},{"depth":131,"slug":1054,"text":1055},{"depth":131,"slug":1057,"text":1058},{"depth":80,"slug":1060,"text":1061},{"depth":131,"slug":1063,"text":1064},{"depth":131,"slug":1066,"text":1067},[],[],{"title":1024,"description":1024,"slug":2820},[],"v0.55/user-guide/feature-flags",{"id":2846,"data":2848,"body":970,"filePath":2852,"digest":2853,"rendered":2854},{"title":966,"description":966,"editUrl":66,"head":2849,"template":68,"sidebar":2850,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2851},{},"src/content/docs/v0.55/user-guide/feature-flags.md","e07f171ef0777f6a",{"html":974,"metadata":2855},{"headings":2856,"localImagePaths":2871,"remoteImagePaths":2872,"frontmatter":2873,"imagePaths":2874},[2857,2858,2859,2860,2861,2862,2863,2864,2865,2866,2867,2868,2869,2870],{"depth":80,"slug":978,"text":979},{"depth":80,"slug":295,"text":296},{"depth":131,"slug":982,"text":983},{"depth":80,"slug":985,"text":986},{"depth":80,"slug":988,"text":989},{"depth":131,"slug":991,"text":992},{"depth":131,"slug":994,"text":995},{"depth":80,"slug":997,"text":998},{"depth":131,"slug":1000,"text":1001},{"depth":131,"slug":1003,"text":1004},{"depth":131,"slug":1006,"text":1007},{"depth":80,"slug":1009,"text":1010},{"depth":80,"slug":1012,"text":1013},{"depth":131,"slug":1015,"text":1016},[],[],{"title":966,"description":966,"slug":2846},[],"v0.55/user-guide/filters",{"id":2875,"data":2877,"body":1079,"filePath":2881,"digest":2882,"rendered":2883},{"title":1075,"description":1075,"editUrl":66,"head":2878,"template":68,"sidebar":2879,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2880},{},"src/content/docs/v0.55/user-guide/filters.md","ef3d48886893c4b8",{"html":1083,"metadata":2884},{"headings":2885,"localImagePaths":2887,"remoteImagePaths":2888,"frontmatter":2889,"imagePaths":2890},[2886],{"depth":80,"slug":1087,"text":1088},[],[],{"title":1075,"description":1075,"slug":2875},[],"v0.55/user-guide/generating-crds",{"id":2891,"data":2893,"body":1100,"filePath":2897,"digest":2898,"rendered":2899},{"title":1096,"description":1096,"editUrl":66,"head":2894,"template":68,"sidebar":2895,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2896},{},"src/content/docs/v0.55/user-guide/generating-crds.md","81aad616f36727fc",{"html":1104,"metadata":2900},{"headings":2901,"localImagePaths":2902,"remoteImagePaths":2903,"frontmatter":2904,"imagePaths":2905},[],[],[],{"title":1096,"description":1096,"slug":2891},[],"v0.55/user-guide/generating-custom-metrics",{"id":2906,"data":2908,"body":1118,"filePath":2912,"digest":2913,"rendered":2914},{"title":1114,"description":1114,"editUrl":66,"head":2909,"template":68,"sidebar":2910,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2911},{},"src/content/docs/v0.55/user-guide/generating-custom-metrics.md","06e1cc02ab2bd2ac",{"html":1122,"metadata":2915},{"headings":2916,"localImagePaths":2917,"remoteImagePaths":2918,"frontmatter":2919,"imagePaths":2920},[],[],[],{"title":1114,"description":1114,"slug":2906},[],"v0.55/user-guide",{"id":2921,"data":2923,"body":1134,"filePath":2927,"digest":2928,"rendered":2929},{"title":16,"description":16,"editUrl":66,"head":2924,"template":68,"sidebar":2925,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2926},{},"src/content/docs/v0.55/user-guide/index.md","13ad9448ce990c2c",{"html":1138,"metadata":2930},{"headings":2931,"localImagePaths":2947,"remoteImagePaths":2948,"frontmatter":2949,"imagePaths":2950},[2932,2933,2934,2935,2936,2937,2938,2939,2940,2941,2942,2943,2944,2945,2946],{"depth":523,"slug":1142,"text":1143},{"depth":131,"slug":1145,"text":1146},{"depth":131,"slug":1148,"text":1149},{"depth":131,"slug":1151,"text":1152},{"depth":131,"slug":1154,"text":915},{"depth":131,"slug":1156,"text":939},{"depth":131,"slug":1158,"text":1024},{"depth":131,"slug":1160,"text":966},{"depth":131,"slug":1087,"text":1088},{"depth":131,"slug":1163,"text":1164},{"depth":131,"slug":1166,"text":1096},{"depth":131,"slug":1168,"text":1169},{"depth":131,"slug":741,"text":742},{"depth":131,"slug":1172,"text":1173},{"depth":131,"slug":749,"text":750},[],[],{"title":16,"description":16,"slug":2921},[],"v0.55/user-guide/metrics-endpoints",{"id":2951,"data":2953,"body":1186,"filePath":2957,"digest":2958,"rendered":2959},{"title":1182,"description":1182,"editUrl":66,"head":2954,"template":68,"sidebar":2955,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2956},{},"src/content/docs/v0.55/user-guide/metrics-endpoints.md","5ddf667fc60c65f7",{"html":1190,"metadata":2960},{"headings":2961,"localImagePaths":2969,"remoteImagePaths":2970,"frontmatter":2971,"imagePaths":2972},[2962,2963,2964,2965,2966,2967,2968],{"depth":80,"slug":1194,"text":1195},{"depth":80,"slug":1197,"text":1198},{"depth":80,"slug":1200,"text":1201},{"depth":80,"slug":1203,"text":1204},{"depth":131,"slug":1206,"text":1207},{"depth":131,"slug":1209,"text":1210},{"depth":80,"slug":1212,"text":1213},[],[],{"title":1182,"description":1182,"slug":2951},[],"v0.55/user-guide/onschedule",{"id":2973,"data":2975,"body":1224,"filePath":2979,"digest":2980,"rendered":2981},{"title":742,"description":742,"editUrl":66,"head":2976,"template":68,"sidebar":2977,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2978},{},"src/content/docs/v0.55/user-guide/onschedule.md","1a7ab5939269640a",{"html":1228,"metadata":2982},{"headings":2983,"localImagePaths":2988,"remoteImagePaths":2989,"frontmatter":2990,"imagePaths":2991},[2984,2985,2986,2987],{"depth":80,"slug":978,"text":979},{"depth":80,"slug":1233,"text":1234},{"depth":80,"slug":1203,"text":1204},{"depth":80,"slug":1237,"text":1238},[],[],{"title":742,"description":742,"slug":2973},[],"v0.55/user-guide/pepr-cli",{"id":2992,"data":2994,"body":1269,"filePath":2998,"digest":2999,"rendered":3000},{"title":1146,"description":1146,"editUrl":66,"head":2995,"template":68,"sidebar":2996,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":2997},{},"src/content/docs/v0.55/user-guide/pepr-cli.md","ac1be671d39003c3",{"html":1273,"metadata":3001},{"headings":3002,"localImagePaths":3016,"remoteImagePaths":3017,"frontmatter":3018,"imagePaths":3019},[3003,3004,3005,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015],{"depth":80,"slug":1277,"text":1278},{"depth":80,"slug":1280,"text":1281},{"depth":80,"slug":1283,"text":1284},{"depth":80,"slug":1286,"text":1287},{"depth":80,"slug":1289,"text":1290},{"depth":80,"slug":1292,"text":1293},{"depth":80,"slug":1295,"text":1296},{"depth":80,"slug":1298,"text":1299},{"depth":80,"slug":1301,"text":1302},{"depth":80,"slug":1304,"text":1305},{"depth":80,"slug":1307,"text":1308},{"depth":80,"slug":1310,"text":1311},{"depth":80,"slug":1313,"text":1314},[],[],{"title":1146,"description":1146,"slug":2992},[],"v0.55/user-guide/pepr-modules",{"id":3020,"data":3022,"body":1249,"filePath":3026,"digest":3027,"rendered":3028},{"title":1152,"description":1152,"editUrl":66,"head":3023,"template":68,"sidebar":3024,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":3025},{},"src/content/docs/v0.55/user-guide/pepr-modules.md","3385bc597b452ed1",{"html":1253,"metadata":3029},{"headings":3030,"localImagePaths":3032,"remoteImagePaths":3033,"frontmatter":3034,"imagePaths":3035},[3031],{"depth":80,"slug":1257,"text":1258},[],[],{"title":1152,"description":1152,"slug":3020},[],"v0.55/user-guide/rbac",{"id":3036,"data":3038,"body":1326,"filePath":3042,"digest":3043,"rendered":3044},{"title":1322,"description":1322,"editUrl":66,"head":3039,"template":68,"sidebar":3040,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":3041},{},"src/content/docs/v0.55/user-guide/rbac.md","bbf59337d79c57d2",{"html":1330,"metadata":3045},{"headings":3046,"localImagePaths":3052,"remoteImagePaths":3053,"frontmatter":3054,"imagePaths":3055},[3047,3048,3049,3050,3051],{"depth":80,"slug":1334,"text":1335},{"depth":131,"slug":1337,"text":1337},{"depth":131,"slug":1339,"text":1339},{"depth":80,"slug":1341,"text":1342},{"depth":80,"slug":1344,"text":1345},[],[],{"title":1322,"description":1322,"slug":3036},[],"v0.55/user-guide/sdk",{"id":3056,"data":3058,"body":1357,"filePath":3062,"digest":3063,"rendered":3064},{"title":1353,"description":1353,"editUrl":66,"head":3059,"template":68,"sidebar":3060,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":3061},{},"src/content/docs/v0.55/user-guide/sdk.md","c7a7b396f30b768a",{"html":1361,"metadata":3065},{"headings":3066,"localImagePaths":3072,"remoteImagePaths":3073,"frontmatter":3074,"imagePaths":3075},[3067,3068,3069,3070,3071],{"depth":80,"slug":1365,"text":1365},{"depth":80,"slug":1367,"text":1368},{"depth":80,"slug":1370,"text":1371},{"depth":80,"slug":1373,"text":1374},{"depth":80,"slug":539,"text":540},[],[],{"title":1353,"description":1353,"slug":3056},[],"v0.55/user-guide/store",{"id":3076,"data":3078,"body":1386,"filePath":3082,"digest":3083,"rendered":3084},{"title":750,"description":750,"editUrl":66,"head":3079,"template":68,"sidebar":3080,"pagefind":66,"draft":70},[],{"hidden":70,"attrs":3081},{},"src/content/docs/v0.55/user-guide/store.md","9044e954f112449d",{"html":1390,"metadata":3085},{"headings":3086,"localImagePaths":3092,"remoteImagePaths":3093,"frontmatter":3094,"imagePaths":3095},[3087,3088,3089,3090,3091],{"depth":80,"slug":1394,"text":1395},{"depth":80,"slug":1397,"text":1398},{"depth":80,"slug":1400,"text":1401},{"depth":80,"slug":1403,"text":1404},{"depth":131,"slug":1406,"text":1407},[],[],{"title":750,"description":750,"slug":3076},[]]