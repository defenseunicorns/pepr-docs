<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.119.0"><link rel=canonical type=text/html href=/v0.24.1/user-guide/><link rel=alternate type=application/rss+xml href=/v0.24.1/user-guide/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>User Guide |</title><meta name=description content="Pepr"><meta property="og:title" content="User Guide"><meta property="og:description" content="Pepr"><meta property="og:type" content="website"><meta property="og:url" content="/v0.24.1/user-guide/"><meta property="og:site_name" content="Pepr"><meta itemprop=name content="User Guide"><meta itemprop=description content="Pepr"><meta name=twitter:card content="summary"><meta name=twitter:title content="User Guide"><meta name=twitter:description content="Pepr"><link rel=preload href=/scss/main.min.1a8708b4e256174e571dec96ff4840506c5f1e7aedd86bc2c89d4c6e704da93e.css as=style><link href=/scss/main.min.1a8708b4e256174e571dec96ff4840506c5f1e7aedd86bc2c89d4c6e704da93e.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.3.min.js integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin=anonymous></script>
<script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar navbar-dark js-navbar-scroll"><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"><svg width="323" height="129" viewBox="0 0 323 129" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M56.8145 14.3466l3.9147-.5548L63.0574 13.3187 66.1681 13.6045 68.9079 13.6597 70.6953 14.3706l3.4242.7469 2.3259 1.1767L79.1971 17.0603l2.4024 1.9332L87.2323 13.5301l7.5351-3.1508L99.1606 9.74766 100.103 10.7995l-1.0453 1.6787-1.9884 7.8794-1.7803 5.0408-3.6634 3.5711-5.4509 3.2804L87.0217 33.2754 91.6256 32.4348 95.7077 33.0665 93.3005 37.478 90.0558 39.4713l4.0822 1.5778L91.2092 44.3032l-6.0707 1.9956L82.9132 54.7594l-2.9264 4.2171-4.8767 3.9913L67.5559 65.9409 65.3593 66.0466 60.1262 67.4106H56.9867L54.0555 66.8871 47.3699 67.401 41.3926 64.8914l-2.9289-3.4678-2.3521-1.5297L35.7407 59.0077 26.6359 61.109 17.1124 65.1004 13.1355 67.622l4.3957-5.5668L25.485 57.329l9.0018-2.1013 1.1007-3.2997-1.5194-4.0538-.323-5.2209L34.6711 41.3013l-2.9073-1.1984-1.0457-4.5173 3.5582-9.1377H33.02l-3.4528-3.1508-1.151-5.8814L27.684 8.59253l5.9653 6.40727 4.6804 5.9534L39.0572 20.1439 41.4692 19.349l2.3928-1.477 2.7972-1.2176 1.8353-1.2824 3.5008-.8813 4.8192-.1441z" fill="#d14667"/><path d="M49.6599 68.8827l-1.4644 7.5624L43.5414 80.9432 41.0792 85.5829 40.9739 90.518 42.6489 93.0396 44.532 94.1948 44.2114 91.1689 44.7426 89.6775 46.4439 89.6103 47.1498 88.4167 48.5089 87.7875 49.2531 88.0733 50.708 87.2616 52.316 87.1535 52.2777 84.8457 53.5339 77.6003 54.2661 67.3073 52.1724 66.5701l-2.826 1.4721L49.6599 68.8827z" fill="#d14667"/><path d="M67.5561 65.941v5.6724l1.5697 7.4567L69.4393 80.7512 68.3936 81.8007 63.0576 83.0615 61.2773 82.9558l-2.9312 1.3665L57.1951 85.2661 56.7764 87.3674 58.4514 87.2617 60.0211 88.1023 62.2201 87.8933l1.2538 2.1014L64.4167 88.4169H66.4052L67.8696 89.1541 68.2548 92.0624 72.8946 90.4125l4.3956-4.0946-3.5462 4.3708L74.359 93.1455v1.1887L73.4162 97.766 72.9975 100.811 74.2537 104.802 75.8234 108.374 76.2422 110.266 75.6152 111.104l-2.467 2.176L76.1393 113.94 77.9171 113.417l1.5697 1.575 1.4645-1.575L82.2075 113.52 83.9878 115.307 85.7657 113.731 88.259 114.368 88.472 112.293 90.2666 111.104 93.1978 111.841 102.013 113.724 109.696 112.468 117.672 109.8l3.991-3.842 1.673-5.25L123.128 96.1906 122.185 92.5139 119.883 90.3093 117.789 89.6777l-1.254 1.8924L116.638 94.4039 114.86 98.6065l-1.675 1.6815-5.755 1.575L103.138 101.231 98.5339 99.7617 94.2435 96.8198l-4.0822-5.7757-6.3841-6.5129-5.0226-9.0321L77.9746 73.4146 79.5921 72.454l3.8717-1.9957L88.9051 66.3613 91.8363 61.844l2.4072-6.7218L94.6623 51.9714 100.209 51.5511 106.593 52.3916l10.361 3.7824L123.128 59.6394l3.871 2.5192L129.662 65.1869 129.198 61.6351 128.674 60.7946 128.047 59.8484l-10.284-7.7618L105.346 47.8263 95.6026 46.7192 91.5228 47.2452 90.3719 49.5554 90.1613 51.5511 88.5797 57.8335l-2.4695 4.3083L83.045 64.9948 80.2191 67.3075 77.1849 68.0424 76.4527 67.9367 75.5099 66.0467 75.1965 63.8397 74.9931 63.357 71.8465 64.26 67.5561 65.941z" fill="#d14667"/><path d="M43.3955 66.7432l1.6606 3.0835L47.2528 72.6629 48.8225 73.6091 49.2412 71.1932 49.66 68.8829 49.033 67.6221l-1.663-.2209L43.3955 66.7432z" fill="#d14667"/><path d="M50.9162 94.9296V100.391L53.2181 105.854 55.3118 109.528 58.0277 112.324 57.719 113.837 57.0562 116.253 54.6849 117.302 48.7459 117.576 47.9873 114.675 47.0445 113.52 46.3123 113.099 42.5436 112.47 40.347 112.891 38.9854 112.156 37.6287 111.937l1.6702-1.357L40.0335 110.054l-2.0937-4.2L36.7888 98.2917l2.6154-4.9375L41.6032 91.5698l2.1966 2.5192L45.7452 95.1145 46.7287 96.5001 48.2529 94.5141 50.0787 94.3004 51.0215 93.2485 50.9162 94.9296z" fill="#d14667"/><path d="M122.785 86.7744S121.993 87.6029 120.581 86.5534C120.021 86.1356 119.44 85.7393 119.272 85.0693 119.112 84.4305 118.93 83.3618 119.102 82.101 119.102 82.101 120.296 77.3076 115.69 75.0814 115.559 75.0694 115.451 75.4056 115.52 75.5377 116.439 77.2908 115.812 79.5986 115.812 79.5986 114.774 81.0972 114.793 82.1611 114.987 82.8839 117.499 84.6562 116.867 87.1514 116.867 87.1514 116.384 84.613 115.171 84.0126 113.917 83.9622 113.917 83.9622 114.336 88.0304 113.573 91.4141 113.573 91.4141 114.886 92.6797 115.781 92.5837 115.783 92.5765 115.788 92.5717 115.791 92.5669 115.939 91.8416 116.152 91.1332 116.48 90.4463 116.695 89.9924 117.128 89.918 117.487 90.0621 117.533 90.0333 117.581 90.002 117.631 89.978 118.42 89.5842 119.11 90.0357 119.461 90.7177 119.76 90.6456 120.091 90.7249 120.313 91.0539 120.44 91.2436 120.574 91.4285 120.71 91.6159 120.916 91.3181 121.124 91.0059 121.208 90.9747 122.041 90.2854 123.213 88.7941 122.783 86.772L122.785 86.7744z" fill="#a5eeef"/><path d="M124.604 84.5266C124.573 84.3561 124.338 84.3105 124.25 84.4618 123.319 86.0732 121.945 85.6745 121.945 85.6745 121.098 85.516 120.777 84.7956 120.658 84.224 120.6 83.9503 120.605 83.6669 120.646 83.3907 121.416 78.0065 118.074 76.568 116.43 75.8115 116.408 75.8019 116.389 75.7971 116.37 75.7947 119.638 77.6078 118.787 82.041 118.787 82.041 118.638 83.1385 118.712 84.0127 118.842 84.6443 119.004 85.4488 119.433 86.1933 120.072 86.724 121.316 87.7615 122.266 87.2379 122.266 87.2379 122.443 89.3008 121.151 90.7153 119.899 90.9435 119.95 91.0155 120.569 91.4166 120.622 91.4886 124.585 89.6827 124.874 85.9579 124.604 84.5218V84.5266z" fill="#6aa4b4"/><path d="M124.759 81.4142C124.451 81.0492 123.855 81.2653 123.857 81.7384 123.862 82.7519 123.087 83.8134 122.917 84.0367 122.917 84.0367 122.383 84.7331 122.036 84.2528 121.893 84.0511 121.871 83.7893 121.95 83.5564 122.275 82.5742 122.534 78.4628 119.883 76.4143c0 0-1.694-1.32809999999999-4.994-2.1782L114.52 74.2697C114.226 74.2361 113.901 74.3273 114.092 74.5507 114.85 75.4344 116.212 76.5992 114.429 79.3273 114.429 79.3273 113.391 80.8979 113.798 82.6054 113.367 82.5766 112.587 82.5598 111.582 82.687 111.311 82.7207 111.249 83.0809 111.493 83.201 111.539 83.2226 111.589 83.2514 111.637 83.2754 111.608 83.2754 111.591 83.2754 111.591 83.2754 111.914 83.4315 112.18 83.6068 112.407 83.7917 112.843 84.164 113.231 84.6659 113.386 85.3455L113.417 85.504C113.604 86.6544 113.063 87.6918 113.063 87.6918 112.281 90.187 112.747 91.3926 113.451 92.2691 114.058 93.064 114.506 93.2778 115.324 93.6092 115.463 93.2489 115.619 92.8959 115.796 92.5645 115.82 92.4444 116.025 92.3532 116.052 92.2331 115.549 92.0458 114.975 91.808 114.673 91.5871 114.681 91.5775 114.685 91.5679 114.69 91.5607 113.508 90.5833 113.977 89.1087 114.252 88.5131 114.417 88.1553 114.597 87.7999 114.688 87.4156 115.054 85.8402 114.671 84.5122 113.917 83.9598 115.171 84.0103 116.384 84.6131 116.868 87.1491 116.868 87.1491 117.72 84.3273 115.018 82.7087 114.824 81.9858 114.903 80.9988 115.678 79.8148 115.678 79.8148 116.793 78.4147 116.205 76.0564 116.169 75.9099 116.236 75.7803 116.37 75.7923 116.389 75.7923 116.411 75.7995 116.43 75.8091 118.043 76.5511 121.294 77.9536 120.684 83.1001 120.641 83.4555 120.579 83.8086 120.646 84.1592 120.756 84.7379 121.067 85.5064 121.945 85.6721 121.945 85.6721 123.316 86.0708 124.247 84.4618 124.336 84.3105 124.57 84.3513 124.601 84.5242 124.884 86.0156 124.07 89.6923 120.555 91.3998 120.921 91.9137 121.314 92.4228 121.627 92.968 122.122 92.6894 122.101 92.2019 122.5 91.9209 124.319 90.6337 125.539 88.4363 126.063 86.1668 126.599 83.8494 125.625 82.5093 124.757 81.4118L124.759 81.4142z" fill="#000"/><path d="M126.19 84.769C126.147 81.1571 123.687 79.5793 123.687 79.5793 124.111 81.6879 123.513 83.2561 122.986 83.8444 122.744 84.1134 122.345 83.8877 122.374 83.5274 122.445 82.6317 122.409 82.0817 122.364 81.5342 122.161 79.0726 120.945 76.6903 118.736 75.4151 115.575 73.5899 112.58 74.0342 112.58 74.0342c3.613 1.2128 1.94 4.8055 1.94 4.8055C113.496 80.9242 113.649 82.5668 113.649 82.5668 112.036 82.4732 110.656 82.9342 110.656 82.9342 114.118 83.878 113.113 87.1681 113.113 87.1681 112.544 89.3511 112.481 90.0115 112.575 90.7752 112.62 91.1427 112.706 91.5029 112.864 91.8367 113.601 93.3953 115.293 93.9885 115.956 94.1998 116.068 93.8828 115.721 93.4289 115.86 93.1191L114.446 92.4875 113.573 91.4188 113.915 87.7613 113.831 85.0572 113.202 83.232 114.446 83.2777 114.357 81.7647 114.874 79.6922 115.805 77.0721 115.867 75.3574 117.253 75.857l2.429 1.4913L121.184 79.6778 121.639 82.5164 121.467 83.782 122 84.7498 123.577 84.392 125.089 82.305 125.436 85.5375 124.436 88.2128l-2.462 3.4534L121.165 92.2426C121.421 92.61 121.235 92.6796 121.424 93.0807 122.862 92.2714 123.915 91.2867 124.618 90.2493 125.733 88.5994 126.231 87.3242 126.2 84.7714L126.19 84.769z" fill="#000"/><path d="M82.9036 82.1895C83.5903 83.311 84.2795 84.4181 85.0643 85.4676L85.2677 84.9897 87.1652 81.0704 82.6308 79.9873 81.3889 80.0641C81.8866 80.787 82.4657 81.4738 82.9036 82.1895z" fill="#a5eeef"/><path d="M83.4133 82.6988C83.7985 83.316 84.2723 84.0028 84.6863 84.5984L85.4759 83.4481 86.7226 80.9985S85.0643 82.3098 83.4109 82.7012L83.4133 82.6988z" fill="#6aa4b4"/><path d="M87.8209 80.3309C84.9328 79.4544 82.2384 79.2046 80.8267 79.1326 80.9104 79.2983 81.0037 79.4592 81.1018 79.6201 81.3746 80.062 81.4225 80.1988 81.7383 80.6215 82.973 80.7224 85.1721 81.013 86.3422 81.2915 85.9258 81.9544 84.8921 83.2464 84.1407 84.1469 84.2532 84.3174 84.3729 84.4808 84.4877 84.6489L84.4829 84.6537C84.5954 84.817 84.7102 84.9779 84.8251 85.1388 84.8347 85.1532 84.8442 85.1676 84.8538 85.1796 84.8777 85.1508 84.9041 85.1196 84.928 85.0907 85.0333 85.0619 85.0572 85.1364 85.2199 85.0475 85.9043 84.1614 87.4166 82.0504 88.0865 81.0922 88.2804 80.816 88.1392 80.4294 87.8185 80.3309H87.8209z" fill="#000"/><path d="M86.8736 87.1275C87.7972 88.0617 88.7208 88.9815 89.7234 89.822L89.812 89.3105 90.7667 85.0598 86.1055 85.043 84.9138 85.4032C85.5623 85.994 86.2825 86.5295 86.8736 87.1251V87.1275z" fill="#a5eeef"/><path d="M87.2876 87.6919C87.8021 88.2059 88.5127 88.7558 89.0511 89.2409L89.5584 87.9393 90.2164 85.2688S88.8094 86.9331 87.29 87.6943L87.2876 87.6919z" fill="#6aa4b4"/><path d="M91.2357 84.1928C88.2255 84.0031 85.5455 84.3729 84.1528 84.6275 84.2725 84.7692 84.4017 84.906 84.5333 85.0405 84.8994 85.408 84.9784 85.5304 85.3804 85.8691 86.6055 85.6841 88.8141 85.4632 90.0153 85.468 89.7593 86.2077 89.0486 87.7038 88.5222 88.7509 88.6705 88.8902 88.8237 89.0247 88.9744 89.1615V89.1688C89.118 89.3008 89.2663 89.4329 89.4147 89.5626 89.4267 89.5746 89.4386 89.5842 89.453 89.5962 89.4697 89.5626 89.4889 89.5266 89.5056 89.493 89.6013 89.4401 89.642 89.5098 89.7808 89.3849 90.245 88.3642 91.238 85.9627 91.6735 84.8772 91.798 84.5626 91.5754 84.2192 91.238 84.1976L91.2357 84.1928z" fill="#000"/><path d="M91.013 91.5509C91.8074 92.598 92.6042 93.6331 93.4872 94.5961L93.6427 94.1014l1.5003-4.0898L90.5225 89.3848 89.2949 89.5865C89.862 90.2565 90.5057 90.8833 91.013 91.5509z" fill="#a5eeef"/><path d="M91.2092 92.1056C91.6519 92.6819 92.4296 93.376 92.901 93.9283L93.5734 92.7035 94.5712 90.1411S92.9297 91.4692 91.2092 92.1056z" fill="#6aa4b4"/><path d="M95.722 89.2118C92.7621 88.6282 90.0558 88.6474 88.6416 88.7147 88.7421 88.8708 88.8498 89.0221 88.9646 89.1734 89.2781 89.5864 89.3403 89.7185 89.6968 90.1052 90.9363 90.0836 93.1521 90.1532 94.3437 90.3141c-.3493.7012-1.2514 2.0917-1.9071 3.0595C92.5659 93.5321 92.6999 93.6834 92.8315 93.8395L92.8267 93.8443C92.9535 93.9956 93.0851 94.1445 93.2143 94.2934 93.2263 94.3054 93.2359 94.3198 93.2478 94.3318 93.2694 94.3006 93.2909 94.267 93.3124 94.2358 93.4153 94.1974 93.444 94.2694 93.5996 94.1637 94.193 93.2127 95.4899 90.9625 96.0618 89.9419 96.2269 89.6465 96.0498 89.2766 95.7196 89.2118H95.722z" fill="#000"/><path d="M94.9636 96.3347C95.9686 97.0912 96.9712 97.8357 98.036 98.4937L98.0504 97.9966 98.3686 93.8347l-4.4196.634L92.8699 94.9754C93.5662 95.4437 94.3223 95.852 94.9636 96.3347z" fill="#a5eeef"/><path d="M95.4158 96.7596C95.9757 97.1751 96.7414 97.6458 97.3205 98.03L97.622 96.726 97.8756 94.1035S96.8371 95.7221 95.4182 96.7596H95.4158z" fill="#6aa4b4"/><path d="M98.7564 93.071C95.8754 93.3087 93.3892 94.034 92.1042 94.4687 92.2382 94.5863 92.377 94.6992 92.5206 94.8073 92.9178 95.1051 93.0087 95.2107 93.4371 95.4749 94.5737 95.1291 96.6339 94.6128 97.7753 94.4495 97.6341 95.1867 97.1675 96.7045 96.8134 97.7684 96.9737 97.8812 97.1364 97.9845 97.2991 98.0926V98.0998C97.4546 98.2054 97.6126 98.3087 97.7729 98.412 97.7873 98.4216 97.7992 98.4312 97.8136 98.4384 97.8255 98.4048 97.8375 98.3687 97.8495 98.3327 97.9332 98.2703 97.9811 98.3279 98.0935 98.191 98.3926 97.1584 99.0028 94.7449 99.2636 93.6546 99.3378 93.34 99.0794 93.0446 98.7587 93.071H98.7564z" fill="#000"/><path d="M99.7565 99.7472C100.802 100.11 101.841 100.46 102.901 100.722L102.748 100.307 101.628 96.7837l-3.2928 1.6859L97.6484 99.1732C98.3543 99.3773 99.0889 99.5166 99.7565 99.7472z" fill="#a5eeef"/><path d="M99.96 100.023C100.628 100.22 101.647 100.717 102.322 100.881L102.157 99.5526 101.496 97.0022S100.939 98.5608 99.9624 100.023H99.96z" fill="#6aa4b4"/><path d="M101.767 100.811C101.81 100.809 101.855 100.811 101.898 100.828 101.936 100.845 101.975 100.854 102.013 100.869 102.111 100.893 102.212 100.917 102.31 100.941V100.948C102.338 100.955 102.358 100.974 102.374 100.996 102.544 101.049 102.717 101.092 102.889 101.128 102.898 101.104 102.906 101.085 102.908 101.085 102.908 101.09 102.908 101.109 102.908 101.131 102.985 101.147 103.061 101.164 103.138 101.179 103.037 99.9105 102.752 97.12 102.633 96.0921 102.594 95.7703 102.25 95.583 101.958 95.7199 100.115 96.5748 98.541 97.5883 97.3972 98.412 97.6963 98.6185 98.005 98.8731 98.1079 99.2189 98.1318 99.2982 98.1127 99.3678 98.0744 99.4206 98.1294 99.4398 98.1821 99.4591 98.2371 99.4783 99.2206 98.765 100.635 97.8188 101.506 97.3505 101.628 98.0902 101.707 99.6776 101.74 100.799 101.747 100.799 101.757 100.804 101.764 100.804L101.767 100.811z" fill="#000"/><path d="M105.585 101.33C106.61 101.164 107.624 100.994 108.622 100.737L108.325 100.451 105.963 97.939 103.879 100.883 103.585 101.798C104.26 101.652 104.932 101.436 105.585 101.33z" fill="#a5eeef"/><path d="M106.375 101.714C107.059 101.587 107.911 101.587 108.586 101.426L107.842 100.314 106.105 98.3376S106.588 99.9659 106.373 101.714H106.375z" fill="#6aa4b4"/><path d="M106.476 96.94C106.299 96.6711 105.906 96.659 105.705 96.9136 104.329 98.6595 103.535 99.8963 102.987 100.939 103.48 101.023 103.968 101.119 104.449 101.246 104.966 100.29 105.585 99.2191 106.035 98.5731 106.476 99.1782 107.26 100.559 107.796 101.544 107.988 101.503 108.175 101.455 108.366 101.409V101.414C108.553 101.371 108.665 101.825 108.849 101.777L109.038 101.808C109.053 101.803 108.952 101.27 108.969 101.265 108.952 101.234 109.189 101.736 109.172 101.702 109.184 101.597 109.385 101.671 109.364 101.493 108.816 100.569 107.093 97.8718 106.478 96.9352L106.476 96.94z" fill="#000"/><path d="M111.572 100.225C112.549 99.6176 113.515 99.0052 114.427 98.3111L114.011 98.131 110.596 96.45 109.651 100.468 109.718 101.568C110.347 101.126 110.945 100.612 111.57 100.225H111.572z" fill="#a5eeef"/><path d="M112.199 99.7327C112.702 99.3365 113.393 98.969 113.872 98.5488L112.795 97.9652 110.543 97.1055S111.63 98.2198 112.199 99.7303V99.7327z" fill="#6aa4b4"/><path d="M114.64 98.2825C113.802 97.7662 111.254 96.3157 110.357 95.821 110.098 95.6769 109.775 95.8378 109.72 96.1284 109.292 98.4266 109.27 100.547 109.318 101.873 109.723 101.722 110.129 101.58 110.539 101.448 110.543 101.443 110.546 101.441 110.551 101.436 110.522 100.343 110.565 98.3882 110.696 97.3339 111.311 97.6365 112.537 98.4194 113.391 98.991 113.527 98.8757 113.661 98.7556 113.795 98.638H113.8C113.932 98.5275 114.216 98.8469 114.343 98.7316L114.511 98.6764C114.523 98.6668 114.212 98.2753 114.224 98.2657 114.197 98.2465 114.602 98.5539 114.575 98.5347 114.539 98.4434 114.736 98.417 114.642 98.2825H114.64z" fill="#000"/><path d="M76.7349 62.1707C76.6583 62.2571 76.5817 62.3412 76.5027 62.4228 76.4836 62.4708 76.4621 62.5213 76.4334 62.5693 76.2898 62.8119 76.1271 63.0496 75.9404 63.2609" fill="#000"/><path d="M76.7612 66.9905C76.8402 67.1514 76.8139 67.454 76.8952 67.6125L76.8378 68.0736C76.9192 68.2273 77.0771 67.9199 77.1608 68.0736 77.1537 68.0616 77.168 68.0856 77.1608 68.0736 77.1848 68.052 77.3834 67.7902 77.4073 67.7686 77.503 67.7542 77.4839 67.9511 77.637 67.891" fill="#000"/><path d="M48.6214 117.848C48.6214 117.665 48.1644 115.324 48.1644 115.324L47.7073 113.902 46.7478 113.398 45.5131 113.674 44.9197 113.443 43.7759 112.708 42.5436 112.471S42.0387 112.571 41.6726 112.802C41.3065 113.032 40.9404 113.215 40.9404 113.215l-1.3257-.872S39.8899 112.298 38.5188 112.113 37.8033 111.51 36.4011 111.949C34.9989 112.389 34.8625 112.067 34.451 112.617 34.0394 113.167 33.2617 112.708 33.2617 114.039 33.2617 115.369 32.9865 115.873 33.3072 116.517 33.6278 117.158 35.0899 117.756 35.0899 117.756L38.9758 118.306s2.9265.137 3.7951.137S44.5918 118.686 46.0156 118.076C47.4393 117.466 48.6214 117.845 48.6214 117.845V117.848z" fill="#fff"/><path d="M70.8389 119.041S71.0686 116.38 71.3414 116.013C71.6141 115.645 72.4851 114.361 72.4851 114.361L73.4447 113.671S74.2223 113.395 74.6339 113.441C75.0455 113.486 75.0455 113.395 75.6844 113.717 76.3233 114.039 76.3233 113.993 76.5075 114.039 76.6918 114.084 77.9193 113.414 77.9193 113.414S77.7422 113.076 78.3835 113.626C79.0224 114.176 79.2066 114.361 79.5727 114.543 79.9389 114.726 80.0298 114.313 80.0298 114.313L80.9558 113.414S80.5323 113.213 81.5827 113.486C82.6332 113.763 82.3149 113.486 82.9538 113.991 83.5927 114.495 83.8679 114.495 84.0498 114.632 84.2316 114.769 84.5523 114.541 84.5523 114.541L85.9688 113.76S86.4713 113.578 86.792 113.715C87.1126 113.851 87.0671 113.393 87.5696 113.991 88.0721 114.586 88.1176 114.313 88.4382 115.689 88.7589 117.065 88.8953 117.936 88.8953 117.936S89.1704 119.036 87.5696 119.449C85.9688 119.862 85.4663 119.817 84.5977 119.999 83.7291 120.182 85.5572 120.136 82.1283 120.412 78.6994 120.689 79.2952 120.734 77.0555 120.595 74.7679 120.453 73.8395 120.273 73.5811 120.273 73.3059 120.273 71.662 119.769 71.662 119.769L70.8389 119.034V119.041z" fill="#fff"/><path d="M55.8 89.1732 56.2116 91.971 57.5373 93.6689 58.1307 93.8514 58.6332 92.934 60.0952 93.8057 60.6886 94.4013 61.44 94.6079 61.83 93.4383 62.5527 92.4825S62.378 91.3754 62.9259 92.6122C63.4739 93.8514 63.2466 94.2188 63.7945 94.5382 64.3425 94.86 63.8855 94.9513 64.7541 95.1338 65.6227 95.3163 66.2496 95.6381 66.2496 95.6381 66.5367 94.9056 67.1397 93.5392 67.1397 93.5392L68.0012 92.1991S68.0012 90.8687 67.9557 90.6862C67.9102 90.5037 67.4077 89.447 67.4077 89.447L66.4027 88.4143S65.8524 88.1165 65.1226 88.5272C64.3904 88.9403 64.0721 89.0315 63.8879 89.1228 63.706 89.214 63.3854 89.399 63.249 89.2597 63.1126 89.1204 62.3349 88.2054 62.3349 88.2054S61.9688 87.9748 61.5118 87.9748C61.0547 87.9748 60.4158 88.0205 60.3225 88.1574 60.2292 88.2943 59.2721 87.7443 59.2721 87.7443l-1.005-.4131s-.6389-.2761-1.0959.0C56.7141 87.6074 55.9819 88.2486 55.9819 88.2486L55.8 89.166V89.1732z" fill="#fff"/><path d="M44.5535 93.6235 46.8554 96.27 48.437 93.6715 49.8991 94.5433 51.2702 91.6518l1.2801 1.4217 1.096-1.7963L53.6917 89.1903 52.8231 87.9367 51.6793 87.0193 49.8967 87.4323 49.8057 87.8454 49.5306 88.3954 48.7529 88.3041 47.3363 88.1216S47.0612 88.076 46.7884 88.489C46.5156 88.9021 46.2859 89.452 46.2859 89.452 45.647 89.5889 45.5082 89.4064 45.0512 89.5889 44.5941 89.7714 43.771 90.4607 43.771 90.4607L43.9529 91.6999S44.2735 92.4804 44.319 92.7085C44.3644 92.9366 44.5487 93.6259 44.5487 93.6259L44.5535 93.6235z" fill="#fff"/><path d="M76.242 110.266 73.6195 102.699 73.4161 97.766 75.0528 93.7122l-1.1653-3.3261L67.6278 92.9917 66.4577 96.0489 64.218 94.5215l-1.4549-2.5192L61.4423 94.6104l-1.6846-1.8492L58.4943 93.6594 56.6063 92.0047 56.2498 89.7569 56.7858 87.8717 57.6807 84.9947l3.5965-2.0389L65.9193 82.7492 69.5899 81.0417 67.0822 66.0322H64.3065l-5.9988 1.9789L54.4767 68.0663 54.101 69.7186l-1.2538 11.681L52.0408 86.8823 54.0101 89.0388 53.9216 91.8246l-1.0744 1.3472L51.4306 92.3433 50.8755 100.093l3.5821 8.895 5.9103 4.943 5.3719 1.438h5.9104L73.7104 112.314 75.6151 111.104 76.242 110.266z" fill="#efca81"/><path d="M77.917 72.9536 85.8876 69.4473l5.2833-6.5585L93.4083 57.4974 94.7506 51.2966 102.183 51.5656l10.208 2.4255 8.059 3.5951 4.381 3.3742-4.47 1.5682v2.3366L120.091 68.6404 114.719 69.5386l-3.312 1.7963L108.452 75.8282 103.884 75.0189 98.3327 75.1101 94.6621 78.1649 92.7215 80.881l-4.2162-4.6542-8.0806-1.2079L78.7545 75.4992 77.917 72.9536z" fill="#a5eeef"/><path d="M89.508 77.7013S94.9445 68.2897 95.3753 63.6091L94.9589 70.8161l-1.127 5.2834L93.5495 79.9683 93.3605 80.5351 92.1377 80.6287 89.5056 77.7037 89.508 77.7013z" fill="#6aa4b4"/><path d="M96.5547 56.2798S97.8732 61.9474 101.257 67.7975C101.257 67.7975 103.231 71.0996 103.231 74.8724L108.119 76.4766 107.179 73.0808 105.58 69.212l-3.383-4.3396L98.6245 60.0622l-2.0698-3.7824z" fill="#6aa4b4"/><path d="M35.4537 52.3219S35.2958 56.3109 39.1842 56.5942l1.0911-2.0989-2.8499-1.3352-2.0267-1.2705L35.4537 52.3219z" fill="#871a41"/><path d="M62.9642 60.6313S64.096 65.3263 59.028 67.1515L56.0632 66.8609l1.4573-1.3977L59.4204 64.5098l1.8353-1.0807S61.8252 62.9848 61.952 62.7927C62.0788 62.6006 62.9642 60.6313 62.9642 60.6313z" fill="#871a41"/><path d="M105.861 58.7412S112.345 62.4203 115.166 69.0245l4.042.2834L119.115 67.7998l-1.786-2.1686L110.845 59.8771l-4.982-1.1311L105.861 58.7412z" fill="#6aa4b4"/><path d="M50.27 69.685S52.5504 69.7474 54.132 69.368L54.2589 67.4612 50.8036 67.4804 49.7627 67.5885 50.27 69.685z" fill="#871a41"/><path d="M67.2522 68.0953S72.5069 67.7134 75.6104 65.8066L75.2299 63.0112 67.2522 65.235v2.8603z" fill="#871a41"/><path d="M42.8834 47.3508S42.1416 39.9781 37.0879 39.9109l3.4744 3.6887.9069 5.8477v1.8252L41.7228 51.3854 42.479 50.5953 42.8834 47.3484V47.3508z" fill="#000"/><path d="M81.5995 34.8076s.9739 5.7853-4.477 5.6532L76.7229 38.5924S80.2236 39.0271 81.5971 34.8076H81.5995z" fill="#871a41"/><path d="M29.0695 19.3493s2.2924 4.7334 6.8747 4.3276L34.0562 26.9237l-2.2923-1.5562-1.3472-1.4889L29.7419 22.1879 29.0671 19.3469 29.0695 19.3493z" fill="#871a41"/><path d="M84.4997 35.9293S90.0344 33.864 93.8533 35.987l1.1223-1.8252L95.5044 33.1363S92.6162 32.6729 92.4152 32.6729C92.2142 32.6729 88.8427 32.8746 88.8427 32.8746L87.6965 33.0091 86.146 33.3477 84.4973 35.9269 84.4997 35.9293z" fill="#871a41"/><path d="M84.4399 40.3504S89.9315 40.2328 92.0994 43.2899l1.7325-2.2286L91.2045 39.7092H90.1947l-1.8879-.3386L86.7562 39.4378 84.4399 40.3504z" fill="#871a41"/><path d="M69.1162 78.8612S71.1238 78.525 72.3753 76.6494c0 0 .306200000000004 2.9395-3.0748 4.5197L69.1162 78.8612z" fill="#871a41"/><path d="M47.5327 95.6431s0 .0936999999999983.0.2714C47.5447 97.7853 47.8964 108.823 54.6107 113.025 54.6107 113.025 55.5535 116.068 53.1966 116.611L56.6136 116.587 57.6449 114.987 57.7214 113.837 58.3173 113.227 58.7217 112.348l-2.022-1.623-4.7163-5.411L51.1746 99.1589l-.134-5.072-1.6774.7517L48.7076 93.9692 47.8988 94.8074" fill="#871a41"/><path d="M115.451 109.36C110.149 111.512 105.507 111.447 101.805 110.701 98.4118 110.014 96.4784 107.105 96.5525 103.763 96.5717 102.934 96.5143 98.6737 95.9232 98.0421L93.5423 96.0945 93.5543 101.272 93.0375 106.287 89.9268 111.126 90.2235 111.498 92.7407 111.997 92.9417 112.403S93.0111 112.341 93.1308 112.216L93.9539 112.675S96.6507 113.352 99.0746 113.688C101.501 114.027 100.963 113.755 101.635 113.755 102.307 113.755 105.475 113.554 105.475 113.554L108.912 112.675 111.675 111.796 114.348 111.114 117.198 108.662 115.451 109.358V109.36z" fill="#871a41"/><path d="M87.5625 26.0444S92.1161 26.4046 95.6551 22.3244L96.3921 21.5799l1.0098-5.4778L93.8294 20.2951 88.9097 23.542 88.3713 25.2999 87.5625 26.0444z" fill="#871a41"/><path d="M45.056 89.5863S41.5768 85.7223 45.1158 80.4966L41.4548 83.3808 40.9954 89.0772 41.9381 92.12l1.3472 1.083L44.3621 93.6617S44.8789 94.2261 44.5511 93.6209C44.2233 93.0157 44.0271 92.1896 44.0271 92.1896L43.8261 90.9048 44.1802 90.4893 45.056 89.5839V89.5863z" fill="#871a41"/><path d="M70.121 90.9531S70.6953 86.921 65.5459 87.7207L67.4482 88.799 68.0273 90.0045S68.0727 91.0972 68.2043 91.3422L68.3383 91.5871l1.7851-.634H70.121z" fill="#871a41"/><path d="M46.0442 82.8909S49.1812 80.4341 52.2799 82.1728L51.9808 85.1579 50.4303 83.669S48.5375 82.8212 46.0442 82.8885V82.8909z" fill="#871a41"/><path d="M43.3093 65.9842l2.4024 4.8751L48.8224 73.6091l-1.2586 3.499L44.702 79.3031l-6.8962-3.0403-5.4677.9846-3.9553-4.5317-3.0294-1.1815L21.5464 72.2426 21.8216 67.9895l-1.3831-3.3357L19.1296 64.7811 23.1664 62.5861l7.066-2.5336 5.5084-1.0447 4.0821 4.0202L41.3927 64.8915 43.3093 65.9842z" fill="#a5eeef"/><path d="M46.9273 76.4743S43.5701 73.4796 42.4167 68.9287L43.0748 73.0785 43.7328 77.8888 44.1085 79.3969 45.6112 78.7365 46.9273 76.4719V76.4743z" fill="#6aa4b4"/><path d="M35.3675 76.4741S34.7358 71.9184 37.4349 67.6077l-3.2901 4.1498L32.5464 75.343 31.9194 78.28 35.3675 76.4741z" fill="#6aa4b4"/><path d="M25.7793 71.7573S25.3103 67.3241 32.8286 63.8323L26.6239 65.9072 20.7974 71.3779 22.3958 71.9446 25.7793 71.7549V71.7573z" fill="#6aa4b4"/><path d="M53.9551 106.198S59.4347 113.352 68.2954 111.755C70.6667 111.328 72.1431 108.924 71.4492 106.606L70.4586 103.294S68.4246 96.9352 74.2919 93.4026l-1.1725 5.3386L73.9808 102.98 74.3397 106.265 75.8712 109.181 76.2516 110.516 74.6101 111.851l-1.9812 1.854L72.1072 114.755S71.0113 114.911 70.6213 114.99C70.2312 115.069 67.0224 115.461 67.0224 115.461S65.9265 115.696 64.364 115.225C62.7991 114.755 62.6435 114.834 61.8611 114.44 61.0786 114.048 60.3966 113.792 59.2146 113.057 58.0325 112.322 55.9172 111.063 55.9172 111.063L53.2588 107.139 53.9623 106.198H53.9551z" fill="#be9853"/><path d="M54.1009 69.7187s6.3482 1.4674 12.6845-1.4385L67.8574 65.3816 63.8135 65.8475 57.2427 67.5742 54.266 67.3076 54.0339 68.6741 54.0985 69.7187H54.1009z" fill="#be9853"/><path d="M33.7451 42.6533s-1.9574 12.1541 6.4535 12.5912l1.1605-1.8924L41.7228 51.3876 41.2873 46.5846 40.5623 43.5995l-1.4501-1.8204L37.4444 41.27 35.9225 41.5606l-2.1751 1.0927H33.7451z" fill="#000"/><path d="M39.2988 47.2645C40.0243 47.2645 40.6125 46.5979 40.6125 45.7756 40.6125 44.9532 40.0243 44.2866 39.2988 44.2866S37.9851 44.9532 37.9851 45.7756C37.9851 46.5979 38.5733 47.2645 39.2988 47.2645z" fill="#fff"/><path d="M49.4062 62.2379S49.32 60.5736 51.1529 59.3465c0 0 1.3974-.612400000000001 1.7468.3506.0.0.349399999999996 1.0519-1.8329 1.5778.0.0-1.2228.1753-1.6583.963000000000001H49.4062z" fill="#000"/><path d="M45.8144 62.3387S45.891 60.9002 44.3069 59.8411C44.3069 59.8411 43.1009 59.3104 42.7994 60.1437 42.7994 60.1437 42.4979 61.0515 44.3835 61.5054 44.3835 61.5054 45.4387 61.6567 45.8168 62.3387H45.8144z" fill="#000"/><path d="M81.5996 34.8076c-2.4837 3.6743-5.8959 2.2334-5.8959 2.2334 4.9795-1.5754 3.4768-6.2344 3.4768-6.2344C78.6756 33.7077 76.7613 34.8724 74.9882 35.1822 74.5168 35.2639 74.0383 35.2615 73.5669 35.1894 69.0731 34.5122 66.3524 36.9209 66.3524 36.9209c-5.8744 3.9697-5.0345 16.1815-5.0345 16.1815S64.8138 53.9381 69.2741 53.2417C72.4422 52.747 75.4046 50.9986 76.8139 48.1096c1.0457-2.1469 1.3233-4.8799.6006-9.0345C81.0756 38.6164 81.5972 34.8124 81.5972 34.8124L81.5996 34.8076z" fill="#000"/><path d="M67.1898 44.1976c.927700000000002.0 1.6798-.7913 1.6798-1.7675C68.8696 41.4539 68.1175 40.6626 67.1898 40.6626S65.51 41.4539 65.51 42.4301C65.51 43.4063 66.2621 44.1976 67.1898 44.1976z" fill="#fff"/><path d="M74.1817 37.2262C73.6433 37.0005 72.6886 36.7459 71.3343 36.914 71.3343 36.914 72.4015 37.111 73.3036 37.6177 73.617 37.793 73.8611 38.0716 73.9999 38.4054 74.3971 39.3684 75.1891 41.7315 74.8685 44.6157 74.5287 47.6921 72.8298 49.4284 69.9392 50.8381 69.2477 51.1743 68.4413 51.3976 67.5583 51.4721 67.5583 51.4721 69.1161 51.6522 71.5544 50.694 73.9999 49.7334 75.6174 47.4519 75.9189 44.8967L75.9429 44.8871S76.3664 41.2656 74.9235 37.9683C74.7776 37.6369 74.5167 37.3655 74.1841 37.2238L74.1817 37.2262z" fill="#fff"/><path d="M62.8779 60.259C62.4592 61.5222 61.5403 62.2786 61.5403 62.2786S58.5493 65.367 52.2848 66.1979C50.0594 66.4933 47.7934 66.3997 45.6279 65.8113 43.9003 65.343 41.974 64.5073 40.8422 63.0231c0 0-3.2423-3.6359.394800000000004-7.7785C41.8328 54.5673 42.3306 53.8061 42.644 52.9583 43.1465 51.6015 43.5174 49.5362 42.7972 46.9161 42.7972 46.9161 42.8642 49.015 42.1224 50.4343c0 0 .368500000000005-3.6767-1.407-7.6176C40.3325 41.969 39.5309 41.0252 38.7557 40.5136 38.0043 40.0213 36.9682 39.6419 35.7239 39.9589 35.1903 40.0958 34.6304 40.1726 34.0968 40.0453c-1.4812-.3506-2.869-2.3006-2.0674-6.1527.0.0 2.7039-13.9528 19.3653-17.6439l2.1009-2.404S33.2808 16.6569 30.0577 34.0631c0 0-1.2611 6.8012 3.5462 7.6129C32.7783 42.3508 29.4714 43.4339 28.3037 40.1438c0 0 .179500000000001 5.2305 5.5394 3.5134C33.8431 43.6572 34.6711 43.5732 36.4801 42.3628h1.931l1.5697 1.1503L40.5838 44.7235l.3613 2.1206L41.0647 48.662 41.0049 50.4175 41.2466 52.4156 41.0504 52.8214C40.6125 53.7268 40.0598 54.5698 39.4376 55.3575 38.6264 56.3805 37.5616 58.3353 38.1862 61.0659 38.7198 63.3929 40.3469 65.331 42.5076 66.3276 44.0725 67.0505 46.3338 67.6797 49.4541 67.6797c0 0 8.0591.225700000000003 12.3064-3.9674C62.1505 63.3281 62.4711 62.8766 62.6889 62.3747 63.2392 61.1019 62.8803 60.2566 62.8803 60.2566L62.8779 60.259z" fill="#000"/><path d="M38.9734 21.1022C38.8059 20.7516 34.7931 12.4567 27.9759 8.13158 27.6912 7.95146 27.3275 7.95627 27.0475 8.14599 26.7675 8.33571 26.6264 8.67192 26.6862 9.00573 26.6934 9.05136 27.5835 12.7065 27.5045 16.4889 27.4806 17.6824 27.5572 18.8736 27.7941 20.0431 28.3396 22.7424 29.749 26.7626 33.3598 27.716 33.4364 27.7376 33.5153 27.7472 33.5919 27.7472 34.0083 27.7472 34.3863 27.435 34.4366 26.9787 34.4821 26.5585 34.1877 26.179 33.7833 26.0613 31.3929 25.3673 30.2324 22.8241 29.6724 20.6843 29.3255 19.3587 29.1795 17.9922 29.1699 16.621 29.158 14.9495 28.9833 13.1243 28.7991 11.6474 28.756 11.3088 29.1508 11.0927 29.4116 11.3136c5.0011 4.2747 7.9969 10.4538 8.0304 10.5259C37.6454 22.2645 38.1527 22.4423 38.5762 22.2405 38.9997 22.0364 39.1768 21.5273 38.9758 21.1022H38.9734z" fill="#000"/><path d="M28.4926 15.3625 29.1674 16.6209S29.0214 21.1502 33.6253 23.4341c0 0-3.8094.0-4.8671-4.2483L28.1768 15.4682 28.495 15.3625H28.4926z" fill="#000"/><path d="M40.4499 54.092s-3.3261 2.7642-2.266 6.9765C38.1839 61.0685 38.9592 67.7807 49.5642 68.2995 50.5142 68.3451 51.4689 68.3211 52.4165 68.2394L54.4767 68.0641l-1.2012-1.5466L47.492 66.9642 43.3093 65.982l-2.0458-1.6066-1.6894-2.1422L39.2176 59.2865 39.7512 56.6088 40.201 55.2448 40.4523 54.0944 40.4499 54.092z" fill="#000"/><path d="M39.2463 61.1789s-4.7809-2.159-3.1203-8.8256L35.176 49.8533s-4.5081 9.6445 4.8647 13.9288L39.2463 61.1789z" fill="#000"/><path d="M80.2691 21.208C79.8216 21.818 79.6326 22.1926 79.6326 22.1926L80.2691 21.208z" fill="#000"/><path d="M84.3633 44.9326C82.7649 63.9334 65.3737 64.6467 65.3737 64.6467c-4.9819 2.6777-9.4302 1.6066-9.4302 1.6066L51.5837 66.7 51.5718 67.3724C59.0159 69.6515 65.5532 66.5967 65.5532 66.5967c17.5682-1.7771 20.5186-16.1286 20.6622-21.1742C85.5549 45.5426 85.0357 44.9038 84.3633 44.9326z" fill="#000"/><path d="M97.5431 8.93371C97.4902 8.93606 97.5937 8.92192 97.5431 8.93371v0z" fill="#000"/><path d="M98.3232 9.14732C97.5431 9.15692 96.7511 9.20015 95.9997 9.40428 80.7118 13.5517 79.6375 22.1924 79.6375 22.1924 80.4654 20.9724 82.3677 19.1401 83.3535 18.1578 85.3563 16.2966 89.9339 12.788 97.4665 10.9028 98.4476 10.6579 98.7467 11.4552 98.4763 12.118 98.0001 13.2827 96.9162 15.4849 96.6865 17.423c0 0-.732199999999992 8.7319-11.6269 13.7895C85.0596 31.2125 84.9352 33.494 84.7486 35.4272 85.2535 35.3407 85.9833 33.9695 86.4858 33.871 86.7729 33.7965 86.3829 33.6861 86.6724 33.6212L86.2537 32.8335S94.5185 31.0372 98.1605 19.2361C98.3303 18.6814 98.4763 18.1218 98.6151 17.5574 98.8568 16.5776 99.4861 14.289 100.613 11.7938 101.455 9.92781 99.9982 9.1209 98.3208 9.14251L98.3232 9.14732z" fill="#000"/><path d="M99.0433 10.9775s-1.986 3.9889-4.331 6.9092C94.595 18.0332 94.4778 18.1821 94.3629 18.331 93.6403 19.2844 89.8333 23.8521 83.3511 23.708c0 0 7.0732 2.1205 12.4404-4.8151.0.0 1.7898-2.2838 2.7637-4.2435L99.1247 13.098 99.5315 11.2201 99.0433 10.9751V10.9775z" fill="#000"/><path d="M88.3929 23.218S86.9285 27.2982 83.1885 27.3799c0 0 4.79759999999999 1.5513 6.8292-4.2435L90.5058 22.4832l-2.1129.7348z" fill="#000"/><path d="M51.3899 16.251s21.2772-4.8079 29.1975 4.0273L81.8077 18.7269S77.1967 12.495 60.2434 13.0593L53.4932 13.8446l-2.1009 2.404L51.3899 16.251z" fill="#000"/><path d="M97.2608 32.7232C90.2043 30.1944 85.9067 32.9826 85.9067 32.9826L85.2606 32.8409 84.5021 35.9293C88.7829 32.3174 94.6813 33.8111 94.6813 33.8111 93.2767 36.5152 90.8838 37.8625 89.6228 38.4653 89.1801 38.6766 88.7087 38.8207 88.2254 38.912 86.0048 39.3322 84.4399 40.3529 84.4399 40.3529 89.7472 39.0416 92.9465 41.5032 92.9465 41.5032c-3.4122 3.7368-8.5808 3.4318-8.5808 3.4318l.7179 1.9308C92.4129 46.3471 95.715 41.0133 95.715 41.0133 94.3726 40.0815 93.1953 39.5484 91.75 39.0825 95.4733 37.2597 97.2631 32.728 97.2631 32.728L97.2608 32.7232z" fill="#000"/><path d="M67.4913 88.2077C66.9218 87.8211 66.2279 87.6722 65.5435 87.7226 63.1626 87.8979 62.8157 90.4412 62.8157 90.4412 62.696 91.5387 62.6721 92.4536 62.9616 93.0756 64.0958 95.9671 66.7615 96.1832 66.7615 96.1832 66.6705 94.4661 67.5176 93.3998 67.5176 93.3998L67.9866 92.8763 68.257 92.0622 68.3383 91.5891 68.592 91.3705C68.8983 89.5886 68.1732 88.6688 67.4937 88.2077H67.4913zM66.9768 92.3336C65.9766 93.6376 65.9694 95.0449 65.9694 95.0449 65.2061 94.7087 64.6988 94.2187 64.3614 93.736 63.914 93.0948 63.7082 92.3119 63.7249 91.529 63.7345 91.0415 63.8135 90.7125 63.8135 90.7125 64.2585 88.5776 66.2231 89.0098 66.2231 89.0098 67.3262 89.2236 67.4961 90.4388 67.5104 91.0631 67.4386 91.7116 66.9792 92.336 66.9792 92.336L66.9768 92.3336z" fill="#000"/><path d="M43.9697 92.915 44.2281 93.0182 44.4387 93.3785 44.8981 93.9572 45.4102 94.243S46.3769 94.8554 46.8554 96.2699C46.8554 96.2699 48.7554 95.3117 48.674 92.6412 48.6908 92.0528 48.3797 91.3204 47.9418 90.4678c0 0-1.0696-1.95479999999999-2.8834-1.3977C44.5368 89.231 44.0702 89.5552 43.7735 90.0355 43.4193 90.6071 43.1753 91.5653 43.9697 92.915zM44.6708 92.3482C44.4817 91.8415 44.2209 90.8064 44.9675 90.3093 44.9675 90.3093 46.2812 89.3823 47.2909 90.9769 47.2909 90.9769 47.4537 91.2195 47.6164 91.6109 47.8772 92.2401 47.9753 92.9318 47.8509 93.5826 47.7552 94.0725 47.5374 94.6176 47.078 95.1148 47.078 95.1148 46.6233 93.9812 45.4676 93.22 45.4676 93.22 44.9292 92.8525 44.6684 92.3482H44.6708z" fill="#000"/><path d="M50.5643 89.0604S49.5378 87.0839 47.7097 87.6026C47.1832 87.7515 46.7118 88.0661 46.4056 88.5392 46.2404 88.7938 46.0969 89.1276 46.0586 89.5431 46.1806 89.5383 46.3098 89.5551 46.4414 89.6103 46.6783 89.7064 46.8889 89.8385 47.0756 89.9946 47.0564 89.5623 47.1665 89.1108 47.5948 88.8394c0 0 1.3328-.8981 2.3091.718100000000007C49.9039 89.5575 50.0618 89.8024 50.215 90.1987 50.4638 90.8327 50.5476 91.5267 50.4064 92.1751 50.3011 92.6627 50.0714 93.203 49.6024 93.6905c0 0-.404400000000003-1.0711-1.4644-1.8516C48.2433 92.2544 48.2959 92.6819 48.3079 93.0877 48.6261 93.4047 49.0831 93.9763 49.3559 94.8384c0 0 1.9215-.917399999999986 1.8928-3.5902C51.2774 90.6622 50.9831 89.9201 50.5619 89.0604H50.5643z" fill="#000"/><path d="M53.4502 88.0472S52.4715 86.1668 50.7343 86.6615C50.2342 86.8032 49.7843 87.1034 49.4924 87.5525 49.3991 87.699 49.3129 87.8719 49.2507 88.0712 49.6144 88.285 49.904 88.5635 50.1289 88.8902 50.1217 88.4939 50.2318 88.0856 50.6242 87.8359 50.6242 87.8359 51.89 86.9809 52.8209 88.5179 52.8209 88.5179 52.9716 88.7509 53.1176 89.1279 53.3545 89.7307 53.4334 90.3911 53.3018 91.0083 53.2013 91.4742 52.9812 91.9857 52.5361 92.4492c0 0-.409199999999998-1.0879-1.4931-1.8348C51.043 90.6144 50.9042 90.5136 50.7391 90.3527 50.8276 90.7465 50.8779 91.15 50.9018 91.5462L50.9664 91.5847S51.8733 92.1874 52.3016 93.5419C52.3016 93.5419 54.1297 92.6678 54.1034 90.1269 54.1297 89.5674 53.8498 88.8637 53.4502 88.0448V88.0472z" fill="#000"/><path d="M62.9091 87.9676C62.4832 87.593 61.9376 87.4177 61.3873 87.4153 59.4706 87.4081 58.9442 89.6199 58.9442 89.6199 58.7695 90.5661 58.7504 91.3394 58.937 91.8989 59.6357 94.4878 61.7534 94.8528 61.7534 94.8528 61.8036 93.3543 62.5574 92.4825 62.5574 92.4825L62.969 92.0574 63.2441 91.3682 63.3422 90.9623 63.5624 90.7894C63.9357 89.2621 63.4212 88.4119 62.9115 87.9676H62.9091zM62.6531 89.5479C62.8134 90.2131 62.6459 90.9191 62.2415 91.4691 62.2176 91.5027 62.2032 91.5195 62.2032 91.5195 61.3538 92.6242 61.1863 93.6977 61.1863 93.6977 60.6431 93.3014 60.4158 93.0565 60.1502 92.5762 59.8272 91.995 59.7314 91.2938 59.8008 90.6141 59.8439 90.1915 59.93 89.9105 59.93 89.9105 60.3033 88.7313 61.1121 88.556 61.5476 88.5512 61.7319 88.5512 61.9161 88.5872 62.074 88.6785 62.4019 88.8658 62.5717 89.1996 62.6555 89.5455L62.6531 89.5479z" fill="#000"/><path d="M59.3915 90.6936C59.3628 90.7368 59.3389 90.78 59.3077 90.8208 59.2838 90.8545 59.2695 90.8713 59.2695 90.8713 58.42 91.976 58.2525 93.0494 58.2525 93.0494 57.7093 92.6532 57.482 92.4082 57.2164 91.9279 56.8934 91.3468 56.7977 90.6455 56.867 89.9659 56.9101 89.5432 56.9963 89.2622 56.9963 89.2622 57.3695 88.0831 58.1783 87.9078 58.6138 87.903 58.7981 87.903 58.9823 87.939 59.1402 88.0303 59.4681 88.2176 59.638 88.5514 59.7217 88.8972 59.7289 88.9308 59.7337 88.9669 59.7408 89.0029 59.9371 88.6643 60.2266 88.4073 60.6238 88.292 60.4755 87.8502 60.2266 87.5356 59.9777 87.317 59.5518 86.9424 59.0062 86.7671 58.4559 86.7647 56.5392 86.7575 56.0128 88.9693 56.0128 88.9693 55.8381 89.9155 55.819 90.6888 56.0056 91.2483 56.7043 93.8371 58.822 94.2022 58.822 94.2022 58.8651 92.9366 59.4082 92.1225 59.5757 91.8967 59.4729 91.5173 59.4082 91.1018 59.3939 90.6911L59.3915 90.6936z" fill="#000"/><path d="M57.4581 87.6387S57.5467 84.6897 60.911 83.8323C61.3728 83.7147 61.849 83.6642 62.3252 83.6498 63.5982 83.6138 67.4459 83.3736 69.889 81.7982 69.889 81.7982 72.4804 79.9923 72.3751 76.647 72.3751 76.647 72.222 81.8006 62.6506 82.1537 61.8059 82.1849 60.9852 82.3818 60.1692 82.6003 58.444 83.0614 55.3022 85.4125 56.0511 89.4039L57.4581 87.6363V87.6387z" fill="#000"/><path d="M50.5309 67.3628 49.9542 67.6653 48.9253 66.3757 48.8726 67.5669S49.1813 74.9276 44.3765 79.2263C44.1252 79.452 44.2257 79.3728 43.9697 79.5961 43.1968 80.2757 38.9567 84.8531 40.4067 90.6479 40.4067 90.6479 40.5766 91.4404 41.2634 92.4419 42.2851 93.9284 43.8692 94.9322 45.6327 95.2925 46.0227 95.3717 46.3075 95.4198 46.3075 95.4198L45.1613 93.645C45.0823 93.621 45.0058 93.597 44.9292 93.5706 43.5437 93.0975 42.5029 91.9303 42.1009 90.5182 40.7657 85.8209 43.7519 82.1105 44.9747 80.7488 45.1733 80.5279 45.3862 80.3238 45.6088 80.1293c5.6734-5.012 4.9197-12.7665 4.9197-12.7665H50.5309z" fill="#000"/><path d="M44.1803 90.4919 43.7736 90.0356S42.6752 91.6615 44.3646 93.6643L45.0705 94.4352S46.3913 95.0212 46.7287 96.5005c0 0 1.596-.677199999999999 1.9334-3.1748L47.894 94.8051 47.035 95.4223 46.42 94.5601 45.683 93.7892 45.1303 93.3569l-.7059-1.1095L44.2091 91.1692 44.1779 90.4919H44.1803z" fill="#000"/><path d="M45.7453 95.1146 46.2382 95.1747 45.8075 94.4974 45.3169 94.3438h-.3996L44.8862 94.776 45.7453 95.1146z" fill="#000"/><path d="M51.3851 86.9161S50.9544 82.5789 46.0466 82.8887c0 0 6.23580000000001-2.1974 6.8627 5.2041l-1.5218-1.1767H51.3851z" fill="#000"/><path d="M52.6319 86.5459S54.6179 88.4935 54.3427 90.8134C54.3427 90.8134 53.9719 93.0852 52.17 93.921 52.17 93.921 52.17 93.0396 51.4307 92.3432c0 0-.4619 2.0869-2.1249 2.9683C49.3058 95.3115 49.0737 94.3845 48.7052 93.9666 48.7052 93.9666 48.6119 96.0535 46.4416 96.9805 46.4416 96.9805 46.5349 95.7293 45.3792 94.8936L45.3193 94.3436 46.9058 95.1722 47.0398 95.4219 47.5064 94.663l.6006-1.2055L48.3152 93.0876 48.6143 92.9027 49.1216 93.3662S49.3058 93.5992 49.3991 93.7385C49.4925 93.8777 49.6312 93.9714 49.6312 93.9714L50.1385 93.5992 50.6003 92.6722 50.9042 91.5531 51.2919 91.4666H51.6628L52.2179 92.2543 52.4955 92.6722 53.1415 91.9757 53.6488 91.2793 53.6034 90.2587 53.6967 89.1924 53.1894 88.0781 52.6343 87.336V86.5483L52.6319 86.5459z" fill="#000"/><path d="M56.2592 88.0256S56.2497 88.0424 56.2329 88.076C56.075 88.3954 55.271 90.1918 56.1324 92.149c0 0 .950000000000003 2.0341 2.8523 2.2863C58.9847 94.4353 58.8603 93.8421 59.2168 92.9943 59.2168 92.9943 59.8437 94.7763 62.0523 95.2086 62.0523 95.2086 61.892 93.9117 62.5907 92.831c0 0 .7896 3.2589 4.3789 3.5303C66.9696 96.3613 66.8093 94.8315 67.7042 93.4795L67.8645 93.2633 67.3261 93.1024 66.716 93.6596S66.5006 94.5049 66.4647 94.6682C66.4288 94.8315 66.2494 95.6408 66.2494 95.6408L65.443 95.2806 64.6007 94.5793 63.7584 93.5707 63.1841 91.8608 62.7534 91.6087 62.215 92.185S61.8753 92.526 61.7125 92.8863C61.5498 93.2465 61.4613 93.2633 61.4254 93.6235 61.3895 93.9838 61.3177 94.272 61.3177 94.272S61.1383 94.1999 60.8703 94.0198C60.6023 93.8397 60.2601 93.5347 60.2601 93.5347L59.7576 92.7614 59.3819 92.0049S59.1139 91.88 59.023 92.1658C58.9321 92.4516 58.9153 92.418 58.7717 92.723 58.6282 93.028 58.5923 92.9559 58.5564 93.1721L58.5205 93.3882 58.1975 93.405S57.5873 93.0448 57.5514 92.9919C57.5155 92.9391 57.4078 92.9199 57.3001 92.7038 57.1925 92.4876 56.9053 92.0193 56.9053 92.0193L56.6732 91.1188 56.5847 90.5064 56.7809 89.2648 56.9604 88.1673 56.2616 88.0232 56.2592 88.0256z" fill="#000"/><path d="M48.887 115.362C48.887 115.251 48.8847 115.139 48.8775 115.018L48.7578 114.91C48.1046 111.685 45.7213 112.141 44.9221 112.591 44.032 111.712 43.0964 111.683 43.0964 111.683 42.2278 111.659 41.5314 112.012 40.9763 112.562 39.9187 111.02 38.4327 111.625 38.4327 111.625 38.1551 111.712 37.9111 111.841 37.6814 111.99 37.6646 111.973 37.6479 111.957 37.6287 111.937 37.387 112.216 37.1932 112.187 36.9659 112.473 36.9324 112.518 36.7793 112.766 36.6333 112.987 36.1452 113.734 35.7838 114.557 35.5804 115.427 35.4488 115.986 35.3771 116.491 35.334 116.815 35.3651 117.194 35.4129 117.466 35.4369 117.759H35.5063V118.188h4.2401V118.522h8.339L47.894 118.489C48.0376 118.443 48.4061 118.33 48.5473 118.28 48.966 118.133 48.9875 118.34 49.0665 117.903 49.0785 117.835 49.0857 117.771 49.0928 117.703L49.1287 116.587C49.0426 116.459 48.9588 115.655 48.8823 115.362H48.887zM38.9591 117.295C37.6526 117.422 36.9109 117.069 36.5591 116.803 36.863 114.761 37.4612 113.729 37.9685 113.208 38.6241 112.533 39.7751 112.744 40.1173 113.623 40.1268 113.645 40.134 113.666 40.1412 113.686 39.421 114.963 39.0907 116.517 38.9615 117.295H38.9591zm5.0083-3.821C43.8621 113.803 43.7544 114.13 43.6491 114.459 43.6084 114.581 43.5486 114.682 43.4792 114.766 43.2352 115.703 42.9169 116.656 42.8738 117.627 41.2682 117.895 40.4642 117.742 40.1077 117.627 40.7705 112.936 42.9145 112.867 42.9145 112.867 43.3476 112.893 43.7113 113.068 44.0033 113.294 44.02 113.313 44.0391 113.34 44.0559 113.364 44.0272 113.4 43.9985 113.438 43.9721 113.474V113.472L43.9674 113.474zm3.5605 3.545S47.5016 117.305 47.4992 117.31C46.834 117.542 45.64 117.708 44.1277 117.73 44.0607 117.73 44.008 117.675 44.0104 117.61 44.0344 117.089 44.0391 116.615 44.4842 115.299 44.8025 114.593 45.1925 114.19 45.5395 113.947 46.1831 113.498 46.8579 113.746 47.1475 114.449 47.2336 114.658 47.3078 114.872 47.3724 115.078 47.4872 115.516 47.5901 116.169 47.5279 117.017V117.019z" fill="#000"/><path d="M88.3233 113.371 87.816 113.405C86.7799 112.643 85.5452 113.073 85.0379 113.436 84.8441 113.575 84.6455 113.707 84.5043 113.902 84.3703 114.084 84.2531 114.272 84.1406 114.461 83.0208 112.826 81.6162 112.876 81.6162 112.876 80.7236 112.905 80.0321 113.342 79.4961 113.986 78.3188 112.35 76.8329 113.117 76.8329 113.117 76.5553 113.229 76.3112 113.39 76.0839 113.57 75.7322 113.222 75.11 112.783 74.2965 112.857 74.0955 112.852 73.904 112.864 73.7222 112.891 72.856 113.023 72.0903 113.532 71.5686 114.238L71.1092 114.86C70.2573 116.704 70.5349 117.888 70.5349 117.888 70.4607 118.472 70.7574 119.397 71.2839 119.656 71.8342 119.925 72.7507 120.155 74.2701 120.131 74.2701 120.131 75.5766 120.816 78.472 120.816 78.472 120.816 80.7667 121.551 83.8272 120.631 84.1287 120.54 84.4421 120.499 84.7556 120.508 85.5644 120.532 87.0336 120.155 88.8713 119.296 89.3163 119.087 89.2685 119.267 89.357 118.996 89.357 118.996 89.4719 116.157 88.3281 113.376L88.3233 113.371zm-14.2805 5.336C73.6624 118.76 72.9732 118.782 72.028 118.494 71.9299 118.462 71.8653 118.366 71.8749 118.263 71.9371 117.598 72.1525 116.032 72.8799 114.983 73.2316 114.476 73.7796 114.12 74.3946 114.084 74.708 114.065 75.0526 114.128 75.3302 114.38 74.3635 115.775 74.1074 117.768 74.0452 118.707H74.0428zM77.711 119.346C76.3806 119.574 75.5958 119.228 75.2201 118.959 75.5862 114.555 77.309 114.255 77.309 114.255 78.2303 114.255 78.5964 114.997 78.7041 115.28 78.0413 116.74 77.7972 118.479 77.711 119.346zM82.9346 119.26C80.8337 119.774 79.4219 119.485 78.9721 119.361 79.4865 113.861 81.4941 114.195 81.4941 114.195 81.9416 114.195 82.3221 114.365 82.6379 114.598 82.8581 114.855 83.1763 115.376 83.3462 116.342 82.9921 117.581 82.937 118.715 82.9346 119.26zm5.0633-1.105C87.6796 118.323 86.2487 118.947 84.4302 119.156 84.4302 118.52 84.3703 118.035 84.7771 116.438 85.0595 115.636 85.4351 115.165 85.7773 114.874 86.4114 114.337 87.1173 114.565 87.4547 115.326 87.5552 115.552 87.6437 115.782 87.7227 116.008 87.8663 116.486 88.0146 117.204 87.9979 118.15 87.9979 118.15 87.9979 118.153 87.9955 118.155H87.9979z" fill="#000"/><path d="M94.6644 102.314C94.9132 97.1271 93.0062 93.5584 91.5346 91.4571 90.9076 90.5613 90.1515 89.7664 89.3355 89.0388 88.5555 88.3447 87.9405 87.6411 87.3782 87.0215 86.5622 86.1185 85.3347 84.5527 84.6647 83.5369 74.3707 67.9126 77.1607 61.8103 77.1607 61.8103L75.3206 62.8982C75.0072 65.8929 75.9763 70.7127 76.7324 73.0206 77.7518 76.133 78.1514 78.6882 77.6441 81.6613 77.6226 81.7838 77.601 81.9038 77.5795 82.0215 76.9597 85.2468 75.0287 88.1454 72.143 89.692 69.6472 91.0296 67.977 91.0296 67.977 91.0296L67.4697 93.0301C74.1673 92.2136 77.0531 87.2376 77.0531 87.2376 79.8288 83.2631 79.3837 77.8044 79.3837 77.8044 80.2427 79.5287 81.9751 82.5931 82.5662 83.5969 83.8607 85.8015 84.4446 86.2482 86.0813 88.0541 86.299 88.2919 86.7273 88.7554 86.9427 88.9355 89.9672 91.4691 92.0418 94.3437 92.9272 98.9354 93.2048 100.376 93.1114 101.906 93.1114 101.906 92.8889 109.221 87.2753 111.692 87.2753 111.692S87.6581 112.876 87.5624 114.123L89.18 116.015S89.0962 114.046 88.8713 112.564C94.4801 109.704 94.6668 102.314 94.6668 102.314H94.6644z" fill="#000"/><path d="M73.9639 113.448S75.1603 111.121 78.6778 110.782C78.6778 110.782 74.2199 109.613 72.1023 113.827 72.1023 113.827 71.9443 114.238 71.9443 114.349 71.9443 114.459 73.9639 113.448 73.9639 113.448z" fill="#000"/><path d="M32.515 115.163S32.3523 116.318 32.4743 117.521h2.412V117.569H34.982V117.761H35.5061V118.191H36.48L36.2694 117.257 35.987 116.848 36.2383 116.628S34.5202 117.101 33.4219 116.44c0 0 .150799999999997-4.94 4.1947-3.494L37.9611 112.725 38.009 111.925S33.9986 110.489 32.515 115.163z" fill="#000"/><path d="M42.8115 118.184S42.8737 114.325 44.2328 113.129L44.3573 113.674S43.96 115.602 43.9194 115.667C43.8787 115.732 43.3331 117.869 43.3331 117.869L43.3116 118.477 42.8091 118.184H42.8115z" fill="#000"/><path d="M47.2622 112.521S48.9755 112.942 49.332 117.281L49.3536 117.848 48.9779 117.953 48.7482 117.576 48.4132 116.172 47.535 114.094 47.2622 112.521z" fill="#000"/><path d="M38.009 111.925S39.7797 109.668 44.4027 110.403C43.2326 109.786 39.4782 108.193 35.1926 112.081 35.1926 112.081 36.2503 111.949 36.401 111.949 36.5518 111.949 37.6261 111.937 37.6261 111.937L37.9468 112.199 38.009 111.925z" fill="#000"/><path d="M41.0887 110.228S40.1818 108.71 39.2271 106.078C38.6934 104.606 38.1216 102.809 37.9325 101.256 37.576 98.2968 38.246 94.2262 41.4763 92.1633L41.3256 89.8123s-9.1287 4.9735-3.819 17.1257C37.5066 106.938 38.0976 108.455 39.1648 110.823L41.0887 110.228z" fill="#000"/><path d="M76.9071 110.948S76.7731 109.613 75.3039 105.919c0 0-1.4525-2.822-1.5147-6.2319C73.7342 96.678 75.3159 93.6761 77.7614 91.9302 79.3622 90.7847 80.8768 90.1051 83.2936 89.8121c0 0-8.485-.816599999999994-10.9616 7.1277.0.0-1.13659999999999 4.5842 1.5553 9.7932C74.3659 107.658 74.7751 108.618 75.067 109.62 75.2967 110.408 75.3565 111.308 75.4259 111.88L76.9047 110.948H76.9071z" fill="#000"/><path d="M122.692 95.9866S122.709 95.9794 122.74 95.9674L122.766 95.7512 122.692 95.9866z" fill="#000"/><path d="M46.1351 70.2902C45.3048 69.111 44.7807 67.7422 44.5821 66.3084 44.1179 66.0731 43.6657 65.8161 43.2278 65.5496 43.2828 65.9722 43.3379 66.3709 43.3953 66.7431 43.5652 67.8334 43.9265 68.8853 44.4745 69.8387 45.8336 72.2066 47.4009 73.8732 48.7911 75.0236 49.0089 74.5961 49.1955 74.159 49.3654 73.7123 47.9225 72.5716 46.8625 71.3252 46.1351 70.2926V70.2902z" fill="#000"/><path d="M50.0211 67.867C49.9924 67.8262 49.9637 67.7878 49.9374 67.7469 49.0831 67.7565 48.2217 67.6293 47.3699 67.4011 47.5972 67.9006 47.858 68.3857 48.1619 68.8444 48.6142 69.5241 49.2363 70.3214 50.0211 71.0851V67.867z" fill="#000"/><path d="M44.9363 80.499S44.7281 77.7396 43.5867 74.3631c0 0-1.1366-4.0034-1.2969-7.50960000000001C42.2898 66.8535 41.9165 71.4116 42.8497 75.5903 42.8497 75.5903 43.6154 78.6858 43.5389 80.9432L43.8236 81.6925l1.1103-1.1935H44.9363z" fill="#000"/><path d="M39.8227 63.0281C38.868 64.4882 37.4897 66.335 35.8267 67.8095 35.5228 68.0785 35.2452 68.3763 34.994 68.6957 33.9244 70.0669 31.4143 73.6212 31.0769 77.1586L31.5028 78.2922 31.9216 78.2801 32.661 77.711S33.0175 73.3594 36.8245 68.5252c0 0 1.9454-2.6129 3.3117-5.2306C40.0309 63.2058 39.928 63.1169 39.8251 63.0281H39.8227z" fill="#000"/><path d="M30.596 63.7604C29.5671 63.9837 29.1819 64.1566 27.3418 64.757 25.0494 65.5063 22.2737 67.6028 21.6229 70.5351L20.8931 71.7767 21.5463 72.2426l1.5769-.4803S23.1376 68.2368 29.9954 65.086c0 0 2.9217-1.1887 5.348-2.6561C34.0992 62.9126 32.6132 63.3257 30.5937 63.7628L30.596 63.7604z" fill="#000"/><path d="M78.6252 73.9743S88.0865 72.2644 92.5707 79.3321L91.8433 79.2048 87.1892 76.4022 82.9084 75.6554 79.233 75.4752 78.6276 73.9743H78.6252z" fill="#000"/><path d="M51.5 84.7907C51.9857 85.1797 52.1221 86.1715 52.3901 86.7239 54.6394 77.9175 54.6179 67.5429 54.6131 67.4541L53.2013 67.334C53.2061 67.4156 53.5339 75.4391 51.5 84.7907z" fill="#000"/><path d="M54.5054 106.976c-3.0198-3.991-3.1251-10.5043-2.771-14.8679C51.4449 91.8944 51.1697 91.6494 50.9209 91.3853 50.8682 92.0913 50.7366 92.7805 50.3753 93.4626 50.3131 93.5778 50.2389 93.6667 50.1528 93.7363 49.9733 97.867 50.349 103.146 52.7323 106.978H54.503L54.5054 106.976z" fill="#000"/><path d="M70.4488 81.0155C67.9842 72.8623 67.8573 65.48 67.8549 65.3792L66.3977 65.396C66.4025 65.8186 66.5293 73.2754 69.0825 81.5822 69.5347 81.3829 69.9918 81.198 70.4488 81.0131V81.0155z" fill="#000"/><path d="M72.9446 90.7272C73.2341 91.4597 73.995 93.3617 74.3588 94.3343L75.7227 93.8204C75.359 92.8453 74.3875 90.8809 74.0931 90.134 73.6624 90.3622 73.4255 90.6119 72.947 90.7272H72.9446z" fill="#000"/><path d="M62.6746 108.153c-6.2501.0-9.5737-1.36-9.7771-1.44600000000001L53.4622 105.36 53.1798 106.032 53.4622 105.357C54.5318 105.804 59.808 108.551 74.1651 105.319L74.4833 106.745C69.8053 107.797 65.8619 108.15 62.677 108.15L62.6746 108.153z" fill="#000"/><path d="M61.2053 97.819C54.7542 97.819 51.0549 96.5654 50.8228 96.4838L51.3013 95.1029C51.3851 95.1317 59.8127 97.9679 73.4662 94.9492L73.7797 96.3757C68.8768 97.4588 64.6462 97.8166 61.2029 97.8166L61.2053 97.819z" fill="#000"/><path d="M58.0348 81.7599C55.0533 81.7599 53.2802 81.3853 53.1462 81.3565L53.4549 79.9276C53.5147 79.9396 59.5854 81.2052 68.3815 78.9021L68.75 80.3166C64.4046 81.4549 60.7292 81.7599 58.0372 81.7599H58.0348z" fill="#000"/><path d="M66.8023 115.761S66.8214 115.756 66.8334 115.756C66.8908 115.756 66.9459 115.758 67.0033 115.761 68.4581 115.768 69.9202 115.754 71.3439 115.434 71.454 115.41 71.5425 115.456 71.5975 115.528l1.029-1.825S70.2001 114.514 67.6565 114.44C63.7849 114.327 60.6503 113.218 57.676 110.557c-3.2926-2.947-4.6493-6.136-4.6493-6.136L52.2825 103.299 51.9714 104.668 52.7395 106.971C54.6921 110.348 57.2979 112.502 59.0088 113.503 59.2074 113.352 59.4419 113.302 59.6931 113.436 59.8295 113.508 59.9468 113.611 60.076 113.693 60.2339 113.794 60.3966 113.89 60.5617 113.981 61.2652 114.366 62.0142 114.659 62.7536 114.966 62.8086 114.988 62.8421 115.024 62.8613 115.062 63.2322 115.165 63.6078 115.254 63.9859 115.338 64.7109 115.482 65.436 115.617 66.1634 115.756 66.3764 115.756 66.5917 115.756 66.8047 115.758L66.8023 115.761z" fill="#000"/><path d="M48.9658 116.76S57.2642 117.266 56.5057 113.681C56.5057 113.681 57.1254 113.285 58.0251 112.324L59.1522 112.663 59.2096 113.059 58.2525 114.132S57.4222 114.445 57.324 115.417L57.1446 116.282 55.3236 117.069S52.9021 117.466 52.6771 117.466C52.4522 117.466 48.6978 117.833 48.6978 117.833L47.4392 117.466l1.2945-1.074L48.9634 116.76H48.9658z" fill="#000"/><path d="M44.9172 94.3438s1.7516 1.2152 1.352 2.9275C46.2692 97.2713 48.3342 96.7165 48.8224 94.572 48.8224 94.572 49.1071 95.2564 49.1645 95.7151 49.1645 95.7151 50.7031 94.8337 51.1003 93.3496L51.2128 92.6316S52.0096 92.975 52.0671 94.1733C52.0671 94.1733 55.8573 92.3506 53.8306 88.0566L53.4334 87.7781 53.3185 88.4073 53.6033 90.2588S53.6392 90.9529 53.6487 91.2795C53.6583 91.6061 53.4884 92.0624 53.2611 92.3482 53.0338 92.634 52.8639 92.8621 52.8639 92.8621L52.2369 92.634 51.555 92.0048 51.0429 91.8342 50.873 92.5187S50.5691 92.8309 50.4758 93.1479C50.3825 93.4649 50.4136 93.5273 50.16 93.7363 49.9063 93.9452 49.679 94.1757 49.679 94.1757L49.5091 94.4039 49.1669 93.7747 48.9396 93.376 48.6668 93.3304 48.485 93.9476S48.3701 94.3462 48.2576 94.5191C48.1452 94.6921 48.1667 94.3006 47.8987 94.8097 47.6307 95.3189 47.0397 95.4269 47.0397 95.4269L47.0062 95.6046 46.7214 95.0331 46.0945 94.5191 44.9196 94.3486 44.9172 94.3438z" fill="#000"/><path d="M55.9912 87.8333S54.3976 90.9168 56.5033 93.2007c0 0 1.0241 1.08540000000001 2.6752 1.4265C59.1785 94.6272 59.0636 94.0556 59.2359 93.6569 59.2359 93.6569 60.1452 95.2564 62.3657 95.4845 62.3657 95.4845 62.3083 94.3414 62.593 93.5441 62.593 93.5441 63.555 96.2098 66.972 96.3611 66.972 96.3611 67.0007 93.9355 68.099 93.1478c0 0 3.5821-.919800000000009 5.4006-2.3463L73.7437 90.6887 67.5414 92.0599l-1.4213 3.3117L64.2991 94.058 62.7629 92.0023 61.3966 93.8299 60.26 93.5345l-1.0815-1.5898L58.4965 93.6569 57.5872 92.7444 56.6779 91.6012 56.5846 90.5086 56.5631 89.375 56.733 88.2799 55.996 87.8333H55.9912z" fill="#000"/><path d="M33.5392 40.4082S32.0915 45.6243 34.1972 51.8947c0 0-.768100000000004 3.2492.3446 5.3482l1.0457-5.3122L34.738 48.1915 34.281 45.5018 34.6734 41.304 33.5416 40.4082H33.5392z" fill="#000"/><path d="M37.3055 111.114S31.7374 110.05 31.9575 117.653C31.9575 117.653 33.3526 118.657 35.6425 118.53 35.6425 118.53 36.9538 119.344 39.306 119.156 39.306 119.156 40.8039 119.615 43.3858 119.26 43.3858 119.26 46.2428 119.37 48.7338 118.53c0 0 5.3097-.156999999999996 7.7647-1.401C57.147 116.8 57.7189 116.311 58.0587 115.667 58.274 115.261 58.3147 114.742 58.2453 114.204l1.6439-1.253L58.8938 112.384 57.1111 113.671 57.2355 114.906 56.6397 115.681l-1.5171 1.134L51.3372 117.391 48.9754 117.615 47.1329 117.821 44.0677 118.251H41.6438L39.2916 118.037 37.4395 117.535 35.5157 117.033 34.1948 116.995 33.2832 116.618 33.2353 115.532 33.7354 113.457l1.4979-1.431L36.6595 111.596 37.3079 111.111 37.3055 111.114z" fill="#000"/><path d="M58.0778 112.953S63.969 117.55 72.1262 115.376L71.7936 114.867H67.3022L63.1674 114.08l-3.8477-1.645L58.0754 112.951 58.0778 112.953z" fill="#000"/><path d="M89.1943 111.851 89.247 111.752 89.2278 111.76 89.1943 111.851z" fill="#000"/><path d="M89.2471 111.753 89.3212 111.731C89.3045 111.721 89.2901 111.714 89.2734 111.705L89.2471 111.75V111.753z" fill="#000"/><path d="M89.5965 111.109S89.2663 111.491 89.2136 111.673C89.2328 111.683 89.2519 111.695 89.2734 111.707L89.5965 111.109z" fill="#000"/><path d="M89.2135 111.673C89.0508 111.582 88.9695 111.529 88.9695 111.529L89.2255 111.76C89.2016 111.745 89.1992 111.714 89.2112 111.673H89.2135z" fill="#000"/><path d="M113.433 53.8611H113.436C113.429 53.8589 113.418 53.8546 113.433 53.8611z" fill="#000"/><path d="M33.4341 41.4863s-3.8405 11.2103 5.8625 13.6455L40.1053 54.5746l-1.2634-3.499-1.718-3.2468-1.2132-4.6662L35.6068 41.8946 33.4341 41.4887V41.4863z" fill="#000"/><path d="M35.0804 41.8802S33.8744 44.4859 34.5708 47.8576C34.5708 47.8576 34.1137 42.7159 37.6288 41.7409 37.6288 41.7409 36.7937 41.2534 35.0804 41.8802z" fill="#fff"/><path d="M114.645 50.1485C114.563 50.1125 114.477 50.0789 114.393 50.0429 114.255 49.9852 114.118 49.9252 113.979 49.8676c-2.794-1.0279-5.175-1.7267-7.836-2.3583C102.791 46.784 100.06 46.5463 98.0455 46.3157 96.7031 46.162 95.3512 46.126 94.004 46.2221 93.7001 46.2437 93.4225 46.2653 93.1952 46.2821 91.4437 46.419 90.0821 48.1481 89.9051 49.9036c-1.5386 15.389-12.3926 17.8673-14.326 18.0522L76.0242 69.9443S87.182 68.7267 90.9411 54.637C91.0488 54.2359 91.1302 53.8301 91.202 53.4218L91.7667 50.1942C91.8839 49.529 92.2596 48.9214 92.8339 48.5707 92.8817 48.5419 92.9272 48.5155 92.9727 48.4915 93.4895 48.2249 94.0686 48.088 94.6525 48.0592c0 0 9.03749999999999-.4803 19.1765 3.6768 8.559 3.6719 12.256 7.4615 14.22 10.5258C128.368 62.7565 128.676 63.2056 128.92 63.6403 124.936 59.5385 119.811 56.7167 116.016 54.978 116.028 54.9756 116.04 54.9708 116.052 54.966 115.233 54.5962 114.358 54.2239 113.431 53.8637 113.436 53.8637 113.439 53.8661 113.429 53.8637L113.343 53.8301c-5.092-1.9813-11.656-3.6455-18.4082-2.9467C94.1571 50.9627 93.5613 51.5919 93.5206 52.3483 93.5206 52.3555 93.5206 52.3603 93.5206 52.3676L93.468 53.1504S91.9318 69.6777 77.412 71.9208L77.5891 73.4553S92.2022 72.3746 94.9779 53.4002C95.1406 52.8935 95.5952 52.5116 96.1623 52.4564 97.3013 52.3483 99.1414 52.2379 101.206 52.3844 101.585 52.4108 101.963 52.4516 102.336 52.5092 106.346 53.1264 110.168 54.015 114.003 55.6192 116.272 56.6423 119.806 58.3786 122.718 60.3742 120.629 60.6984 119.294 62.6028 119.244 66.0899c-2.62-3.3526-6.64-5.987-8.938-7.0053C109.347 58.6595 108.347 58.3353 107.325 58.0856c-5.178-1.256-8.7411-3.3742-8.7411-3.3742C101.625 57.3387 107.368 59.5289 107.368 59.5289 113.807 62.3219 117.018 66.5509 118.145 68.3281 115.319 67.8454 113.075 68.866 112.795 69.0005 110.67 69.9659 109.34 71.5413 108.509 73.1023c-1.05-3.2276-3.232-6.1335-4.283-7.4087C103.92 65.3214 103.583 64.978 103.212 64.6658 99.2276 61.318 96.5524 56.2772 96.5524 56.2772 97.5885 59.8867 102.01 65.5111 102.01 65.5111 105.451 69.6561 106.602 73.5034 106.968 75.2277 105.322 74.0965 103.633 73.7555 102.798 73.6571 100.462 73.3761 97.2702 73.8348 95.411 75.4966 94.9492 75.9097 94.552 76.3348 94.1978 76.7598 94.4347 75.1244 94.7649 73.7891 94.7649 73.7891 95.8608 68.9141 95.3703 63.6091 95.3703 63.6091 95.2076 67.6965 93.8652 72.3674 93.8652 72.3674 92.9296 75.098 92.5348 77.7204 92.3793 79.0773 90.7043 76.8367 88.6512 75.5783 86.7465 74.8794 84.2795 75.4606 81.5349 74.805 79.0415 74.7209 78.7568 74.7473 78.4649 74.769 78.1682 74.7834 78.2399 74.9443 78.3261 75.1436 78.417 75.3549 78.4553 75.3477 78.4888 75.3405 78.5295 75.3381 80.3385 75.2469 82.4346 75.0619 84.2125 75.4462 84.4278 75.4918 84.1838 75.5759 84.2867 75.7104 88.5124 76.6854 91.1278 79.6873 92.274 81.3131 92.5491 81.7022 93.1474 81.6181 93.3077 81.169 95.0616 76.2459 99.4621 75.4774 99.4621 75.4774 103.551 74.6561 106.27 76.4044 107.538 77.5331 107.914 77.8669 108.502 77.6892 108.634 77.2041 109.998 72.233 113.278 70.7296 113.278 70.7296 115.803 69.5024 118.236 69.8506 119.868 70.379 120.715 70.6528 121.543 69.9203 121.385 69.0413 120.287 63.0015 122.575 62.1369 122.575 62.1369 123.376 61.7239 124.324 61.9424 125.137 62.5068 126.645 63.5466 128.729 65.4487 130.449 68.1696L131.067 69.0774C131.349 69.4904 131.993 69.2911 131.995 68.7916L132 67.6917C132 67.2882 130.916 57.149 114.642 50.1509L114.645 50.1485z" fill="#000"/><path d="M44.6995 80.3334C44.2473 79.3367 43.5127 78.1408 42.3282 77.0577 40.7825 75.6432 38.1455 75.2662 36.2193 75.5207 35.4536 75.6216 33.8169 75.9818 32.3357 77.245 31.8524 75.4343 30.6966 72.8646 27.9377 71.5822 27.6721 71.4525 25.2649 70.3358 22.4605 71.318 22.5968 70.7969 22.6997 70.2182 22.7356 69.5914 22.8529 67.6149 22.1709 65.4463 20.4361 64.6538 27.8826 60.8258 36.0016 59.906 36.1092 59.894L36.0494 58.4219C35.5206 58.4795 24.6691 59.7571 16.0141 65.2902 16.3396 64.9108 16.7105 64.5145 17.1388 64.1087c2.589-2.4616 7.7384-5.7877 17.5778-7.6441L34.6759 54.6731c-19.9252 3.792-22.385 13.571-22.4664 13.9817L12.0109 69.6706C11.9104 70.1821 12.5278 70.5159 12.8987 70.1509L13.1236 69.8651C13.8151 69.0198 15.6409 66.7888 18.2299 66.1716 18.6367 66.0731 19.0698 66.0755 19.4622 66.2268c0 0 2.5436.295400000000001 1.2299 6.1815C20.5725 72.9463 21.0941 73.3954 21.6062 73.1936 22.8313 72.7133 24.7767 72.2354 26.691 72.9463c0 0 3.5438.936600000000013 4.5129 5.7372C31.2972 79.1422 31.8404 79.3343 32.2041 79.0437 33.391 78.1023 35.7718 76.6782 38.8443 77.2138 38.8443 77.2138 41.8497 77.5164 43.5414 80.941L43.2495 81.659C43.3021 81.8031 43.3476 81.9352 43.3859 82.0577 44.2736 80.8401 45.293 79.7258 46.4176 78.7195 46.6282 78.429 46.834 78.1336 47.0397 77.8382 46.2094 78.4674 45.4102 79.2815 44.7043 80.3334H44.6995z" fill="#000"/><path d="M71.8535 115.155 71.1069 114.855S70.0852 116.544 70.267 119.406C70.279 119.598 70.3987 119.766 70.5757 119.843 71.071 120.062 72.2005 120.508 73.8108 120.508 73.9592 120.508 74.11 120.528 74.2511 120.576 74.6962 120.727 75.9907 121.099 77.8811 120.972 78.0749 120.96 78.2663 120.994 78.4554 121.037 79.0966 121.183 80.9343 121.416 83.6765 120.782 83.8153 120.751 83.9589 120.727 84.1001 120.72 84.7892 120.674 87.285 120.511 89.2232 119.425 89.405 119.325 89.5247 119.137 89.5462 118.928 89.6347 118.15 89.6898 116.039 88.8379 114.521L88.412 118.657 85.5573 119.682 78.5559 120.165 75.5816 119.954 72.155 119.44 70.9538 118.746 71.6453 116.001 71.8559 115.155H71.8535z" fill="#000"/><path d="M123.742 96.0873C123.575 94.7761 122.933 92.7444 122.18 91.6589 119.928 88.4096 117.509 89.2165 117.509 89.2165c-2.41.51400000000001-2.015 4.5749-2.015 4.5749C115.958 99.8913 108.5 100.703 108.5 100.703c-8.6024 1.366-15.7331-7.0364-15.7331-7.0364L93.334 94.7304C93.0301 94.3582 92.7286 93.9692 92.4391 93.5537L91.2618 92.6123l1.182 3.2012S92.5754 96.0177 92.8411 96.3563L92.2692 94.973S96.952 101.757 106.408 102.286C106.408 102.286 111.441 102.382 114.63 99.4662 115.528 98.6449 116.155 97.5666 116.473 96.3899 116.736 95.4149 116.982 94.0076 116.956 92.1896 116.951 91.8294 117.071 91.4692 117.327 91.2194 117.392 91.157 117.466 91.1017 117.55 91.0537 117.971 90.6671 118.708 90.5614 119.186 90.9192 120.591 91.9687 121.443 93.4841 121.828 95.0787 122.165 96.4715 122.436 99.4638 122.184 100.874 122.132 101.174 122.067 101.464 121.998 101.748 121.223 104.634 116.87 113.335 100.785 112.468c0 0-5.5822-.198999999999998-9.6357-2.101L89.4839 111.685 88.967 111.527C97.0477 115.336 108.354 113.623 108.354 113.623c15.3-2.327 15.589-13.588 15.604-14.0607C123.984 98.3856 123.874 97.1368 123.74 96.0849L123.742 96.0873z" fill="#000"/><path d="M148 28h11.116c14.916.0 22.517 8.7279 22.517 21.1798C181.633 61.6316 173.469 70.3595 160.668 70.3595H159.965V102.711H148.006V28H148zm21.25 21.1798C169.25 42.6629 166.298 37.6589 160.807 37.6589H159.965V60.7006H160.668C166.298 60.7006 169.25 55.6966 169.25 49.1798z" fill="#fff"/><path d="M185.148 73.0362C185.148 52.0892 192.325 42.5466 202.459 42.5466c13.649.0 17.31 16.874 16.746 34.4462H197.252C197.676 88.6301 199.786 93.5177 202.459 93.5177 204.289 93.5177 206.119 90.8411 206.962 84.557h11.54C216.108 97.358 210.059 103.293 202.459 103.293 192.331 103.293 185.148 93.9832 185.148 73.0362zM207.665 68.9632C207.665 59.3043 205.416 52.3219 202.459 52.3219 199.786 52.3219 197.676 57.2096 197.252 68.9632h10.413z" fill="#fff"/><path d="M228.067 43.1285h11.958V46.736L239.886 48.8307C241.431 45.3396 244.813 42.5466 249.032 42.5466 258.039 42.5466 263.106 53.8348 263.106 73.0362 263.106 92.2376 258.323 103.293 249.032 103.293 244.529 103.293 241.431 100.5 239.886 97.0089L240.025 99.1036V116.909H228.067V43.1285zm22.795 29.9077C250.862 59.537 248.468 52.3219 245.377 52.3219 242.286 52.3219 239.892 58.8388 239.892 73.0362S242.425 93.7504 245.377 93.7504 250.862 86.5354 250.862 73.0362z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M284.742 43.62H272v59.666h12V70.549C284 56.5 288 53.416 290.445 53.416 292.816 53.416 296.573 55.4008 297.5 63h11C306.903 48.9812 302.157 43 294.34 43 289.844 43 286.241 45.9761 284.594 49.696L284.742 47.464V43.62z" fill="#fff"/></svg></span><span class=navbar-brand__name></span></a><div class="td-navbar-nav-scroll me-auto" id=main_navbar><ul class=navbar-nav><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Releases</a><ul class=dropdown-menu><li><a class=dropdown-item href=/v0.24.1/>v0.24</a></li><li><a class=dropdown-item href=/v0.23.2/>v0.23</a></li><li><a class=dropdown-item href=/v0.22.4/>v0.22</a></li><li><a class=dropdown-item href=/main/>main</a></li></ul></div></li></ul></div><div class="td-navbar-nav-scroll td-navbar-social ms-auto" id=social_icons><ul class=navbar-nav><li class="nav-item socials-box" data-bs-toggle=tooltip aria-label=GitHub><a class="svg-link nav-link" target=_blank rel=noopener href=https://github.com/defenseunicorns/pepr-docs aria-label=GitHub><i class="fa-brands fa-github"></i></a></li></ul></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="small-screen medium-screen wide-screen du-main-padding" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/v0.24.1/user-guide/>Return to the regular view of this page</a>.</p></div><h1 class=title>User Guide</h1><ul><li>1:
<a href=#pg-20ee33ac9f227ba11e24675cd296e0eb>Pepr CLI</a></li><li>2:
<a href=#pg-c0a61cbd8bbc7d43656bf29d4b31ca11>Pepr Modules</a></li><li>3:
<a href=#pg-2befab97d6d45597a04fd07757ef0b7d>Actions</a></li><li>4:
<a href=#pg-c058dba9703b729c105d00418f1ccd92>Pepr Capabilities</a></li><li>5:
<a href=#pg-0f4957b1f94528aa2d92dbdaeee620ba>Pepr Store</a></li><li>6:
<a href=#pg-badf1637cd8f22c75712704f2cdaa208>Custom Resources</a></li><li>7:
<a href=#pg-29678bcee2262a3d22789329237cefb6>OnSchedule</a></li><li>8:
<a href=#pg-ba677e20b11657c0248f267ce42f9a2c>RBAC Modes</a></li><li>9:
<a href=#pg-f88781f85fe2020bca7367e84c672a0b>Metrics Endpoints</a></li><li>10:
<a href=#pg-ba78ecba7dde7e00b64a16b3bfe3d2ab>WASM Support</a></li></ul><div class=content><p>In this section you can find detailed information about Pepr and how to use it.</p><h1 id=sections>Sections</h1><p>You can find the following information in this section:</p><h3 id=pepr-clipepr-cli><a href=pepr-cli/>Pepr CLI</a></h3><h3 id=pepr-modulespepr-modules><a href=pepr-modules/>Pepr Modules</a></h3><h3 id=pepr-actionsactions><a href=actions/>Pepr Actions</a></h3><h3 id=pepr-capabilitiescapabilities><a href=capabilities/>Pepr Capabilities</a></h3><h3 id=pepr-storestore><a href=store/>Pepr Store</a></h3><h3 id=custom-resourcescustom-resources><a href=custom-resources/>Custom Resources</a></h3><h3 id=onscheduleonschedule><a href=onschedule/>OnSchedule</a></h3><h3 id=rbacrbac><a href=rbac/>RBAC</a></h3><h3 id=metricsmetrics><a href=metrics/>Metrics</a></h3><h3 id=webassemblywebassembly><a href=webassembly/>Webassembly</a></h3></div></div><div class=td-content><h1 id=pg-20ee33ac9f227ba11e24675cd296e0eb>1 -
Pepr CLI</h1><h2 id=npx-pepr-init><code>npx pepr init</code></h2><p>Initialize a new Pepr Module.</p><p><strong>Options:</strong></p><ul><li><code>-l, --log-level [level]</code> - Log level: debug, info, warn, error (default: &ldquo;info&rdquo;)</li><li><code>--skip-post-init</code> - Skip npm install, git init and VSCode launch</li></ul><hr><h2 id=npx-pepr-update><code>npx pepr update</code></h2><p>Update the current Pepr Module to the latest SDK version and update the global Pepr CLI to the same version.</p><p><strong>Options:</strong></p><ul><li><code>-l, --log-level [level]</code> - Log level: debug, info, warn, error (default: &ldquo;info&rdquo;)</li><li><code>--skip-template-update</code> - Skip updating the template files</li></ul><hr><h2 id=npx-pepr-dev><code>npx pepr dev</code></h2><p>Connect a local cluster to a local version of the Pepr Controller to do real-time debugging of your module. Note the <code>npx pepr dev</code> assumes a K3d cluster is running by default. If you are working with Kind or another docker-based K8s distro, you will need to pass the <code>--host host.docker.internal</code> option to <code>npx pepr dev</code>. If working with a remote cluster you will have to give Pepr a host path to your machine that is reachable from the K8s cluster.</p><p><strong>Options:</strong></p><ul><li><code>-l, --log-level [level]</code> - Log level: debug, info, warn, error (default: &ldquo;info&rdquo;)</li><li><code>-h, --host [host]</code> - Host to listen on (default: &ldquo;host.k3d.internal&rdquo;)</li><li><code>--confirm</code> - Skip confirmation prompt</li></ul><hr><h2 id=npx-pepr-deploy><code>npx pepr deploy</code></h2><p>Deploy the current module into a Kubernetes cluster, useful for CI systems. Not recommended for production use.</p><p><strong>Options:</strong></p><ul><li><code>-l, --log-level [level]</code> - Log level: debug, info, warn, error (default: &ldquo;info&rdquo;)</li><li><code>-i, --image [image]</code> - Override the image tag</li><li><code>--confirm</code> - Skip confirmation prompt</li></ul><hr><h2 id=npx-pepr-monitor><code>npx pepr monitor</code></h2><p>Monitor Validations for a given Pepr Module or all Pepr Modules.</p><p>Usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>npx pepr monitor <span style=color:#ff79c6>[</span>options<span style=color:#ff79c6>]</span> <span style=color:#ff79c6>[</span>module-uuid<span style=color:#ff79c6>]</span>
</span></span></code></pre></div><p><strong>Options:</strong></p><ul><li><code>-l, --log-level [level]</code> - Log level: debug, info, warn, error (default: &ldquo;info&rdquo;)</li><li><code>-h, --help</code> - Display help for command</li></ul><hr><h2 id=npx-pepr-build><code>npx pepr build</code></h2><p>Create a <a href=https://zarf.dev>zarf.yaml</a> and K8s manifest for the current module. This includes everything needed to deploy Pepr and the current module into production environments.</p><p><strong>Options:</strong></p><ul><li><code>-l, --log-level [level]</code> - Log level: debug, info, warn, error (default: &ldquo;info&rdquo;)</li><li><code>-e, --entry-point [file]</code> - Specify the entry point file to build with. (default: &ldquo;pepr.ts&rdquo;)</li><li><code>-n, --no-embed</code> - Disables embedding of deployment files into output module. Useful when creating library modules intended solely for reuse/distribution via NPM</li><li><code>-r, --registry-info [&lt;registry>/&lt;username>]</code> - Registry Info: Image registry and username. Note: You must be signed into the registry</li><li><code>-o, --output-dir [output directory]</code> - Define where to place build output</li><li><code>--rbac-mode [admin|scoped]</code> - Rbac Mode: admin, scoped (default: admin) (choices: &ldquo;admin&rdquo;, &ldquo;scoped&rdquo;, default: &ldquo;admin&rdquo;)</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-c0a61cbd8bbc7d43656bf29d4b31ca11>2 -
Pepr Modules</h1><h2 id=what-is-a-pepr-module>What is a Pepr Module?</h2><p>A Pepr Module is a collection of files that can be used to create a new Pepr Project. A Pepr Module can be used to create a new Pepr Project by using the <code>npx pepr init</code> command.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-2befab97d6d45597a04fd07757ef0b7d>3 -
Actions</h1><p>An action is a discrete set of behaviors defined in a single function that acts on a given Kubernetes GroupVersionKind (GVK) passed in during the admission controller lifecycle. Actions are the atomic operations that are performed on Kubernetes resources by Pepr.</p><p>For example, an action could be responsible for adding a specific label to a Kubernetes resource, or for modifying a specific field in a resource&rsquo;s metadata. Actions can be grouped together within a Capability to provide a more comprehensive set of operations that can be performed on Kubernetes resources.</p><p>Actions are <code>Mutate()</code>, <code>Validate()</code>, or <code>Watch()</code>. Both Mutate and Validate actions run during the admission controller lifecycle, while Watch actions run in a separate controller that tracks changes to resources, including existing resources.</p><p>Let&rsquo;s look at some example actions that are included in the <code>HelloPepr</code> capability that is created for you when you <a href=../pepr-cli#pepr-init><code>npx pepr init</code></a>:</p><hr><p>In this first example, Pepr is adding a label and annotation to a ConfigMap with tne name <code>example-1</code> when it is created. Comments are added to each line to explain in more detail what is happening.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=display:flex><span><span style=color:#6272a4>// When(a.&lt;Kind&gt;) filters which GroupVersionKind (GVK) this action should act on.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>When(a.ConfigMap)
</span></span><span style=display:flex><span>  <span style=color:#6272a4>// This limits the action to only act on new resources.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  .IsCreated()
</span></span><span style=display:flex><span>  <span style=color:#6272a4>// This limits the action to only act on resources with the name &#34;example-1&#34;.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  .WithName(<span style=color:#f1fa8c>&#34;example-1&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#6272a4>// Mutate() is where we define the actual behavior of this action.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  .Mutate(request <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// The request object is a wrapper around the K8s resource that Pepr is acting on.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    request
</span></span><span style=display:flex><span>      <span style=color:#6272a4>// Here we are adding a label to the ConfigMap.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>      .SetLabel(<span style=color:#f1fa8c>&#34;pepr&#34;</span>, <span style=color:#f1fa8c>&#34;was-here&#34;</span>)
</span></span><span style=display:flex><span>      <span style=color:#6272a4>// And here we are adding an annotation.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>      .SetAnnotation(<span style=color:#f1fa8c>&#34;pepr.dev&#34;</span>, <span style=color:#f1fa8c>&#34;annotations-work-too&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// Note that we are not returning anything here. This is because Pepr is tracking the changes in each action automatically.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  });
</span></span></code></pre></div><hr><p>In this example, a Validate action rejects any ConfigMap in the <code>pepr-demo</code> namespace that has no data.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=display:flex><span>When(a.ConfigMap)
</span></span><span style=display:flex><span>  .IsCreated()
</span></span><span style=display:flex><span>  .InNamespace(<span style=color:#f1fa8c>&#34;pepr-demo&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#6272a4>// Validate() is where we define the actual behavior of this action.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  .Validate(request <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// If data exists, approve the request.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    <span style=color:#ff79c6>if</span> (request.Raw.data) {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>return</span> request.Approve();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// Otherwise, reject the request with a message and optional code.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    <span style=color:#ff79c6>return</span> request.Deny(<span style=color:#f1fa8c>&#34;ConfigMap must have data&#34;</span>);
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div><hr><p>In this example, a Watch action on the name and phase of any ConfigMap.Watch actions run in a separate controller that tracks changes to resources, including existing resources so that you can react to changes in real-time. It is important to note that Watch actions are not run during the admission controller lifecycle, so they cannot be used to modify or validate resources. They also may run multiple times for the same resource, so it is important to make sure that your Watch actions are idempotent. In a future release, Pepr will provide a better way to control when a Watch action is run to avoid this issue.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=display:flex><span>When(a.ConfigMap)
</span></span><span style=display:flex><span>  <span style=color:#6272a4>// Watch() is where we define the actual behavior of this action.
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>  .Watch((cm, phase) <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>    Log.info(cm, <span style=color:#f1fa8c>`ConfigMap </span><span style=color:#f1fa8c>${</span>cm.metadata.name<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c> was </span><span style=color:#f1fa8c>${</span>phase<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>`</span>);
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div><p>There are many more examples in the <code>HelloPepr</code> capability that you can use as a reference when creating your own actions. Note that each time you run <a href=../pepr-cli#pepr-update><code>npx pepr update</code></a>, Pepr will automatically update the <code>HelloPepr</code> capability with the latest examples and best practices for you to reference and test directly in your Pepr Module.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-c058dba9703b729c105d00418f1ccd92>4 -
Pepr Capabilities</h1><p>A capability is set of related <a href=../actions/>actions</a> that work together to achieve a specific transformation or operation on Kubernetes resources. Capabilities are user-defined and can include one or more actions. They are defined within a Pepr module and can be used in both MutatingWebhookConfigurations and ValidatingWebhookConfigurations. A Capability can have a specific scope, such as mutating or validating, and can be reused in multiple Pepr modules.</p><p>When you <a href=../pepr-cli#pepr-init><code>npx pepr init</code></a>, a <code>capabilities</code> directory is created for you. This directory is where you will define your capabilities. You can create as many capabilities as you need, and each capability can contain one or more actions. Pepr also automatically creates a <code>HelloPepr</code> capability with a number of example actions to help you get started.</p><h2 id=creating-a-capability>Creating a Capability</h2><p>Defining a new capability can be done via a <a href=https://code.visualstudio.com/docs/editor/userdefinedsnippets>VSCode Snippet</a> generated during <a href=../pepr-cli#pepr-init><code>npx pepr init</code></a>.</p><ol><li><p>Create a new file in the <code>capabilities</code> directory with the name of your capability. For example, <code>capabilities/my-capability.ts</code>.</p></li><li><p>Open the new file in VSCode and type <code>create</code> in the file. A suggestion should prompt you to generate the content from there.</p></li></ol><p>[<video class=td-content controls src=https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4](https://user-images.githubusercontent.com/882485/230897379-0bb57dff-9832-479f-8733-79e103703135.mp4></video>)</p><p><em>If you prefer not to use VSCode, you can also modify or copy the <code>HelloPepr</code> capability to meet your needs instead.</em></p><h2 id=reusable-capabilities>Reusable Capabilities</h2><p>Pepr has an NPM org managed by Defense Unicorns, <code>@pepr</code>, where capabilities are published for reuse in other Pepr Modules. You can find a list of published capabilities <a href="https://www.npmjs.com/search?q=@pepr">here</a>.</p><p>You also can publish your own Pepr capabilities to NPM and import them. A couple of things you&rsquo;ll want to be aware of when publishing your own capabilities:</p><ul><li><p>Reuseable capability versions should use the format <code>0.x.x</code> or <code>0.12.x</code> as examples to determine compatibility with other reusable capabilities. Before <code>1.x.x</code>, we recommend binding to <code>0.x.x</code> if you can for maximum compatibility.</p></li><li><p><code>pepr.ts</code> will still be used for local development, but you&rsquo;ll also need to publish an <code>index.ts</code> that exports your capabilities. When you build & publish the capability to NPM, you can use <code>npx pepr build -e index.ts</code> to generate the code needed for reuse by other Pepr modules.</p></li><li><p>See <a href=https://github.com/defenseunicorns/pepr-istio>Pepr Istio</a> for an example of a reusable capability.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-0f4957b1f94528aa2d92dbdaeee620ba>5 -
Pepr Store</h1><h2 id=a-lightweight-key-value-store-for-pepr-modules>A Lightweight Key-Value Store for Pepr Modules</h2><p>The nature of admission controllers and general watch operations (the <code>Mutate</code>, <code>Validate</code> and <code>Watch</code> actions in Pepr) make some types of complex and long-running operations difficult. There are also times when you need to share data between different actions. While you could manually create your own K8s resources and manage their cleanup, this can be very hard to track and keep performant at scale.</p><p>The Pepr Store solves this by exposing a simple, <a href=https://developer.mozilla.org/en-us/docs/web/api/storage>Web Storage API</a>-compatible mechanism for use within capabilities. Additionally, as Pepr runs multiple replicas of the admission controller along with a watch controller, the Pepr Store provides a unique way to share data between these different instances automatically.</p><p>Each Pepr Capability has a <code>Store</code> instance that can be used to get, set and delete data as well as subscribe to any changes to the Store. Behind the scenes, all capability store instances in a single Pepr Module are stored within a single CRD in the cluster. This CRD is automatically created when the Pepr Module is deployed. Care is taken to make the read and write operations as efficient as possible by using K8s watches, batch processing and patch operations for writes.</p><h2 id=key-features>Key Features</h2><ul><li><strong>Asynchronous Key-Value Store</strong>: Provides an asynchronous interface for storing small amounts of data, making it ideal for sharing information between various actions and capabilities.</li><li><strong>Web Storage API Compatibility</strong>: The store&rsquo;s API is aligned with the standard <a href=https://developer.mozilla.org/en-us/docs/web/api/storage>Web Storage API</a>, simplifying the learning curve.</li><li><strong>Real-time Updates</strong>: The <code>.subscribe()</code> and <code>onReady()</code> methods enable real-time updates, allowing you to react to changes in the data store instantaneously.</li><li><strong>Automatic CRD Management</strong>: Each Pepr Module has its data stored within a single Custom Resource Definition (CRD) that is automatically created upon deployment.</li><li><strong>Efficient Operations</strong>: Pepr Store uses Kubernetes watches, batch processing, and patch operations to make read and write operations as efficient as possible.</li></ul><h2 id=quick-start>Quick Start</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#6272a4>// Example usage for Pepr Store
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>Store.setItem(<span style=color:#f1fa8c>&#34;example-1&#34;</span>, <span style=color:#f1fa8c>&#34;was-here&#34;</span>);
</span></span><span style=display:flex><span>Store.setItem(<span style=color:#f1fa8c>&#34;example-1-data&#34;</span>, JSON.stringify(request.Raw.data));
</span></span><span style=display:flex><span>Store.onReady(data <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>  Log.info(data, <span style=color:#f1fa8c>&#34;Pepr Store Ready&#34;</span>);
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> unsubscribe <span style=color:#ff79c6>=</span> Store.subscribe(data <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>  Log.info(data, <span style=color:#f1fa8c>&#34;Pepr Store Updated&#34;</span>);
</span></span><span style=display:flex><span>  unsubscribe();
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h2 id=api-reference>API Reference</h2><h3 id=methods>Methods</h3><ul><li><code>getItem(key: string)</code>: Retrieves a value by its key. Returns <code>null</code> if the key doesn&rsquo;t exist.</li><li><code>setItem(key: string, value: string)</code>: Sets a value for a given key. Creates a new key-value pair if the key doesn&rsquo;t exist.</li><li><code>setItemAndWait(key: string, value: string)</code>: Sets a value for a given key. Creates a new key-value pair if the key doesn&rsquo;t exist. Returns a promise when the new key and value show up in the store. Should only be used on a <code>Watch</code> to avoid <a href=https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/#timeouts>timeouts</a>.</li><li><code>removeItem(key: string)</code>: Deletes a key-value pair by its key.</li><li><code>clear()</code>: Clears all key-value pairs from the store.</li><li><code>subscribe(listener: DataReceiver)</code>: Subscribes to store updates.</li><li><code>onReady(callback: DataReceiver)</code>: Executes a callback when the store is ready.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-badf1637cd8f22c75712704f2cdaa208>6 -
Custom Resources</h1><h2 id=importing-custom-resources>Importing Custom Resources</h2><p>The <a href=https://github.com/defenseunicorns/kubernetes-fluent-client>Kubernetes Fluent Client</a> supports the creation of TypeScript typings directly from Kubernetes Custom Resource Definitions (CRDs). The files it generates can be directly incorporated into Pepr capabilities and provide a way to work with strongly-typed CRDs.</p><p>For example (below), Istio CRDs can be imported and used as though they were intrinsic Kubernetes resources.</p><h2 id=generating-typescript-types-from-crds>Generating TypeScript Types from CRDs</h2><p>Using the kubernetes-fluent-client to produce a new type looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>npx kubernetes-fluent-client crd <span style=color:#ff79c6>[</span>source<span style=color:#ff79c6>]</span> <span style=color:#ff79c6>[</span>directory<span style=color:#ff79c6>]</span>
</span></span></code></pre></div><p>The <code>crd</code> command expects a <code>[source]</code>, which can be a URL or local file containing the <code>CustomResourceDefinition(s)</code>, and a <code>[directory]</code> where the generated code will live.</p><p>The following example creates types for the Istio CRDs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>user@workstation$  npx kubernetes-fluent-client crd https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml crds
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Attempting to load https://raw.githubusercontent.com/istio/istio/master/manifests/charts/base/crds/crd-all.gen.yaml as a URL
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- Generating extensions.istio.io/v1alpha1 types <span style=color:#ff79c6>for</span> WasmPlugin
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> DestinationRule
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> DestinationRule
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> EnvoyFilter
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> Gateway
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> Gateway
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> ProxyConfig
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> ServiceEntry
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> ServiceEntry
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> Sidecar
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> Sidecar
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> VirtualService
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> VirtualService
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> WorkloadEntry
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> WorkloadEntry
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1alpha3 types <span style=color:#ff79c6>for</span> WorkloadGroup
</span></span><span style=display:flex><span>- Generating networking.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> WorkloadGroup
</span></span><span style=display:flex><span>- Generating security.istio.io/v1 types <span style=color:#ff79c6>for</span> AuthorizationPolicy
</span></span><span style=display:flex><span>- Generating security.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> AuthorizationPolicy
</span></span><span style=display:flex><span>- Generating security.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> PeerAuthentication
</span></span><span style=display:flex><span>- Generating security.istio.io/v1 types <span style=color:#ff79c6>for</span> RequestAuthentication
</span></span><span style=display:flex><span>- Generating security.istio.io/v1beta1 types <span style=color:#ff79c6>for</span> RequestAuthentication
</span></span><span style=display:flex><span>- Generating telemetry.istio.io/v1alpha1 types <span style=color:#ff79c6>for</span> Telemetry
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> Generated <span style=color:#bd93f9>23</span> files in the istio directory
</span></span></code></pre></div><p>Observe that the <code>kubernetes-fluent-client</code> has produced the TypeScript types within the <code>crds</code> directory. These types can now be utilized in the Pepr module.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-typescript data-lang=typescript><span style=display:flex><span>user<span style=color:#8be9fd;font-style:italic>@workstation</span>$  cat crds<span style=color:#ff79c6>/</span>proxyconfig<span style=color:#ff79c6>-</span>v1beta1.ts
</span></span><span style=display:flex><span><span style=color:#6272a4>// This file is auto-generated by kubernetes-fluent-client, do not edit manually
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>import</span> { GenericKind, RegisterKind } <span style=color:#ff79c6>from</span> <span style=color:#f1fa8c>&#34;kubernetes-fluent-client&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>class</span> ProxyConfig <span style=color:#ff79c6>extends</span> GenericKind {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * Provides configuration for individual workloads. See more details at:
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * https://istio.io/docs/reference/config/networking/proxy-config.html
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    spec?:   <span style=color:#8be9fd>Spec</span>;
</span></span><span style=display:flex><span>    status<span style=color:#ff79c6>?:</span> { [key: <span style=color:#8be9fd>string</span>]<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>any</span> };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4> * Provides configuration for individual workloads. See more details at:
</span></span></span><span style=display:flex><span><span style=color:#6272a4> * https://istio.io/docs/reference/config/networking/proxy-config.html
</span></span></span><span style=display:flex><span><span style=color:#6272a4> */</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>interface</span> Spec {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * The number of worker threads to run.
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    concurrency?: <span style=color:#8be9fd>number</span>;
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * Additional environment variables for the proxy.
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    environmentVariables<span style=color:#ff79c6>?:</span> { [key: <span style=color:#8be9fd>string</span>]<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>string</span> };
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * Specifies the details of the proxy image.
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    image?: <span style=color:#8be9fd>Image</span>;
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * Optional.
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    selector?: <span style=color:#8be9fd>Selector</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4> * Specifies the details of the proxy image.
</span></span></span><span style=display:flex><span><span style=color:#6272a4> */</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>interface</span> Image {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * The image type of the image.
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    imageType?: <span style=color:#8be9fd>string</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4> * Optional.
</span></span></span><span style=display:flex><span><span style=color:#6272a4> */</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>interface</span> Selector {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>/**
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * One or more labels that indicate a specific set of pods/VMs on which a policy should be
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     * applied.
</span></span></span><span style=display:flex><span><span style=color:#6272a4>     */</span>
</span></span><span style=display:flex><span>    matchLabels<span style=color:#ff79c6>?:</span> { [key: <span style=color:#8be9fd>string</span>]<span style=color:#ff79c6>:</span> <span style=color:#8be9fd>string</span> };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>RegisterKind(ProxyConfig, {
</span></span><span style=display:flex><span>  group<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;networking.istio.io&#34;</span>,
</span></span><span style=display:flex><span>  version<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;v1beta1&#34;</span>,
</span></span><span style=display:flex><span>  kind<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;ProxyConfig&#34;</span>,
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h2 id=using-new-types>Using new types</h2><p>The generated types can be imported into Pepr directly, <em>there is no additional logic needed to make them to work</em>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#ff79c6>import</span> { Capability, K8s, Log, a, kind } <span style=color:#ff79c6>from</span> <span style=color:#f1fa8c>&#34;pepr&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>import</span> { Gateway } <span style=color:#ff79c6>from</span> <span style=color:#f1fa8c>&#34;../crds/gateway-v1beta1&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#ff79c6>import</span> {
</span></span><span style=display:flex><span>  PurpleDestination,
</span></span><span style=display:flex><span>  VirtualService,
</span></span><span style=display:flex><span>} <span style=color:#ff79c6>from</span> <span style=color:#f1fa8c>&#34;../crds/virtualservice-v1beta1&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>export</span> <span style=color:#ff79c6>const</span> IstioVirtualService <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> Capability({
</span></span><span style=display:flex><span>  name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;istio-virtual-service&#34;</span>,
</span></span><span style=display:flex><span>  description<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Generate Istio VirtualService resources&#34;</span>,
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// Use the &#39;When&#39; function to create a new action
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>const</span> { When, Store } <span style=color:#ff79c6>=</span> IstioVirtualService;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// Define the configuration keys
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>enum</span> config {
</span></span><span style=display:flex><span>  Gateway <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;uds/istio-gateway&#34;</span>,
</span></span><span style=display:flex><span>  Host <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;uds/istio-host&#34;</span>,
</span></span><span style=display:flex><span>  Port <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;uds/istio-port&#34;</span>,
</span></span><span style=display:flex><span>  Domain <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;uds/istio-domain&#34;</span>,
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// Define the valid gateway names
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>const</span> validGateway <span style=color:#ff79c6>=</span> [<span style=color:#f1fa8c>&#34;admin&#34;</span>, <span style=color:#f1fa8c>&#34;tenant&#34;</span>, <span style=color:#f1fa8c>&#34;passthrough&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4>// Watch Gateways to get the HTTPS domain for each gateway
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>When(Gateway)
</span></span><span style=display:flex><span>  .IsCreatedOrUpdated()
</span></span><span style=display:flex><span>  .WithLabel(config.Domain)
</span></span><span style=display:flex><span>  .Watch(vs <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#6272a4>// Store the domain for the gateway
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    Store.setItem(vs.metadata.name, vs.metadata.labels[config.Domain]);
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-29678bcee2262a3d22789329237cefb6>7 -
OnSchedule</h1><p>The <code>OnSchedule</code> feature allows you to schedule and automate the execution of specific code at predefined intervals or schedules. This feature is designed to simplify recurring tasks and can serve as an alternative to traditional CronJobs. This code is designed to be run at the top level on a Capability, not within a function like <code>When</code>.</p><blockquote><p><strong>Note -</strong> To use this feature in dev mode you MUST set <code>PEPR_WATCH_MODE="true"</code>. This is because the scheduler only runs on the watch controller and the watch controller is not started by default in dev mode.</p></blockquote><p>For example: <code>PEPR_WATCH_MODE="true" npx pepr dev</code></p><h2 id=best-practices>Best Practices</h2><p><code>OnSchedule</code> is designed for targeting intervals equal to or larger than 30 seconds due to the storage mechanism used to archive schedule info.</p><h2 id=usage>Usage</h2><p>Create a recurring task execution by calling the OnSchedule function with the following parameters:</p><p><strong>name</strong> - The unique name of the schedule.</p><p><strong>every</strong> - An integer that represents the frequency of the schedule in number of <em>units</em>.</p><p><strong>unit</strong> - A string specifying the time unit for the schedule (e.g., <code>seconds</code>, <code>minute</code>, <code>minutes</code>, <code>hour</code>, <code>hours</code>).</p><p><strong>startTime</strong> - (Optional) A UTC timestamp indicating when the schedule should start. All date times must be provided in GMT. If not specified the schedule will start when the schedule store reports ready.</p><p><strong>run</strong> - A function that contains the code you want to execute on the defined schedule.</p><p><strong>completions</strong> - (Optional) An integer indicating the maximum number of times the schedule should run to completion. If not specified the schedule will run indefinitely.</p><h2 id=examples>Examples</h2><p>Update a ConfigMap every 30 seconds:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-typescript data-lang=typescript><span style=display:flex><span>OnSchedule({
</span></span><span style=display:flex><span>    name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;hello-interval&#34;</span>,
</span></span><span style=display:flex><span>    every: <span style=color:#8be9fd>30</span>,
</span></span><span style=display:flex><span>    unit<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;seconds&#34;</span>,
</span></span><span style=display:flex><span>    run: <span style=color:#8be9fd>async</span> () <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>      Log.info(<span style=color:#f1fa8c>&#34;Wait 30 seconds and create/update a ConfigMap&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>try</span> {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>await</span> K8s(kind.ConfigMap).Apply({
</span></span><span style=display:flex><span>          metadata<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>            name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;last-updated&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#ff79c6>namespace</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;default&#34;</span>,
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>          data<span style=color:#ff79c6>:</span> {
</span></span><span style=display:flex><span>            count<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>`</span><span style=color:#f1fa8c>${</span><span style=color:#ff79c6>new</span> <span style=color:#8be9fd;font-style:italic>Date</span>()<span style=color:#f1fa8c>}</span><span style=color:#f1fa8c>`</span>,
</span></span><span style=display:flex><span>          },
</span></span><span style=display:flex><span>        });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      } <span style=color:#ff79c6>catch</span> (error) {
</span></span><span style=display:flex><span>        Log.error(error, <span style=color:#f1fa8c>&#34;Failed to apply ConfigMap using server-side apply.&#34;</span>);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>  });
</span></span></code></pre></div><p>Refresh an AWSToken every 24 hours, with a delayed start of 30 seconds, running a total of 3 times:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-typescript data-lang=typescript><span style=display:flex><span>
</span></span><span style=display:flex><span>OnSchedule({
</span></span><span style=display:flex><span>  name<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;refresh-aws-token&#34;</span>,
</span></span><span style=display:flex><span>  every: <span style=color:#8be9fd>24</span>,
</span></span><span style=display:flex><span>  unit<span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;hours&#34;</span>,
</span></span><span style=display:flex><span>  startTime: <span style=color:#8be9fd>new</span> <span style=color:#8be9fd;font-style:italic>Date</span>(<span style=color:#ff79c6>new</span> <span style=color:#8be9fd;font-style:italic>Date</span>().getTime() <span style=color:#ff79c6>+</span> <span style=color:#bd93f9>1000</span> <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>30</span>),
</span></span><span style=display:flex><span>  run: <span style=color:#8be9fd>async</span> () <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>await</span> RefreshAWSToken();
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  completions: <span style=color:#8be9fd>3</span>,
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h2 id=advantages>Advantages</h2><ul><li>Simplifies scheduling recurring tasks without the need for complex CronJob configurations.</li><li>Provides flexibility to define schedules in a human-readable format.</li><li>Allows you to execute code with precision at specified intervals.</li><li>Supports limiting the number of schedule completions for finite tasks.</li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-ba677e20b11657c0248f267ce42f9a2c>8 -
RBAC Modes</h1><p>During the build phase of Pepr (<code>npx pepr build --rbac-mode [admin|scoped]</code>), you have the option to specify the desired RBAC mode through specific flags. This allows fine-tuning the level of access granted based on requirements and preferences.</p><h2 id=modes>Modes</h2><h3 id=admin>admin</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>npx pepr build --rbac-mode admin
</span></span></code></pre></div><p><strong>Description:</strong> The service account is given cluster-admin permissions, granting it full, unrestricted access across the entire cluster. This can be useful for administrative tasks where broad permissions are necessary. However, use this mode with caution, as it can pose security risks if misused. This is the default mode.</p><h3 id=scoped>scoped</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>npx pepr build --rbac-mode scoped
</span></span></code></pre></div><p><strong>Description:</strong> The service account is provided just enough permissions to perform its required tasks, and no more. This mode is recommended for most use cases as it limits potential attack vectors and aligns with best practices in security. <em>The admission controller&rsquo;s primary mutating or validating action doesn&rsquo;t require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller&rsquo;s logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole. See how in <a href=#updating-the-clusterrole>Updating the ClusterRole</a>.</em></p><h2 id=debugging-rbac-issues>Debugging RBAC Issues</h2><p>If encountering unexpected behaviors in Pepr while running in scoped mode, check to see if they are related to RBAC.</p><ol><li>Check Deployment logs for RBAC errors:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs -n pepr-system  -l app | jq
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># example output</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>{</span>
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;level&#34;</span>: 50,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;time&#34;</span>: 1697983053758,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;pid&#34;</span>: 16,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;hostname&#34;</span>: <span style=color:#f1fa8c>&#34;pepr-static-test-watcher-745d65857d-pndg7&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;data&#34;</span>: <span style=color:#ff79c6>{</span>
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;kind&#34;</span>: <span style=color:#f1fa8c>&#34;Status&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;apiVersion&#34;</span>: <span style=color:#f1fa8c>&#34;v1&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;metadata&#34;</span>: <span style=color:#ff79c6>{}</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;status&#34;</span>: <span style=color:#f1fa8c>&#34;Failure&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;message&#34;</span>: <span style=color:#f1fa8c>&#34;configmaps \&#34;pepr-ssa-demo\&#34; is forbidden: User \&#34;system:serviceaccount:pepr-system:pepr-static-test\&#34; cannot patch resource \&#34;configmaps\&#34; in API group \&#34;\&#34; in the namespace \&#34;pepr-demo-2\&#34;&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;reason&#34;</span>: <span style=color:#f1fa8c>&#34;Forbidden&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;details&#34;</span>: <span style=color:#ff79c6>{</span>
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;name&#34;</span>: <span style=color:#f1fa8c>&#34;pepr-ssa-demo&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;kind&#34;</span>: <span style=color:#f1fa8c>&#34;configmaps&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>}</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;code&#34;</span>: <span style=color:#bd93f9>403</span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>}</span>,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;ok&#34;</span>: false,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;status&#34;</span>: 403,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;statusText&#34;</span>: <span style=color:#f1fa8c>&#34;Forbidden&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f1fa8c>&#34;msg&#34;</span>: <span style=color:#f1fa8c>&#34;Dooes the ServiceAccount permissions to CREATE and PATCH this ConfigMap?&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>}</span>
</span></span></code></pre></div><ol><li>Verify ServiceAccount Permissions with <code>kubectl auth can-i</code></li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>SA</span><span style=color:#ff79c6>=</span><span style=color:#ff79c6>$(</span>kubectl get deploy -n pepr-system -o<span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>jsonpath</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#39;{range .items[0]}{.spec.template.spec.serviceAccountName}{&#34;\n&#34;}{end}&#39;</span><span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># Can i create configmaps as the service account in pepr-demo-2?</span>
</span></span><span style=display:flex><span>kubectl auth can-i create cm --as<span style=color:#ff79c6>=</span>system:serviceaccount:pepr-system:<span style=color:#8be9fd;font-style:italic>$SA</span> -n pepr-demo-2
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># example output: no</span>
</span></span></code></pre></div><ol><li>Describe the ClusterRole</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>SA</span><span style=color:#ff79c6>=</span><span style=color:#ff79c6>$(</span>kubectl get deploy -n pepr-system -o<span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>jsonpath</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#39;{range .items[0]}{.spec.template.spec.serviceAccountName}{&#34;\n&#34;}{end}&#39;</span><span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl describe clusterrole <span style=color:#8be9fd;font-style:italic>$SA</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#6272a4># example output:</span>
</span></span><span style=display:flex><span>Name:         pepr-static-test
</span></span><span style=display:flex><span>Labels:       &lt;none&gt;
</span></span><span style=display:flex><span>Annotations:  &lt;none&gt;
</span></span><span style=display:flex><span>PolicyRule:
</span></span><span style=display:flex><span>  Resources            Non-Resource URLs  Resource Names  Verbs
</span></span><span style=display:flex><span>  ---------            -----------------  --------------  -----
</span></span><span style=display:flex><span>  peprstores.pepr.dev  <span style=color:#ff79c6>[]</span>                 <span style=color:#ff79c6>[]</span>              <span style=color:#ff79c6>[</span>create delete get list patch update watch<span style=color:#ff79c6>]</span>
</span></span><span style=display:flex><span>  configmaps           <span style=color:#ff79c6>[]</span>                 <span style=color:#ff79c6>[]</span>              <span style=color:#ff79c6>[</span>watch<span style=color:#ff79c6>]</span>
</span></span><span style=display:flex><span>  namespaces           <span style=color:#ff79c6>[]</span>                 <span style=color:#ff79c6>[]</span>              <span style=color:#ff79c6>[</span>watch<span style=color:#ff79c6>]</span>
</span></span></code></pre></div><h2 id=updating-the-clusterrole>Updating the ClusterRole</h2><p>As discussed in the <a href=#modes>Modes</a> section, the admission controller&rsquo;s primary mutating or validating action doesn&rsquo;t require a ClusterRole (as the request is not persisted or executed while passing through admission control), if you have a use case where the admission controller&rsquo;s logic involves reading other Kubernetes resources or taking additional actions beyond just validating, mutating, or watching the incoming request, appropriate RBAC settings should be reflected in the ClusterRole.</p><p>Step 1: Figure out the desired permissions. (<code>kubectl create clusterrole --help</code> is a good place to start figuring out the syntax)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span> kubectl create clusterrole configMapApplier --verb<span style=color:#ff79c6>=</span>create,patch --resource<span style=color:#ff79c6>=</span>configmap --dry-run<span style=color:#ff79c6>=</span>client -oyaml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> <span style=color:#6272a4># example output</span>
</span></span><span style=display:flex><span>apiVersion: rbac.authorization.k8s.io/v1
</span></span><span style=display:flex><span>kind: ClusterRole
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span>  creationTimestamp: null
</span></span><span style=display:flex><span>  name: configMapApplier
</span></span><span style=display:flex><span>rules:
</span></span><span style=display:flex><span>- apiGroups:
</span></span><span style=display:flex><span>  - <span style=color:#f1fa8c>&#34;&#34;</span>
</span></span><span style=display:flex><span>  resources:
</span></span><span style=display:flex><span>  - configmaps
</span></span><span style=display:flex><span>  verbs:
</span></span><span style=display:flex><span>  - create
</span></span><span style=display:flex><span>  - patch
</span></span></code></pre></div><p>Step 2: Update the ClusterRole in the <code>dist</code> folder.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yaml data-lang=yaml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#ff79c6>apiVersion</span>: rbac.authorization.k8s.io/v1
</span></span><span style=display:flex><span><span style=color:#ff79c6>kind</span>: ClusterRole
</span></span><span style=display:flex><span><span style=color:#ff79c6>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>name</span>: pepr-static-test
</span></span><span style=display:flex><span><span style=color:#ff79c6>rules</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ff79c6>apiGroups</span>:
</span></span><span style=display:flex><span>      - pepr.dev
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>resources</span>:
</span></span><span style=display:flex><span>      - peprstores
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>verbs</span>:
</span></span><span style=display:flex><span>      - create
</span></span><span style=display:flex><span>      - get
</span></span><span style=display:flex><span>      - patch
</span></span><span style=display:flex><span>      - watch
</span></span><span style=display:flex><span>  - <span style=color:#ff79c6>apiGroups</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f1fa8c>&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>resources</span>:
</span></span><span style=display:flex><span>      - namespaces
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>verbs</span>:
</span></span><span style=display:flex><span>      - watch
</span></span><span style=display:flex><span>  - <span style=color:#ff79c6>apiGroups</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f1fa8c>&#39;&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>resources</span>:
</span></span><span style=display:flex><span>      - configmaps
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>verbs</span>:
</span></span><span style=display:flex><span>      - watch
</span></span><span style=display:flex><span>      - create <span style=color:#6272a4># New</span>
</span></span><span style=display:flex><span>      - patch  <span style=color:#6272a4># New</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Step 3: Apply the updated configuration</p></div><div class=td-content style=page-break-before:always><h1 id=pg-f88781f85fe2020bca7367e84c672a0b>9 -
Metrics Endpoints</h1><p>The <code>/metrics</code> endpoint provides metrics for the application that are collected via the <code>MetricsCollector</code> class. It uses the <code>prom-client</code> library and performance hooks from Node.js to gather and expose the metrics data in a format that can be scraped by Prometheus.</p><h2 id=metrics-exposed>Metrics Exposed</h2><p>The <code>MetricsCollector</code> exposes the following metrics:</p><ul><li><code>pepr_errors</code>: A counter that increments when an error event occurs in the application.</li><li><code>pepr_alerts</code>: A counter that increments when an alert event is triggered in the application.</li><li><code>pepr_Mutate</code>: A summary that provides the observed durations of mutation events in the application.</li><li><code>pepr_Validate</code>: A summary that provides the observed durations of validation events in the application.</li></ul><h2 id=api-details>API Details</h2><p><strong>Method:</strong> GET</p><p><strong>URL:</strong> <code>/metrics</code></p><p><strong>Response Type:</strong> text/plain</p><p><strong>Status Codes:</strong></p><ul><li>200 OK: On success, returns the current metrics from the application.</li></ul><p><strong>Response Body:</strong>
The response body is a plain text representation of the metrics data, according to the Prometheus exposition formats. It includes the metrics mentioned above.</p><h2 id=examples>Examples</h2><h3 id=request>Request</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>GET /metrics
</span></span></code></pre></div><h3 id=response>Response</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>  `# HELP pepr_errors Mutation/Validate errors encountered
</span></span><span style=display:flex><span>  # TYPE pepr_errors counter
</span></span><span style=display:flex><span>  pepr_errors 5
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  # HELP pepr_alerts Mutation/Validate bad api token received
</span></span><span style=display:flex><span>  # TYPE pepr_alerts counter
</span></span><span style=display:flex><span>  pepr_alerts 10
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  # HELP pepr_Mutate Mutation operation summary
</span></span><span style=display:flex><span>  # TYPE pepr_Mutate summary
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.01&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.05&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.5&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.9&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.95&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.99&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate{quantile=&#34;0.999&#34;} 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate_sum 100.60707900021225
</span></span><span style=display:flex><span>  pepr_Mutate_count 1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  # HELP pepr_Validate Validation operation summary
</span></span><span style=display:flex><span>  # TYPE pepr_Validate summary
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.01&#34;} 201.19413900002837
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.05&#34;} 201.19413900002837
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.5&#34;} 201.2137690000236
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.9&#34;} 201.23339900001884
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.95&#34;} 201.23339900001884
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.99&#34;} 201.23339900001884
</span></span><span style=display:flex><span>  pepr_Validate{quantile=&#34;0.999&#34;} 201.23339900001884
</span></span><span style=display:flex><span>  pepr_Validate_sum 402.4275380000472
</span></span><span style=display:flex><span>  pepr_Validate_count 2
</span></span></code></pre></div><h2 id=prometheus-operator>Prometheus Operator</h2><p>If using the Prometheus Operator, the following <code>ServiceMonitor</code> example manifests can be used to scrape the <code>/metrics</code> endpoint for the <code>admission</code> and <code>watcher</code> controllers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#ff79c6>apiVersion</span>: monitoring.coreos.com/v1
</span></span><span style=display:flex><span><span style=color:#ff79c6>kind</span>: ServiceMonitor
</span></span><span style=display:flex><span><span style=color:#ff79c6>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>name</span>: admission
</span></span><span style=display:flex><span><span style=color:#ff79c6>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>pepr.dev/controller</span>: admission
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>namespaceSelector</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>matchNames</span>:
</span></span><span style=display:flex><span>    - pepr-system
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>endpoints</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ff79c6>targetPort</span>: <span style=color:#bd93f9>3000</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>scheme</span>: https
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>tlsConfig</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>insecureSkipVerify</span>: <span style=color:#ff79c6>true</span>
</span></span><span style=display:flex><span>---
</span></span><span style=display:flex><span><span style=color:#ff79c6>apiVersion</span>: monitoring.coreos.com/v1
</span></span><span style=display:flex><span><span style=color:#ff79c6>kind</span>: ServiceMonitor
</span></span><span style=display:flex><span><span style=color:#ff79c6>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>name</span>: watcher
</span></span><span style=display:flex><span><span style=color:#ff79c6>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>selector</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>matchLabels</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>pepr.dev/controller</span>: watcher
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>namespaceSelector</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>matchNames</span>:
</span></span><span style=display:flex><span>    - pepr-system
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>endpoints</span>:
</span></span><span style=display:flex><span>  - <span style=color:#ff79c6>targetPort</span>: <span style=color:#bd93f9>3000</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>scheme</span>: https
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>tlsConfig</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>insecureSkipVerify</span>: <span style=color:#ff79c6>true</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-ba78ecba7dde7e00b64a16b3bfe3d2ab>10 -
WASM Support</h1><p>Pepr fully supports WebAssembly. Depending on the language used to generate the WASM, certain files can be too large to fit into a <code>Secret</code> or <code>ConfigMap</code>. Due to this limitation, users have the ability to incorporate <code>*.wasm</code> and any other essential files during the build phase, which are then embedded into the Pepr Controller container. This is achieved through adding an array of files to the <code>includedFiles</code> section under <code>pepr</code> in the <code>package.json</code>.</p><blockquote><p><strong>NOTE -</strong> In order to instantiate the WebAsembly module in TypeScript, you need the WebAssembly type. This is accomplished through add the &ldquo;DOM&rdquo; to the <code>lib</code> array in the <code>compilerOptions</code> section of the <code>tsconfig.json</code>. Ex: <code>"lib": ["ES2022", "DOM"]</code>. Be aware that adding the DOM will add a lot of extra types to your project and your developer experience will be impacted in terms of the intellisense.</p></blockquote><h2 id=high-level-overview>High-Level Overview</h2><p>WASM support is achieved through adding files as layers atop the Pepr controller image, these files are then able to be read by the individual capabilities. The key components of WASM support are:</p><ul><li>Add files to the <strong>base</strong> of the Pepr module.</li><li>Reference the files in the <code>includedFiles</code> section of the <code>pepr</code> block of the <code>package.json</code></li><li>Run <code>npx pepr build</code> with the <code>-r</code> option specifying registry info. Ex: <code>npx pepr build -r docker.io/cmwylie19</code></li><li>Pepr builds and pushes a custom image that is used in the <code>Deployment</code>.</li></ul><h2 id=using-wasm-support>Using WASM Support</h2><h3 id=creating-a-wasm-module-in-go>Creating a WASM Module in Go</h3><p>Create a simple Go function that you want to call from your Pepr module</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#ff79c6>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>import</span> (
</span></span><span style=display:flex><span> <span style=color:#f1fa8c>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span> <span style=color:#f1fa8c>&#34;syscall/js&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> <span style=color:#50fa7b>concats</span>(this js.Value, args []js.Value) <span style=color:#8be9fd;font-style:italic>interface</span>{} {
</span></span><span style=display:flex><span>    fmt.<span style=color:#50fa7b>Println</span>(<span style=color:#f1fa8c>&#34;PeprWASM!&#34;</span>)
</span></span><span style=display:flex><span> stringOne <span style=color:#ff79c6>:=</span> args[<span style=color:#bd93f9>0</span>].<span style=color:#50fa7b>String</span>()
</span></span><span style=display:flex><span> stringTwo <span style=color:#ff79c6>:=</span> args[<span style=color:#bd93f9>1</span>].<span style=color:#50fa7b>String</span>()
</span></span><span style=display:flex><span> <span style=color:#ff79c6>return</span> fmt.<span style=color:#50fa7b>Sprintf</span>(<span style=color:#f1fa8c>&#34;%s%s&#34;</span>, stringOne, stringTwo)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>func</span> <span style=color:#50fa7b>main</span>() {
</span></span><span style=display:flex><span> done <span style=color:#ff79c6>:=</span> <span style=color:#8be9fd;font-style:italic>make</span>(<span style=color:#8be9fd;font-style:italic>chan</span> <span style=color:#8be9fd;font-style:italic>struct</span>{}, <span style=color:#bd93f9>0</span>)
</span></span><span style=display:flex><span> js.<span style=color:#50fa7b>Global</span>().<span style=color:#50fa7b>Set</span>(<span style=color:#f1fa8c>&#34;concats&#34;</span>, js.<span style=color:#50fa7b>FuncOf</span>(concats))
</span></span><span style=display:flex><span> <span style=color:#ff79c6>&lt;-</span>done
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Compile it to a wasm target and move it to your Pepr module</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>GOOS</span><span style=color:#ff79c6>=</span>js <span style=color:#8be9fd;font-style:italic>GOARCH</span><span style=color:#ff79c6>=</span>wasm go build -o main.wasm
</span></span><span style=display:flex><span>cp main.wasm <span style=color:#8be9fd;font-style:italic>$YOUR_PEPR_MODULE</span>/
</span></span></code></pre></div><p>Copy the <code>wasm_exec.js</code> from <code>GOROOT</code> to your Pepr Module</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>cp <span style=color:#f1fa8c>&#34;</span><span style=color:#ff79c6>$(</span>go env GOROOT<span style=color:#ff79c6>)</span><span style=color:#f1fa8c>/misc/wasm/wasm_exec.js&#34;</span> <span style=color:#8be9fd;font-style:italic>$YOUR_PEPR_MODULE</span>/
</span></span></code></pre></div><p>Update the polyfill to add <code>globalThis.crypto</code> in the <code>wasm_exec.js</code> since we are not running in the browser. This is needed directly under: <code>(() => {</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#6272a4>// Initialize the polyfill
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>if</span> (<span style=color:#ff79c6>typeof</span> globalThis.crypto <span style=color:#ff79c6>===</span> <span style=color:#f1fa8c>&#39;undefined&#39;</span>) {
</span></span><span style=display:flex><span>    globalThis.crypto <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span>        getRandomValues<span style=color:#ff79c6>:</span> (array) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>for</span> (<span style=color:#8be9fd;font-style:italic>let</span> i <span style=color:#ff79c6>=</span> <span style=color:#bd93f9>0</span>; i <span style=color:#ff79c6>&lt;</span> array.length; i<span style=color:#ff79c6>++</span>) {
</span></span><span style=display:flex><span>            array[i] <span style=color:#ff79c6>=</span> <span style=color:#8be9fd;font-style:italic>Math</span>.floor(<span style=color:#8be9fd;font-style:italic>Math</span>.random() <span style=color:#ff79c6>*</span> <span style=color:#bd93f9>256</span>);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    };
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=configure-pepr-to-use-wasm>Configure Pepr to use WASM</h3><p>After adding the files to the root of the Pepr module, reference those files in the <code>package.json</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;name&#34;</span>: <span style=color:#f1fa8c>&#34;pepr-test-module&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;version&#34;</span>: <span style=color:#f1fa8c>&#34;0.0.1&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;description&#34;</span>: <span style=color:#f1fa8c>&#34;A test module for Pepr&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;keywords&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;pepr&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;k8s&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;policy-engine&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;pepr-module&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;security&#34;</span>
</span></span><span style=display:flex><span>  ],
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;engines&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;node&#34;</span>: <span style=color:#f1fa8c>&#34;&gt;=18.0.0&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;pepr&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;name&#34;</span>: <span style=color:#f1fa8c>&#34;pepr-test-module&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;uuid&#34;</span>: <span style=color:#f1fa8c>&#34;static-test&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;onError&#34;</span>: <span style=color:#f1fa8c>&#34;ignore&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;alwaysIgnore&#34;</span>: {
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#34;namespaces&#34;</span>: [],
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>&#34;labels&#34;</span>: []
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;includedFiles&#34;</span>:[
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;main.wasm&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;wasm_exec.js&#34;</span>
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Update the <code>tsconfig.json</code> to add &ldquo;DOM&rdquo; to the <code>compilerOptions</code> lib:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;compilerOptions&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;allowSyntheticDefaultImports&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;declaration&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;declarationMap&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;emitDeclarationOnly&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;esModuleInterop&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;lib&#34;</span>: [
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;ES2022&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f1fa8c>&#34;DOM&#34;</span> <span style=color:#6272a4>// &lt;- Add this
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span>    ],
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;module&#34;</span>: <span style=color:#f1fa8c>&#34;CommonJS&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;moduleResolution&#34;</span>: <span style=color:#f1fa8c>&#34;node&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;outDir&#34;</span>: <span style=color:#f1fa8c>&#34;dist&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;resolveJsonModule&#34;</span>: <span style=color:#ff79c6>true</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;rootDir&#34;</span>: <span style=color:#f1fa8c>&#34;.&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;strict&#34;</span>: <span style=color:#ff79c6>false</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;target&#34;</span>: <span style=color:#f1fa8c>&#34;ES2022&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&#34;useUnknownInCatchVariables&#34;</span>: <span style=color:#ff79c6>false</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>&#34;include&#34;</span>: [
</span></span><span style=display:flex><span>    <span style=color:#f1fa8c>&#34;**/*.ts&#34;</span>
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=call-wasm-functions-from-typescript>Call WASM functions from TypeScript</h3><p>Import the <code>wasm_exec.js</code> in the <code>pepr.ts</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#ff79c6>import</span> <span style=color:#f1fa8c>&#34;./wasm_exec.js&#34;</span>;
</span></span></code></pre></div><p>Create a helper function to load the wasm file in a capability and call it during an event of your choice</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#ff79c6>async</span> <span style=color:#8be9fd;font-style:italic>function</span> callWASM(a,b) {
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>const</span> go <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>new</span> globalThis.Go();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>const</span> wasmData <span style=color:#ff79c6>=</span> readFileSync(<span style=color:#f1fa8c>&#34;main.wasm&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#8be9fd;font-style:italic>var</span> concated: <span style=color:#8be9fd>string</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>await</span> WebAssembly.instantiate(wasmData, go.importObject).then(wasmModule <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>    go.run(wasmModule.instance);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    concated <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>global</span>.concats(a,b);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>return</span> concated;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>When(a.Pod)
</span></span><span style=display:flex><span>.IsCreated()
</span></span><span style=display:flex><span>.Mutate(<span style=color:#ff79c6>async</span> pod <span style=color:#ff79c6>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>try</span> {
</span></span><span style=display:flex><span>    <span style=color:#8be9fd;font-style:italic>let</span> label_value <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>await</span> callWASM(<span style=color:#f1fa8c>&#34;loves&#34;</span>,<span style=color:#f1fa8c>&#34;wasm&#34;</span>)
</span></span><span style=display:flex><span>    pod.SetLabel(<span style=color:#f1fa8c>&#34;pepr&#34;</span>,label_value)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>catch</span>(err) {
</span></span><span style=display:flex><span>    Log.error(err);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><h3 id=run-pepr-build>Run Pepr Build</h3><p>Build your Pepr module with the registry specified.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>npx pepr build -r docker.io/defenseunicorns
</span></span></code></pre></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__copyright-etc col-12 text-center py-2 order-sm-2"><span>&copy; 2024
Defense Unicorns
All Rights Reserved</span><div class=socials-footer><div class=socials-footer-item data-bs-toggle=tooltip aria-label=GitHub><a class="svg-link nav-link" target=_blank rel=noopener href=https://github.com/defenseunicorns/pepr-docs aria-label=GitHub><i class="fa-brands fa-github"></i></a></div></div></div></div></div></footer></main></div></div></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js integrity="sha512-ku2nmBrzAXY5YwohzTqLYH1/lvyMrpTVxgQKrvTabd/b/uesqltLORdmpVapYv6QhZVCLUX6wkvFaKOAY4xpUA==" crossorigin=anonymous></script>
<script src=/js/main.min.4176ef857aa7b041fc2591961c319895e6fc405b6d06df80280a3e071e1c2543.js integrity="sha256-QXbvhXqnsEH8JZGWHDGYleb8QFttBt+AKAo+Bx4cJUM=" crossorigin=anonymous></script>
<script defer src=/js/click-to-copy.min.f724d3de49218995223b7316aa2e53e2b34bf42026bf399ebb21bb02212402d1.js integrity="sha256-9yTT3kkhiZUiO3MWqi5T4rNL9CAmvzmeuyG7AiEkAtE=" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script></body></html>