const b="modulepreload",v=function(f){return"/"+f},y={},E=function(o,i,l){let u=Promise.resolve();if(i&&i.length>0){let s=function(n){return Promise.all(n.map(r=>Promise.resolve(r).then(a=>({status:"fulfilled",value:a}),a=>({status:"rejected",reason:a}))))};document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),m=t?.nonce||t?.getAttribute("nonce");u=s(i.map(n=>{if(n=v(n),n in y)return;y[n]=!0;const r=n.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const e=document.createElement("link");if(e.rel=r?"stylesheet":b,r||(e.as="script"),e.crossOrigin="",e.href=n,m&&e.setAttribute("nonce",m),document.head.appendChild(e),r)return new Promise((c,g)=>{e.addEventListener("load",c),e.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})}))}function h(s){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=s,window.dispatchEvent(t),!t.defaultPrevented)throw s}return u.then(s=>{for(const t of s||[])t.status==="rejected"&&h(t.reason);return o().catch(h)})};class S extends HTMLElement{constructor(){super();const o=this.querySelector("button[data-open-modal]"),i=this.querySelector("button[data-close-modal]"),l=this.querySelector("dialog"),u=this.querySelector(".dialog-frame");if(!o||!i||!l||!u)return;const h=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!u.contains(e.target))&&t()},s=e=>{l.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),e?.stopPropagation(),globalThis.addEventListener("click",h)},t=()=>l.close();o.addEventListener("click",s),o.disabled=!1,i.addEventListener("click",t),l.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),globalThis.removeEventListener("click",h)}),globalThis.addEventListener("keydown",e=>{(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"&&(l.open?t():s(),e.preventDefault())});let m={};try{m=JSON.parse(this.dataset.translations||"{}")}catch{}const r=this.dataset.stripTrailingSlash!==void 0?this.stripTrailingSlash:e=>e,a=this.dataset.version??"current";globalThis.addEventListener("DOMContentLoaded",()=>{(globalThis.requestIdleCallback||(c=>setTimeout(c,1)))(async()=>{const{PagefindUI:c}=await E(async()=>{const{PagefindUI:d}=await import("./ui-core.j7kM6_s0.js");return{PagefindUI:d}},[]);new c({element:"#starlight__search",baseUrl:"/",bundlePath:`${"/".replace(/\/$/,"")}/pagefind/`,showImages:!1,translations:m,showSubResults:!0,processResult:d=>{d.url=r(d.url),d.sub_results=d.sub_results.map(p=>(p.url=r(p.url),p))}}).triggerFilters({version:[a]})})})}stripTrailingSlash(o){return o.replace(/(.)\/(#.*)?$/,"$1$2")}}customElements.define("site-search",S);export{E as _};
